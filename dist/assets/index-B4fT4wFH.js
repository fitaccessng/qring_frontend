import{r as l,a as Qt,L as u,u as wt,b as te,c as Ge,N as Me,d as Te,e as be,O as Nt,B as _t,R as Ht,f as $,g as Bt}from"./router-DcMusYyV.js";import{i as Ut,g as Ft,s as Vt,b as zt,G as Wt,a as yt}from"./firebase-CdJF-HnM.js";import{l as Je}from"./socket-CyTcV1HU.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();var vt={exports:{}},Le={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gt=l,Jt=Symbol.for("react.element"),Yt=Symbol.for("react.fragment"),Kt=Object.prototype.hasOwnProperty,Zt=Gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Xt={key:!0,ref:!0,__self:!0,__source:!0};function St(t,a,s){var r,n={},i=null,o=null;s!==void 0&&(i=""+s),a.key!==void 0&&(i=""+a.key),a.ref!==void 0&&(o=a.ref);for(r in a)Kt.call(a,r)&&!Xt.hasOwnProperty(r)&&(n[r]=a[r]);if(t&&t.defaultProps)for(r in a=t.defaultProps,a)n[r]===void 0&&(n[r]=a[r]);return{$$typeof:Jt,type:t,key:i,ref:o,props:n,_owner:Zt.current}}Le.Fragment=Yt;Le.jsx=St;Le.jsxs=St;vt.exports=Le;var e=vt.exports,We={},Ze=Qt;We.createRoot=Ze.createRoot,We.hydrateRoot=Ze.hydrateRoot;const Ct=l.createContext(null);function es({children:t}){const[a,s]=l.useState(()=>localStorage.getItem("qring_theme")??"light");l.useEffect(()=>{document.documentElement.classList.toggle("dark",a==="dark"),localStorage.setItem("qring_theme",a)},[a]);const r=l.useMemo(()=>({theme:a,isDark:a==="dark",toggleTheme:()=>s(n=>n==="dark"?"light":"dark")}),[a]);return e.jsx(Ct.Provider,{value:r,children:t})}function Z(){const t=l.useContext(Ct);if(!t)throw new Error("useTheme must be used inside ThemeProvider");return t}function ae(){const t=l.useRef(null),[a,s]=l.useState(!1);return l.useEffect(()=>{if(!t.current)return;const r=new IntersectionObserver(([n])=>s(n.isIntersecting),{threshold:.2});return r.observe(t.current),()=>r.disconnect()},[]),{ref:t,visible:a}}function J({className:t="",tone:a="dark",alt:s="Qring"}){const[r,n]=l.useState(!1),i=a==="light"?"invert":"";return r?e.jsx("span",{"aria-label":s,className:`grid place-items-center rounded-md bg-slate-900 text-white ${t}`,children:"Q"}):e.jsx("img",{src:"/qring_logo.png",alt:s,className:`${i} ${t}`,onError:()=>n(!0),draggable:!1})}const Xe=t=>(t==null?void 0:t.replace(/\/+$/,""))??"",ts=typeof window<"u"?`${window.location.protocol}//${window.location.hostname}:8000/api/v1`:"http://localhost:8000/api/v1",ss=typeof window<"u"?`${window.location.protocol}//${window.location.hostname}:8000`:"http://localhost:8000",ee={apiBaseUrl:Xe(ts),socketUrl:Xe(ss),socketPath:"/socket.io",dashboardNamespace:"/realtime/dashboard",signalingNamespace:"/realtime/signaling"};class ne extends Error{constructor(a,s,r){super(a),this.name="ApiError",this.status=s,this.payload=r}}let xe=null;async function as(){if(xe)return xe;const t=localStorage.getItem("qring_refresh_token");if(!t)return null;xe=(async()=>{const a=await fetch(`${ee.apiBaseUrl}/auth/refresh-token`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refreshToken:t})}),s=await a.text();let r=null;if(s)try{r=JSON.parse(s)}catch{r={raw:s}}if(!a.ok)return null;const n=(r==null?void 0:r.data)??r;return n!=null&&n.accessToken?(localStorage.setItem("qring_access_token",n.accessToken),n!=null&&n.refreshToken&&localStorage.setItem("qring_refresh_token",n.refreshToken),n.accessToken):null})();try{return await xe}finally{xe=null}}function rs(){localStorage.removeItem("qring_access_token"),localStorage.removeItem("qring_refresh_token"),localStorage.removeItem("qring_user")}async function T(t,a={},s=0){const r=localStorage.getItem("qring_access_token"),n={"Content-Type":"application/json",...a.headers??{}};r&&(n.Authorization=`Bearer ${r}`);const i=await fetch(`${ee.apiBaseUrl}${t}`,{...a,headers:n}),o=await i.text();let j=null;if(o)try{j=JSON.parse(o)}catch{j={raw:o}}if(!i.ok){if(i.status===401&&s===0){if(await as())return T(t,a,1);rs()}throw new ne((j==null?void 0:j.message)??(j==null?void 0:j.detail)??`Request failed (${i.status})`,i.status,j)}return j}async function ls(){const t=await T("/payment/subscription/me");return(t==null?void 0:t.data)??null}async function Pt(){const t=await T("/payment/plans");return Array.isArray(t==null?void 0:t.data)?t.data:[]}async function ns(){const t=await T("/payment/purposes");return Array.isArray(t==null?void 0:t.data)?t.data:[]}async function os(t){const a=await T("/payment/subscription/request",{method:"POST",body:JSON.stringify({plan:t})});return(a==null?void 0:a.data)??null}async function is(t,a){const s=await T("/payment/paystack/initialize",{method:"POST",body:JSON.stringify({plan:t,callbackUrl:a})});return(s==null?void 0:s.data)??null}async function ds(t){const a=await T(`/payment/paystack/verify/${encodeURIComponent(t)}`);return(a==null?void 0:a.data)??null}const et=[{title:"Home",href:"/"},{title:"About",href:"/about"},{title:"Pricing",href:"/pricing"},{title:"Contact",href:"/contact"}],me=[{name:"Aisha Mohammed",role:"Estate Manager, Lekki Gardens",quote:"Reduced unauthorized entries by 87%. Our residents feel safer and love the convenience."},{name:"Chukwudi Okafor",role:"Homeowner, Abuja",quote:"No more missed deliveries. I approve visitors from anywhere, anytime. Game changer."},{name:"Jennifer Adebayo",role:"Property Developer",quote:"Deployed across 15 properties. The ROI is undeniable and tenants now expect this."}];function cs(){const{isDark:t,toggleTheme:a}=Z(),[s,r]=l.useState("monthly"),[n,i]=l.useState(0),[o,j]=l.useState(!1),[w,p]=l.useState([]),[c,x]=l.useState(""),d=ae(),b=ae(),m=ae(),N=ae(),v=ae();ae(),ae();const R=ae();return l.useEffect(()=>{const f=setInterval(()=>{i(A=>(A+1)%me.length)},5e3);return()=>clearInterval(f)},[]),l.useEffect(()=>{let f=!0;async function A(){x("");try{const g=await Pt();if(!f)return;const L=xs(g);p(L)}catch(g){if(!f)return;p([]),x((g==null?void 0:g.message)??"Unable to load pricing plans.")}}return A(),()=>{f=!1}},[]),e.jsxs("div",{className:"min-h-screen bg-white text-slate-900 dark:bg-slate-950 dark:text-slate-100",children:[e.jsxs("header",{className:"sticky top-0 z-50 border-b border-slate-200 bg-white/95 backdrop-blur-sm dark:border-slate-800 dark:bg-slate-950/95",children:[e.jsxs("nav",{className:"mx-auto flex w-full max-w-7xl items-center justify-between px-4 py-4 sm:px-6 lg:px-10",children:[e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-slate-900 sm:h-12 sm:w-12 dark:bg-white",children:e.jsx(J,{tone:"light",className:"h-6 w-6 sm:h-7 sm:w-7 dark:invert-0"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-black tracking-tight sm:text-2xl",children:"Qring"}),e.jsx("p",{className:"text-[10px] font-medium uppercase tracking-wider text-slate-500",children:"Smart Access Control"})]})]}),e.jsx("div",{className:"hidden items-center gap-8 md:flex lg:gap-10",children:et.map(f=>e.jsx(u,{to:f.href,className:"text-sm font-semibold text-slate-600 transition hover:text-slate-900 dark:text-slate-300 dark:hover:text-white",children:f.title},f.href))}),e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsx("button",{type:"button",onClick:a,className:"rounded-lg border border-slate-200 px-3 py-2 text-xs font-semibold text-slate-700 transition hover:bg-slate-50 sm:px-4 sm:text-sm dark:border-slate-700 dark:text-slate-200 dark:hover:bg-slate-900",children:t?"Light":"Dark"}),e.jsx(u,{to:"/login",className:"hidden rounded-lg bg-slate-900 px-4 py-2 text-xs font-semibold text-white transition hover:bg-slate-800 sm:px-6 sm:text-sm sm:inline-block dark:bg-white dark:text-slate-900 dark:hover:bg-slate-200",children:"Login"}),e.jsx("button",{type:"button",onClick:()=>j(!o),className:"md:hidden rounded-lg border border-slate-200 px-3 py-2 text-slate-700 transition hover:bg-slate-50 dark:border-slate-700 dark:text-slate-200 dark:hover:bg-slate-900",children:e.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:o?"M6 18L18 6M6 6l12 12":"M4 6h16M4 12h16M4 18h16"})})})]})]}),o&&e.jsx("div",{className:"border-t border-slate-200 bg-white dark:border-slate-800 dark:bg-slate-900 md:hidden",children:e.jsxs("div",{className:"space-y-1 px-4 py-4 sm:px-6",children:[et.map(f=>e.jsx(u,{to:f.href,onClick:()=>j(!1),className:"block rounded-lg px-3 py-2 text-base font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white",children:f.title},f.href)),e.jsx(u,{to:"/login",onClick:()=>j(!1),className:"block rounded-lg bg-slate-900 px-3 py-2 text-base font-semibold text-white transition hover:bg-slate-800 dark:bg-white dark:text-slate-900 dark:hover:bg-slate-200",children:"Login"})]})})]}),e.jsxs("main",{children:[e.jsx("section",{ref:d.ref,className:`mx-auto w-full max-w-7xl px-4 py-12 transition-all duration-700 sm:px-6 sm:py-16 lg:px-10 lg:py-24 ${d.visible?"translate-y-0 opacity-100":"translate-y-8 opacity-0"}`,children:e.jsxs("div",{className:"grid gap-10 lg:grid-cols-2 lg:gap-14 xl:gap-20",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full border border-slate-200 bg-slate-50 px-3 py-2 dark:border-slate-700 dark:bg-slate-900",children:[e.jsxs("span",{className:"relative flex h-2 w-2",children:[e.jsx("span",{className:"absolute inline-flex h-2 w-2 animate-ping rounded-full bg-slate-400"}),e.jsx("span",{className:"relative inline-flex h-2 w-2 rounded-full bg-slate-900 dark:bg-white"})]}),e.jsx("span",{className:"text-[11px] font-semibold uppercase tracking-wider text-slate-700 dark:text-slate-200",children:"Live System"})]}),e.jsxs("h2",{className:"mt-6 text-4xl font-black leading-tight tracking-tight sm:text-5xl lg:mt-8 lg:text-6xl xl:text-7xl",children:["Modern Door",e.jsx("br",{}),"Access Control"]}),e.jsx("p",{className:"mt-5 text-base leading-relaxed text-slate-600 sm:text-lg lg:mt-6 lg:text-xl dark:text-slate-300",children:"Qring replaces outdated doorbells with QR-powered realtime communication, visitor verification, and secure video sessions."}),e.jsxs("div",{className:"mt-8 flex flex-wrap gap-3 sm:gap-4 lg:mt-10",children:[e.jsx(u,{to:"/signup",className:"rounded-lg bg-slate-900 px-6 py-3 text-sm font-semibold text-white transition hover:bg-slate-800 sm:px-8 sm:py-4 dark:bg-white dark:text-slate-900 dark:hover:bg-slate-200",children:"Start Free Trial"}),e.jsx(u,{to:"/contact",className:"rounded-lg border border-slate-200 bg-white px-6 py-3 text-sm font-semibold text-slate-900 transition hover:bg-slate-50 sm:px-8 sm:py-4 dark:border-slate-700 dark:bg-slate-950 dark:text-slate-100 dark:hover:bg-slate-900",children:"Book Demo"})]}),e.jsxs("div",{className:"mt-10 grid grid-cols-3 gap-4 sm:gap-6 lg:mt-12",children:[e.jsx(Qe,{value:"99.9%",label:"Uptime"}),e.jsx(Qe,{value:"<1s",label:"Response"}),e.jsx(Qe,{value:"24/7",label:"Support"})]})]}),e.jsx("div",{className:"relative",children:e.jsxs("div",{className:"overflow-hidden rounded-2xl border border-slate-200 bg-white shadow-xl dark:border-slate-700 dark:bg-slate-900",children:[e.jsx("div",{className:"border-b border-slate-200 bg-slate-50 p-4 dark:border-slate-700 dark:bg-slate-800",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-3 w-3 rounded-full bg-slate-300 dark:bg-slate-500"}),e.jsx("div",{className:"h-3 w-3 rounded-full bg-slate-300 dark:bg-slate-500"}),e.jsx("div",{className:"h-3 w-3 rounded-full bg-slate-300 dark:bg-slate-500"}),e.jsx("span",{className:"ml-auto text-xs font-semibold text-slate-600 dark:text-slate-300",children:"Live Activity"})]})}),e.jsxs("div",{className:"p-4 sm:p-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(fe,{title:"Visitor request at Gate A",time:"Just now",status:"active"}),e.jsx(fe,{title:"Access approved",time:"2m ago",status:"success"}),e.jsx(fe,{title:"Video call established",time:"4m ago",status:"complete"}),e.jsx(fe,{title:"Session ended",time:"8m ago",status:"complete"})]}),e.jsxs("div",{className:"mt-5 rounded-lg border border-slate-200 bg-slate-50 p-4 dark:border-slate-700 dark:bg-slate-800",children:[e.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[e.jsx("span",{className:"text-xs font-semibold uppercase tracking-wider text-slate-600 dark:text-slate-300",children:"Today's Activity"}),e.jsx("span",{className:"text-sm font-bold",children:"+12%"})]}),e.jsx("div",{className:"h-2 overflow-hidden rounded-full bg-slate-200 dark:bg-slate-700",children:e.jsx("div",{className:"h-full w-3/4 bg-slate-900 dark:bg-white"})})]})]})]})})]})}),e.jsx("section",{ref:b.ref,className:`border-y border-slate-200 bg-slate-50 py-12 transition-all duration-700 sm:py-16 lg:py-20 dark:border-slate-800 dark:bg-slate-900/40 ${b.visible?"translate-y-0 opacity-100":"translate-y-8 opacity-0"}`,children:e.jsxs("div",{className:"mx-auto w-full max-w-7xl px-4 sm:px-6 lg:px-10",children:[e.jsxs("div",{className:"mb-10 text-center sm:mb-12 lg:mb-16",children:[e.jsx("span",{className:"text-xs font-semibold uppercase tracking-wider text-slate-600 dark:text-slate-300",children:"Features"}),e.jsx("h2",{className:"mt-3 text-3xl font-black tracking-tight sm:text-4xl lg:mt-4 lg:text-5xl",children:"Everything You Need"})]}),e.jsxs("div",{className:"grid gap-4 sm:gap-6 md:grid-cols-2 lg:grid-cols-3",children:[e.jsx(oe,{icon:"Alert",title:"Instant Notifications",description:"Get realtime alerts the moment someone scans your QR code."}),e.jsx(oe,{icon:"Route",title:"Smart Routing",description:"Automatically direct visitors to the right person and door."}),e.jsx(oe,{icon:"Secure",title:"Strong Security",description:"JWT auth, encrypted sessions, and strict permission controls."}),e.jsx(oe,{icon:"Web",title:"No App Required",description:"Visitors use their browser with zero friction."}),e.jsx(oe,{icon:"Call",title:"HD Video Calls",description:"Reliable WebRTC video and audio visitor sessions."}),e.jsx(oe,{icon:"Logs",title:"Complete Analytics",description:"Track visitor patterns and security events over time."})]})]})}),e.jsxs("section",{ref:m.ref,className:`mx-auto w-full max-w-7xl px-4 py-12 transition-all duration-700 sm:px-6 sm:py-16 lg:px-10 lg:py-20 ${m.visible?"translate-y-0 opacity-100":"translate-y-8 opacity-0"}`,children:[e.jsxs("div",{className:"mb-10 text-center sm:mb-12 lg:mb-16",children:[e.jsx("span",{className:"text-xs font-semibold uppercase tracking-wider text-slate-600 dark:text-slate-300",children:"Process"}),e.jsx("h2",{className:"mt-3 text-3xl font-black tracking-tight sm:text-4xl lg:mt-4 lg:text-5xl",children:"How It Works"})]}),e.jsxs("div",{className:"grid gap-6 sm:gap-8 md:grid-cols-2 lg:grid-cols-4",children:[e.jsx(je,{number:"01",title:"Visitor Scans",description:"Visitor scans a unique QR code at the entry point."}),e.jsx(je,{number:"02",title:"System Validates",description:"Backend verifies code and checks routing permissions."}),e.jsx(je,{number:"03",title:"You Approve",description:"You receive an alert and approve or deny the request."}),e.jsx(je,{number:"04",title:"Access Granted",description:"Secure chat, voice, or video session opens immediately."})]})]}),e.jsx("section",{ref:N.ref,className:`border-y border-slate-200 bg-slate-50 py-12 transition-all duration-700 sm:py-16 lg:py-20 dark:border-slate-800 dark:bg-slate-900/40 ${N.visible?"translate-y-0 opacity-100":"translate-y-8 opacity-0"}`,children:e.jsxs("div",{className:"mx-auto w-full max-w-7xl px-4 sm:px-6 lg:px-10",children:[e.jsxs("div",{className:"mb-10 text-center sm:mb-12",children:[e.jsx("span",{className:"text-xs font-semibold uppercase tracking-wider text-slate-600 dark:text-slate-300",children:"Platform Statistics"}),e.jsx("h3",{className:"mt-3 text-3xl font-black tracking-tight sm:text-4xl lg:mt-4",children:"Trusted Worldwide"})]}),e.jsxs("div",{className:"grid gap-4 sm:gap-6 md:grid-cols-2 lg:grid-cols-4",children:[e.jsx(ke,{value:"24,000+",label:"Active Users"}),e.jsx(ke,{value:"1.2M",label:"Monthly Scans"}),e.jsx(ke,{value:"94%",label:"Approval Rate"}),e.jsx(ke,{value:"<1s",label:"Avg Response"})]})]})}),e.jsxs("section",{ref:v.ref,className:`mx-auto w-full max-w-7xl px-4 py-12 transition-all duration-700 sm:px-6 sm:py-16 lg:px-10 lg:py-20 ${v.visible?"translate-y-0 opacity-100":"translate-y-8 opacity-0"}`,children:[e.jsxs("div",{className:"mb-10 text-center sm:mb-12",children:[e.jsx("span",{className:"text-xs font-semibold uppercase tracking-wider text-slate-600 dark:text-slate-300",children:"Testimonials"}),e.jsx("h3",{className:"mt-3 text-3xl font-black tracking-tight sm:text-4xl lg:mt-4",children:"What Our Users Say"})]}),e.jsxs("div",{className:"overflow-hidden rounded-2xl border border-slate-200 bg-white p-6 shadow-lg sm:p-8 lg:p-12 dark:border-slate-700 dark:bg-slate-900",children:[e.jsxs("div",{className:"mx-auto max-w-3xl text-center",children:[e.jsxs("p",{className:"text-lg font-medium leading-relaxed text-slate-700 sm:text-xl lg:text-2xl dark:text-slate-200",children:['"',me[n].quote,'"']}),e.jsxs("div",{className:"mt-6 sm:mt-8",children:[e.jsx("p",{className:"text-lg font-bold sm:text-xl",children:me[n].name}),e.jsx("p",{className:"mt-1 text-sm font-medium text-slate-600 dark:text-slate-300",children:me[n].role})]})]}),e.jsx("div",{className:"mt-8 flex justify-center gap-2 sm:mt-10",children:me.map((f,A)=>e.jsx("button",{type:"button",onClick:()=>i(A),className:`h-2 rounded-full transition-all ${A===n?"w-8 bg-slate-900 dark:bg-white":"w-2 bg-slate-300 dark:bg-slate-600"}`},A))})]})]}),e.jsx("section",{ref:R.ref,className:`border-y border-slate-200 bg-slate-900 py-12 transition-all duration-700 sm:py-16 lg:py-20 dark:border-slate-800 ${R.visible?"translate-y-0 opacity-100":"translate-y-8 opacity-0"}`,children:e.jsxs("div",{className:"mx-auto w-full max-w-4xl px-4 text-center sm:px-6",children:[e.jsx("h2",{className:"text-3xl font-black tracking-tight text-white sm:text-4xl lg:text-5xl",children:"Ready To Get Started?"}),e.jsx("p",{className:"mt-4 text-base text-slate-300 sm:mt-6 sm:text-xl",children:"Join thousands using Qring. Start your free trial today with no credit card required."}),e.jsxs("div",{className:"mt-8 flex flex-wrap justify-center gap-3 sm:mt-10 sm:gap-4",children:[e.jsx(u,{to:"/signup",className:"rounded-lg bg-white px-6 py-3 text-sm font-semibold text-slate-900 transition hover:bg-slate-100 sm:px-10 sm:py-4",children:"Start Free Trial"}),e.jsx(u,{to:"/contact",className:"rounded-lg border border-slate-700 bg-transparent px-6 py-3 text-sm font-semibold text-white transition hover:bg-slate-800 sm:px-10 sm:py-4",children:"Contact Sales"})]}),e.jsxs("div",{className:"mt-6 flex flex-wrap justify-center gap-4 text-xs text-slate-400 sm:mt-8 sm:gap-6 sm:text-sm",children:[e.jsx("span",{children:"14-day free trial"}),e.jsx("span",{children:"No credit card needed"}),e.jsx("span",{children:"Cancel anytime"})]})]})})]}),e.jsx("footer",{className:"border-t border-slate-200 bg-white py-10 sm:py-12 dark:border-slate-800 dark:bg-slate-950",children:e.jsxs("div",{className:"mx-auto w-full max-w-7xl px-4 sm:px-6 lg:px-10",children:[e.jsxs("div",{className:"grid gap-8 sm:gap-10 md:grid-cols-2 lg:grid-cols-4 lg:gap-12",children:[e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center gap-3",children:e.jsx("span",{className:"text-xl font-black",children:"Qring"})}),e.jsx("p",{className:"mt-4 text-sm text-slate-600 dark:text-slate-300",children:"Modern door access control for homes and estates."})]}),e.jsx(Oe,{title:"Product",links:[{to:"/platform",label:"Platform"},{to:"/pricing",label:"Pricing"},{to:"/security",label:"Security"},{to:"/api-docs",label:"API Docs"}]}),e.jsx(Oe,{title:"Company",links:[{to:"/about",label:"About"},{to:"/blog",label:"Blog"},{to:"/careers",label:"Careers"},{to:"/contact",label:"Contact"}]}),e.jsx(Oe,{title:"Legal",links:[{to:"/privacy",label:"Privacy"},{to:"/terms",label:"Terms"},{to:"/compliance",label:"Compliance"}]})]}),e.jsxs("div",{className:"mt-10 border-t border-slate-200 pt-6 text-center text-sm text-slate-600 dark:border-slate-800 dark:text-slate-300",children:[e.jsx("p",{children:"2026 Qring Technologies. All rights reserved."}),e.jsx("p",{className:"mt-1",children:"techspareng.online"})]})]})})]})}function Oe({title:t,links:a}){return e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold uppercase tracking-wider",children:t}),e.jsx("ul",{className:"mt-4 space-y-2 text-sm",children:a.map(s=>e.jsx("li",{children:e.jsx(u,{to:s.to,className:"text-slate-600 transition hover:text-slate-900 dark:text-slate-300 dark:hover:text-white",children:s.label})},s.label))})]})}function Qe({value:t,label:a}){return e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-black sm:text-3xl",children:t}),e.jsx("p",{className:"mt-1 text-[11px] font-semibold uppercase tracking-wider text-slate-600 dark:text-slate-300",children:a})]})}function fe({title:t,time:a,status:s}){const r={active:"border-slate-900 bg-slate-50 dark:border-slate-400 dark:bg-slate-800",success:"border-slate-300 bg-white dark:border-slate-700 dark:bg-slate-900",complete:"border-slate-200 bg-white dark:border-slate-700 dark:bg-slate-900"};return e.jsxs("div",{className:`flex items-center justify-between rounded-lg border p-3 ${r[s]}`,children:[e.jsx("p",{className:"text-sm font-semibold",children:t}),e.jsx("span",{className:"text-xs font-medium text-slate-600 dark:text-slate-300",children:a})]})}function oe({icon:t,title:a,description:s}){return e.jsxs("article",{className:"rounded-xl border border-slate-200 bg-white p-6 transition hover:shadow-lg sm:p-8 dark:border-slate-700 dark:bg-slate-900",children:[e.jsx("div",{className:"mb-4 inline-flex rounded-md border border-slate-200 bg-slate-50 px-2 py-1 text-xs font-semibold uppercase tracking-wider dark:border-slate-700 dark:bg-slate-800",children:t}),e.jsx("h4",{className:"text-xl font-bold",children:a}),e.jsx("p",{className:"mt-3 text-sm leading-relaxed text-slate-600 dark:text-slate-300",children:s})]})}function je({number:t,title:a,description:s}){return e.jsxs("article",{className:"rounded-xl border border-slate-200 bg-white p-6 text-center dark:border-slate-700 dark:bg-slate-900",children:[e.jsx("div",{className:"mx-auto mb-4 flex h-12 w-12 items-center justify-center rounded-full border-2 border-slate-900 bg-white dark:border-white dark:bg-slate-900",children:e.jsx("span",{className:"text-sm font-black sm:text-base",children:t})}),e.jsx("h4",{className:"text-lg font-bold",children:a}),e.jsx("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-300",children:s})]})}function ke({value:t,label:a}){return e.jsxs("article",{className:"rounded-xl border border-slate-200 bg-white p-6 text-center sm:p-8 dark:border-slate-700 dark:bg-slate-900",children:[e.jsx("p",{className:"text-3xl font-black sm:text-4xl",children:t}),e.jsx("p",{className:"mt-2 text-sm font-semibold uppercase tracking-wider text-slate-600 dark:text-slate-300",children:a})]})}function xs(t){var i;const r=(Array.isArray(t)?t:[]).filter(o=>o&&o.active!==!1).map(o=>{const j=Number(o.amount||0),w=j*12,p=o.maxDoors??null,c=o.maxQrCodes??null,x=[];return typeof p=="number"&&x.push(`Up to ${p} doors`),typeof c=="number"&&x.push(`Up to ${c} QR codes`),{id:o.id,name:o.name??o.id,monthly:j,yearly:w,note:x.length?x.join(" • "):"Flexible access control plan",highlight:!1}}),n=r.some(o=>o.id==="doors_40")?"doors_40":(i=r.find(o=>o.monthly>0))==null?void 0:i.id;return r.map(o=>({...o,highlight:o.id===n}))}const ms=[{title:"Security by design",text:"Every session, route, and permission is scoped with strict role boundaries and auditability."},{title:"Realtime reliability",text:"Qring is engineered for low-latency alerts, resilient socket delivery, and stable communication."},{title:"Scalable architecture",text:"Modular services support growth from single properties to large multi-estate deployments."}],hs=[{year:"2024",event:"Qring concept and architecture blueprint defined."},{year:"2025",event:"Core QR routing and visitor flow launched in pilot communities."},{year:"2026",event:"Realtime session suite and estate operations dashboard released."}];function us(){const{isDark:t,toggleTheme:a}=Z(),[s,r]=l.useState(!1);return e.jsxs("div",{className:"min-h-screen bg-white text-slate-900 dark:bg-slate-950 dark:text-slate-100",children:[e.jsxs("header",{className:"sticky top-0 z-50 border-b border-slate-200 bg-white/95 backdrop-blur-sm dark:border-slate-800 dark:bg-slate-950/95",children:[e.jsxs("nav",{className:"mx-auto flex w-full max-w-7xl items-center justify-between px-4 py-4 sm:px-6 lg:px-10",children:[e.jsxs(u,{to:"/",className:"flex items-center gap-3 sm:gap-4",children:[e.jsx("span",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-slate-900 dark:bg-white",children:e.jsx(J,{tone:"light",className:"h-6 w-6 dark:invert-0"})}),e.jsxs("span",{children:[e.jsx("span",{className:"block text-xl font-black tracking-tight sm:text-2xl",children:"Qring"}),e.jsx("span",{className:"block text-[10px] font-medium uppercase tracking-wider text-slate-500",children:"Smart Access Control"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsx("button",{type:"button",onClick:a,className:"rounded-lg border border-slate-200 px-3 py-2 text-xs font-semibold text-slate-700 transition hover:bg-slate-50 sm:px-4 sm:text-sm dark:border-slate-700 dark:text-slate-200 dark:hover:bg-slate-900",children:t?"Light":"Dark"}),e.jsx(u,{to:"/pricing",className:"hidden rounded-lg border border-slate-200 px-4 py-2 text-xs font-semibold sm:text-sm sm:inline-block dark:border-slate-700",children:"Pricing"}),e.jsx(u,{to:"/signup",className:"hidden rounded-lg bg-slate-900 px-4 py-2 text-xs font-semibold text-white sm:px-6 sm:text-sm sm:inline-block dark:bg-white dark:text-slate-900",children:"Get Started"}),e.jsx("button",{type:"button",onClick:()=>r(!s),className:"md:hidden rounded-lg border border-slate-200 px-3 py-2 text-slate-700 transition hover:bg-slate-50 dark:border-slate-700 dark:text-slate-200 dark:hover:bg-slate-900",children:e.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:s?"M6 18L18 6M6 6l12 12":"M4 6h16M4 12h16M4 18h16"})})})]})]}),s&&e.jsx("div",{className:"border-t border-slate-200 bg-white dark:border-slate-800 dark:bg-slate-900 md:hidden",children:e.jsxs("div",{className:"space-y-1 px-4 py-4 sm:px-6",children:[e.jsx(u,{to:"/",onClick:()=>r(!1),className:"block rounded-lg px-3 py-2 text-base font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white",children:"Home"}),e.jsx(u,{to:"/contact",onClick:()=>r(!1),className:"block rounded-lg px-3 py-2 text-base font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white",children:"Contact"}),e.jsx(u,{to:"/pricing",onClick:()=>r(!1),className:"block rounded-lg px-3 py-2 text-base font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white",children:"Pricing"}),e.jsx(u,{to:"/signup",onClick:()=>r(!1),className:"block rounded-lg bg-slate-900 px-3 py-2 text-base font-semibold text-white transition hover:bg-slate-800 dark:bg-white dark:text-slate-900 dark:hover:bg-slate-200",children:"Get Started"})]})})]}),e.jsxs("main",{className:"mx-auto w-full max-w-7xl px-4 py-10 sm:px-6 sm:py-12 lg:px-10 lg:py-16",children:[e.jsxs("section",{className:"grid gap-8 rounded-2xl border border-slate-200 bg-white p-6 shadow-soft sm:p-8 lg:grid-cols-2 dark:border-slate-800 dark:bg-slate-900",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500 dark:text-slate-300",children:"About Qring"}),e.jsx("h1",{className:"mt-3 text-3xl font-black tracking-tight sm:text-4xl lg:text-5xl",children:"Building trusted access communication for modern communities"}),e.jsx("p",{className:"mt-4 text-sm leading-relaxed text-slate-600 sm:text-base dark:text-slate-300",children:"Qring replaces analog doorbell friction with a secure digital-first experience for homeowners, estate managers, and visitors."}),e.jsx("p",{className:"mt-3 text-sm leading-relaxed text-slate-600 sm:text-base dark:text-slate-300",children:"We focus on clarity, speed, and control so communities can manage access confidently from anywhere."})]}),e.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-5 sm:p-6 dark:border-slate-700 dark:bg-slate-800",children:[e.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500 dark:text-slate-300",children:"Mission"}),e.jsx("p",{className:"mt-3 text-sm leading-relaxed text-slate-600 sm:text-base dark:text-slate-300",children:"Make door access communication secure, instant, and auditable while preserving user privacy and operational boundaries."}),e.jsxs("div",{className:"mt-5 grid grid-cols-3 gap-3 text-center sm:gap-4",children:[e.jsx(_e,{value:"150k+",label:"Sessions handled"}),e.jsx(_e,{value:"98%",label:"Approval speed"}),e.jsx(_e,{value:"24/7",label:"Platform ops"})]})]})]}),e.jsx("section",{className:"mt-8 grid gap-4 sm:mt-10 sm:gap-6 md:grid-cols-3",children:ms.map(n=>e.jsxs("article",{className:"rounded-xl border border-slate-200 bg-white p-5 sm:p-6 dark:border-slate-800 dark:bg-slate-900",children:[e.jsx("h2",{className:"text-xl font-bold",children:n.title}),e.jsx("p",{className:"mt-3 text-sm leading-relaxed text-slate-600 dark:text-slate-300",children:n.text})]},n.title))}),e.jsxs("section",{className:"mt-8 rounded-2xl border border-slate-200 bg-white p-6 sm:mt-10 sm:p-8 dark:border-slate-800 dark:bg-slate-900",children:[e.jsx("h2",{className:"text-2xl font-black tracking-tight sm:text-3xl",children:"Journey"}),e.jsx("div",{className:"mt-5 grid gap-4 sm:mt-6 md:grid-cols-3",children:hs.map(n=>e.jsxs("article",{className:"rounded-xl border border-slate-200 bg-slate-50 p-5 dark:border-slate-700 dark:bg-slate-800",children:[e.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500 dark:text-slate-300",children:n.year}),e.jsx("p",{className:"mt-2 text-sm font-medium leading-relaxed",children:n.event})]},n.year))})]}),e.jsxs("section",{className:"mt-8 rounded-2xl bg-slate-900 p-6 text-white sm:mt-10 sm:p-8 lg:flex lg:items-center lg:justify-between dark:bg-white dark:text-slate-900",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-black tracking-tight sm:text-3xl",children:"Ready to deploy Qring?"}),e.jsx("p",{className:"mt-2 text-sm text-slate-300 dark:text-slate-600",children:"Talk to our team about your building or estate setup."})]}),e.jsxs("div",{className:"mt-4 flex flex-wrap gap-3 lg:mt-0",children:[e.jsx(u,{to:"/contact",className:"rounded-lg bg-white px-5 py-3 text-sm font-semibold text-slate-900 dark:bg-slate-900 dark:text-white",children:"Contact Sales"}),e.jsx(u,{to:"/",className:"rounded-lg border border-white px-5 py-3 text-sm font-semibold dark:border-slate-900",children:"Back Home"})]})]})]})]})}function _e({value:t,label:a}){return e.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-3 dark:border-slate-700 dark:bg-slate-900",children:[e.jsx("p",{className:"text-2xl font-black sm:text-3xl",children:t}),e.jsx("p",{className:"mt-1 text-[11px] font-semibold uppercase tracking-wider text-slate-500 dark:text-slate-300",children:a})]})}const bs="₦",gs=[{id:"free",name:"Free",monthly:0,yearly:0,bestFor:"Single homeowner getting started",features:["1 door","1 QR code","Realtime alerts","Basic access history"]},{id:"doors_20",name:"1-20 Doors",monthly:2e4,yearly:24e4,bestFor:"Small compounds",features:["Up to 20 doors","Up to 20 QR codes","Realtime approvals","Chat and calls"]},{id:"doors_40",name:"1-40 Doors",monthly:5e4,yearly:6e5,bestFor:"Growing estates",features:["Up to 40 doors","Up to 40 QR codes","Session logs","Priority support"],popular:!0},{id:"doors_80",name:"1-80 Doors",monthly:8e4,yearly:96e4,bestFor:"Large compounds",features:["Up to 80 doors","Up to 80 QR codes","Advanced analytics","Realtime controls"]},{id:"doors_100",name:"1-100 Doors",monthly:12e4,yearly:144e4,bestFor:"Enterprise estates",features:["Up to 100 doors","Up to 100 QR codes","Dedicated onboarding","Priority SLA"]}];function ps(){const{isDark:t,toggleTheme:a}=Z(),[s,r]=l.useState("monthly"),[n,i]=l.useState(!1);return e.jsxs("div",{className:"min-h-screen bg-white text-slate-900 dark:bg-slate-950 dark:text-slate-100",children:[e.jsxs("header",{className:"sticky top-0 z-50 border-b border-slate-200 bg-white/95 backdrop-blur-sm dark:border-slate-800 dark:bg-slate-950/95",children:[e.jsxs("nav",{className:"mx-auto flex w-full max-w-7xl items-center justify-between px-4 py-4 sm:px-6 lg:px-10",children:[e.jsxs(u,{to:"/",className:"flex items-center gap-3 sm:gap-4",children:[e.jsx("span",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-slate-900 dark:bg-white",children:e.jsx(J,{tone:"light",className:"h-6 w-6 dark:invert-0"})}),e.jsxs("span",{children:[e.jsx("span",{className:"block text-xl font-black tracking-tight sm:text-2xl",children:"Qring"}),e.jsx("span",{className:"block text-[10px] font-medium uppercase tracking-wider text-slate-500",children:"Smart Access Control"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsx("button",{type:"button",onClick:a,className:"rounded-lg border border-slate-200 px-3 py-2 text-xs font-semibold text-slate-700 transition hover:bg-slate-50 sm:px-4 sm:text-sm dark:border-slate-700 dark:text-slate-200 dark:hover:bg-slate-900",children:t?"Light":"Dark"}),e.jsx(u,{to:"/about",className:"hidden rounded-lg border border-slate-200 px-4 py-2 text-xs font-semibold sm:text-sm sm:inline-block dark:border-slate-700",children:"About"}),e.jsx(u,{to:"/contact",className:"hidden rounded-lg bg-slate-900 px-4 py-2 text-xs font-semibold text-white sm:px-6 sm:text-sm sm:inline-block dark:bg-white dark:text-slate-900",children:"Contact"}),e.jsx("button",{type:"button",onClick:()=>i(!n),className:"md:hidden rounded-lg border border-slate-200 px-3 py-2 text-slate-700 transition hover:bg-slate-50 dark:border-slate-700 dark:text-slate-200 dark:hover:bg-slate-900",children:e.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:n?"M6 18L18 6M6 6l12 12":"M4 6h16M4 12h16M4 18h16"})})})]})]}),n&&e.jsx("div",{className:"border-t border-slate-200 bg-white dark:border-slate-800 dark:bg-slate-900 md:hidden",children:e.jsxs("div",{className:"space-y-1 px-4 py-4 sm:px-6",children:[e.jsx(u,{to:"/",onClick:()=>i(!1),className:"block rounded-lg px-3 py-2 text-base font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white",children:"Home"}),e.jsx(u,{to:"/about",onClick:()=>i(!1),className:"block rounded-lg px-3 py-2 text-base font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white",children:"About"}),e.jsx(u,{to:"/contact",onClick:()=>i(!1),className:"block rounded-lg px-3 py-2 text-base font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white",children:"Contact"}),e.jsx(u,{to:"/signup",onClick:()=>i(!1),className:"block rounded-lg bg-slate-900 px-3 py-2 text-base font-semibold text-white transition hover:bg-slate-800 dark:bg-white dark:text-slate-900 dark:hover:bg-slate-200",children:"Get Started"})]})})]}),e.jsxs("main",{className:"mx-auto w-full max-w-7xl px-4 py-10 sm:px-6 sm:py-12 lg:px-10 lg:py-16",children:[e.jsxs("section",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-soft sm:p-8 dark:border-slate-800 dark:bg-slate-900",children:[e.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500 dark:text-slate-300",children:"Pricing Plans"}),e.jsx("h1",{className:"mt-2 text-3xl font-black tracking-tight sm:text-4xl lg:text-5xl",children:"Paystack-ready pricing for every property size"}),e.jsx("p",{className:"mt-4 max-w-2xl text-sm leading-relaxed text-slate-600 sm:text-base dark:text-slate-300",children:"Choose a plan based on your number of doors. Free plan supports one door and one QR code."}),e.jsxs("div",{className:"mt-6 inline-flex rounded-lg border border-slate-200 bg-slate-50 p-1 dark:border-slate-700 dark:bg-slate-800",children:[e.jsx("button",{type:"button",onClick:()=>r("monthly"),className:`rounded-md px-4 py-2 text-sm font-semibold transition ${s==="monthly"?"bg-slate-900 text-white dark:bg-white dark:text-slate-900":"text-slate-600 dark:text-slate-300"}`,children:"Monthly"}),e.jsx("button",{type:"button",onClick:()=>r("yearly"),className:`rounded-md px-4 py-2 text-sm font-semibold transition ${s==="yearly"?"bg-slate-900 text-white dark:bg-white dark:text-slate-900":"text-slate-600 dark:text-slate-300"}`,children:"Yearly"})]})]}),e.jsx("section",{className:"mt-8 grid gap-4 sm:gap-6 md:grid-cols-2 xl:grid-cols-3",children:gs.map(o=>e.jsxs("article",{className:`rounded-xl border bg-white p-6 transition hover:shadow-xl sm:p-8 dark:bg-slate-900 ${o.popular?"border-slate-900 shadow-lg dark:border-white":"border-slate-200 dark:border-slate-700"}`,children:[o.popular?e.jsx("div",{className:"mb-4 inline-block rounded-full bg-slate-900 px-3 py-1 text-xs font-semibold uppercase tracking-wider text-white dark:bg-white dark:text-slate-900",children:"Popular"}):null,e.jsx("p",{className:"text-sm font-semibold uppercase tracking-wider text-slate-600 dark:text-slate-300",children:o.name}),e.jsxs("p",{className:"mt-4 text-4xl font-black tracking-tight sm:text-5xl",children:[bs,fs(s==="monthly"?o.monthly:o.yearly)]}),e.jsx("p",{className:"mt-1 text-xs text-slate-500 dark:text-slate-300",children:s==="monthly"?"per month":"per year"}),e.jsx("p",{className:"mt-3 text-sm text-slate-600 dark:text-slate-300",children:o.bestFor}),e.jsx("ul",{className:"mt-5 space-y-2 text-sm text-slate-700 dark:text-slate-200",children:o.features.map(j=>e.jsxs("li",{children:["- ",j]},j))}),e.jsxs(u,{to:"/billing/paywall",className:`mt-8 block rounded-lg py-3 text-center text-sm font-semibold transition ${o.popular?"bg-slate-900 text-white hover:bg-slate-800 dark:bg-white dark:text-slate-900 dark:hover:bg-slate-200":"border border-slate-200 text-slate-900 hover:bg-slate-50 dark:border-slate-700 dark:text-slate-100 dark:hover:bg-slate-800"}`,children:["Choose ",o.name]})]},o.id))})]})]})}function fs(t){return new Intl.NumberFormat("en-NG").format(t)}function js(){const{isDark:t,toggleTheme:a}=Z(),[s,r]=l.useState(!1),[n,i]=l.useState(!1);return e.jsxs("div",{className:"min-h-screen bg-white text-slate-900 dark:bg-slate-950 dark:text-slate-100",children:[e.jsxs("header",{className:"sticky top-0 z-50 border-b border-slate-200 bg-white/95 backdrop-blur-sm dark:border-slate-800 dark:bg-slate-950/95",children:[e.jsxs("nav",{className:"mx-auto flex w-full max-w-7xl items-center justify-between px-4 py-4 sm:px-6 lg:px-10",children:[e.jsxs(u,{to:"/",className:"flex items-center gap-3 sm:gap-4",children:[e.jsx("span",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-slate-900 dark:bg-white",children:e.jsx(J,{tone:"light",className:"h-6 w-6 dark:invert-0"})}),e.jsxs("span",{children:[e.jsx("span",{className:"block text-xl font-black tracking-tight sm:text-2xl",children:"Qring"}),e.jsx("span",{className:"block text-[10px] font-medium uppercase tracking-wider text-slate-500",children:"Smart Access Control"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsx("button",{type:"button",onClick:a,className:"rounded-lg border border-slate-200 px-3 py-2 text-xs font-semibold text-slate-700 transition hover:bg-slate-50 sm:px-4 sm:text-sm dark:border-slate-700 dark:text-slate-200 dark:hover:bg-slate-900",children:t?"Light":"Dark"}),e.jsx(u,{to:"/about",className:"hidden rounded-lg border border-slate-200 px-4 py-2 text-xs font-semibold sm:text-sm sm:inline-block dark:border-slate-700",children:"About"}),e.jsx(u,{to:"/pricing",className:"hidden rounded-lg bg-slate-900 px-4 py-2 text-xs font-semibold text-white sm:px-6 sm:text-sm sm:inline-block dark:bg-white dark:text-slate-900",children:"Pricing"}),e.jsx("button",{type:"button",onClick:()=>i(!n),className:"md:hidden rounded-lg border border-slate-200 px-3 py-2 text-slate-700 transition hover:bg-slate-50 dark:border-slate-700 dark:text-slate-200 dark:hover:bg-slate-900",children:e.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:n?"M6 18L18 6M6 6l12 12":"M4 6h16M4 12h16M4 18h16"})})})]})]}),n&&e.jsx("div",{className:"border-t border-slate-200 bg-white dark:border-slate-800 dark:bg-slate-900 md:hidden",children:e.jsxs("div",{className:"space-y-1 px-4 py-4 sm:px-6",children:[e.jsx(u,{to:"/",onClick:()=>i(!1),className:"block rounded-lg px-3 py-2 text-base font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white",children:"Home"}),e.jsx(u,{to:"/about",onClick:()=>i(!1),className:"block rounded-lg px-3 py-2 text-base font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white",children:"About"}),e.jsx(u,{to:"/pricing",onClick:()=>i(!1),className:"block rounded-lg px-3 py-2 text-base font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white",children:"Pricing"}),e.jsx(u,{to:"/signup",onClick:()=>i(!1),className:"block rounded-lg bg-slate-900 px-3 py-2 text-base font-semibold text-white transition hover:bg-slate-800 dark:bg-white dark:text-slate-900 dark:hover:bg-slate-200",children:"Get Started"})]})})]}),e.jsxs("main",{className:"mx-auto grid w-full max-w-7xl gap-6 px-4 py-10 sm:px-6 sm:py-12 lg:grid-cols-12 lg:px-10 lg:py-16",children:[e.jsxs("section",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-soft sm:p-8 lg:col-span-5 dark:border-slate-800 dark:bg-slate-900",children:[e.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500 dark:text-slate-300",children:"Contact"}),e.jsx("h1",{className:"mt-3 text-3xl font-black tracking-tight sm:text-4xl",children:"Talk to the Qring team"}),e.jsx("p",{className:"mt-4 text-sm leading-relaxed text-slate-600 sm:text-base dark:text-slate-300",children:"Reach out for deployment planning, technical onboarding, or custom estate pricing."}),e.jsxs("div",{className:"mt-6 space-y-3",children:[e.jsx(we,{label:"General",value:"hello@useqring.online"}),e.jsx(we,{label:"Support",value:"support@useqring.online"}),e.jsx(we,{label:"Sales",value:"sales@useqring.online"}),e.jsx(we,{label:"Response time",value:"Within 1 business day"})]})]}),e.jsxs("section",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-soft sm:p-8 lg:col-span-7 dark:border-slate-800 dark:bg-slate-900",children:[e.jsx("h2",{className:"text-2xl font-black tracking-tight sm:text-3xl",children:"Send a message"}),e.jsx("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-300",children:"Tell us about your property setup and goals."}),e.jsxs("form",{onSubmit:o=>{o.preventDefault(),r(!0)},className:"mt-6 space-y-4",children:[e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsx(he,{label:"First name",placeholder:"Your first name"}),e.jsx(he,{label:"Last name",placeholder:"Your last name"})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsx(he,{label:"Email",type:"email",placeholder:"you@company.com"}),e.jsx(he,{label:"Phone",placeholder:"+234..."})]}),e.jsx(he,{label:"Company / Estate",placeholder:"Property name"}),e.jsxs("label",{className:"block text-sm",children:[e.jsx("span",{className:"mb-2 block font-semibold text-slate-700 dark:text-slate-200",children:"Message"}),e.jsx("textarea",{required:!0,rows:5,placeholder:"Share your requirements...",className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-3 outline-none ring-0 transition focus:border-slate-500 dark:border-slate-700 dark:bg-slate-950"})]}),s?e.jsx("p",{className:"rounded-lg border border-green-200 bg-green-50 px-3 py-2 text-sm text-green-700 dark:border-green-900 dark:bg-green-950/40 dark:text-green-300",children:"Message received. We will contact you shortly."}):null,e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsx("button",{type:"submit",className:"rounded-lg bg-slate-900 px-6 py-3 text-sm font-semibold text-white transition hover:bg-slate-800 dark:bg-white dark:text-slate-900 dark:hover:bg-slate-200",children:"Send Message"}),e.jsx(u,{to:"/",className:"rounded-lg border border-slate-200 px-6 py-3 text-sm font-semibold transition hover:bg-slate-50 dark:border-slate-700 dark:hover:bg-slate-800",children:"Back Home"})]})]})]})]})]})}function he({label:t,placeholder:a,type:s="text"}){return e.jsxs("label",{className:"block text-sm",children:[e.jsx("span",{className:"mb-2 block font-semibold text-slate-700 dark:text-slate-200",children:t}),e.jsx("input",{required:!0,type:s,placeholder:a,className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-3 outline-none ring-0 transition focus:border-slate-500 dark:border-slate-700 dark:bg-slate-950"})]})}function we({label:t,value:a}){return e.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-3 dark:border-slate-700 dark:bg-slate-800",children:[e.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-wider text-slate-500 dark:text-slate-300",children:t}),e.jsx("p",{className:"mt-1 text-sm font-medium",children:a})]})}function ks(){const{isDark:t,toggleTheme:a}=Z(),[s,r]=l.useState(!1);return e.jsxs("div",{className:"min-h-screen bg-white text-slate-900 dark:bg-slate-950 dark:text-slate-100",children:[e.jsxs("header",{className:"sticky top-0 z-50 border-b border-slate-200 bg-white/95 backdrop-blur-sm dark:border-slate-800 dark:bg-slate-950/95",children:[e.jsxs("nav",{className:"mx-auto flex w-full max-w-7xl items-center justify-between px-4 py-4 sm:px-6 lg:px-10",children:[e.jsxs(u,{to:"/",className:"flex items-center gap-3 sm:gap-4",children:[e.jsx("span",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-slate-900 dark:bg-white",children:e.jsx(J,{tone:"light",className:"h-6 w-6 dark:invert-0"})}),e.jsxs("span",{children:[e.jsx("span",{className:"block text-xl font-black tracking-tight sm:text-2xl",children:"Qring"}),e.jsx("span",{className:"block text-[10px] font-medium uppercase tracking-wider text-slate-500",children:"Smart Access Control"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsx("button",{type:"button",onClick:a,className:"rounded-lg border border-slate-200 px-3 py-2 text-xs font-semibold text-slate-700 transition hover:bg-slate-50 sm:px-4 sm:text-sm dark:border-slate-700 dark:text-slate-200 dark:hover:bg-slate-900",children:t?"Light":"Dark"}),e.jsx(u,{to:"/about",className:"hidden rounded-lg border border-slate-200 px-4 py-2 text-xs font-semibold sm:text-sm sm:inline-block dark:border-slate-700",children:"About"}),e.jsx(u,{to:"/pricing",className:"hidden rounded-lg bg-slate-900 px-4 py-2 text-xs font-semibold text-white sm:px-6 sm:text-sm sm:inline-block dark:bg-white dark:text-slate-900",children:"Pricing"}),e.jsx("button",{type:"button",onClick:()=>r(!s),className:"md:hidden rounded-lg border border-slate-200 px-3 py-2 text-slate-700 transition hover:bg-slate-50 dark:border-slate-700 dark:text-slate-200 dark:hover:bg-slate-900",children:e.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:s?"M6 18L18 6M6 6l12 12":"M4 6h16M4 12h16M4 18h16"})})})]})]}),s&&e.jsx("div",{className:"border-t border-slate-200 bg-white dark:border-slate-800 dark:bg-slate-900 md:hidden",children:e.jsxs("div",{className:"space-y-1 px-4 py-4 sm:px-6",children:[e.jsx(u,{to:"/",onClick:()=>r(!1),className:"block rounded-lg px-3 py-2 text-base font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white",children:"Home"}),e.jsx(u,{to:"/about",onClick:()=>r(!1),className:"block rounded-lg px-3 py-2 text-base font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white",children:"About"}),e.jsx(u,{to:"/pricing",onClick:()=>r(!1),className:"block rounded-lg px-3 py-2 text-base font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white",children:"Pricing"}),e.jsx(u,{to:"/contact",onClick:()=>r(!1),className:"block rounded-lg px-3 py-2 text-base font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white",children:"Contact"})]})})]}),e.jsxs("main",{className:"mx-auto w-full max-w-5xl px-4 py-16 sm:px-6 sm:py-24 lg:px-10",children:[e.jsxs("div",{className:"mb-16",children:[e.jsx("h1",{className:"text-4xl font-black tracking-tight sm:text-5xl",children:"Platform Overview"}),e.jsx("p",{className:"mt-4 text-lg text-slate-600 dark:text-slate-300",children:"Qring is a modern smart access control platform that replaces traditional doorbells with QR-powered realtime communication and visitor verification."})]}),e.jsxs("div",{className:"grid gap-8 md:grid-cols-2 lg:grid-cols-3",children:[e.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6 dark:border-slate-800 dark:bg-slate-900",children:[e.jsx("h3",{className:"text-xl font-bold",children:"QR Code Scanning"}),e.jsx("p",{className:"mt-3 text-sm text-slate-600 dark:text-slate-300",children:"Visitors scan unique QR codes at entry points to request access. Instant notifications reach homeowners with full context."})]}),e.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6 dark:border-slate-800 dark:bg-slate-900",children:[e.jsx("h3",{className:"text-xl font-bold",children:"Realtime Communication"}),e.jsx("p",{className:"mt-3 text-sm text-slate-600 dark:text-slate-300",children:"WebSocket-powered messaging, voice, and video calls connect homeowners and visitors instantly with no lag."})]}),e.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6 dark:border-slate-800 dark:bg-slate-900",children:[e.jsx("h3",{className:"text-xl font-bold",children:"Smart Routing"}),e.jsx("p",{className:"mt-3 text-sm text-slate-600 dark:text-slate-300",children:"Automatically direct visitors to the right person, door, or building based on QR code assignments."})]}),e.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6 dark:border-slate-800 dark:bg-slate-900",children:[e.jsx("h3",{className:"text-xl font-bold",children:"Session Management"}),e.jsx("p",{className:"mt-3 text-sm text-slate-600 dark:text-slate-300",children:"Create, approve, deny, or revoke access sessions with configurable time limits on-the-fly."})]}),e.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6 dark:border-slate-800 dark:bg-slate-900",children:[e.jsx("h3",{className:"text-xl font-bold",children:"Complete Audit Logs"}),e.jsx("p",{className:"mt-3 text-sm text-slate-600 dark:text-slate-300",children:"Every action is logged for compliance, security investigations, and operational transparency."})]}),e.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6 dark:border-slate-800 dark:bg-slate-900",children:[e.jsx("h3",{className:"text-xl font-bold",children:"Multi-Level Access"}),e.jsx("p",{className:"mt-3 text-sm text-slate-600 dark:text-slate-300",children:"Role-based access control for homeowners, estate managers, residents, and visitors."})]})]}),e.jsxs("div",{className:"mt-16",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"How It Works"}),e.jsxs("div",{className:"mt-8 space-y-6",children:[e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-slate-900 text-sm font-bold text-white dark:bg-white dark:text-slate-900",children:"1"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold",children:"Visitor Scans QR Code"}),e.jsx("p",{className:"mt-1 text-sm text-slate-600 dark:text-slate-300",children:"Visitor scans a unique QR code at the entry point or gate"})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-slate-900 text-sm font-bold text-white dark:bg-white dark:text-slate-900",children:"2"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold",children:"System Validates & Notifies"}),e.jsx("p",{className:"mt-1 text-sm text-slate-600 dark:text-slate-300",children:"Qring backend verifies the code and sends instant notification to the homeowner"})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-slate-900 text-sm font-bold text-white dark:bg-white dark:text-slate-900",children:"3"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold",children:"Homeowner Responds"}),e.jsx("p",{className:"mt-1 text-sm text-slate-600 dark:text-slate-300",children:"Homeowner approves or denies access from their phone or dashboard"})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-slate-900 text-sm font-bold text-white dark:bg-white dark:text-slate-900",children:"4"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold",children:"Session Established"}),e.jsx("p",{className:"mt-1 text-sm text-slate-600 dark:text-slate-300",children:"Secure chat, voice, or video session opens immediately for communication"})]})]})]})]}),e.jsxs("div",{className:"mt-16 flex flex-wrap justify-center gap-4",children:[e.jsx(u,{to:"/",className:"rounded-lg bg-slate-900 px-6 py-3 text-sm font-semibold text-white transition hover:bg-slate-800 dark:bg-white dark:text-slate-900 dark:hover:bg-slate-200",children:"Back Home"}),e.jsx(u,{to:"/pricing",className:"rounded-lg border border-slate-200 px-6 py-3 text-sm font-semibold transition hover:bg-slate-50 dark:border-slate-700 dark:hover:bg-slate-800",children:"View Pricing"}),e.jsx(u,{to:"/signup",className:"rounded-lg border border-slate-200 px-6 py-3 text-sm font-semibold transition hover:bg-slate-50 dark:border-slate-700 dark:hover:bg-slate-800",children:"Start Free Trial"})]})]})]})}function ws(){const{isDark:t,toggleTheme:a}=Z(),[s,r]=l.useState(!1);return e.jsxs("div",{className:"min-h-screen bg-white text-slate-900 dark:bg-slate-950 dark:text-slate-100",children:[e.jsxs("header",{className:"sticky top-0 z-50 border-b border-slate-200 bg-white/95 backdrop-blur-sm dark:border-slate-800 dark:bg-slate-950/95",children:[e.jsxs("nav",{className:"mx-auto flex w-full max-w-7xl items-center justify-between px-4 py-4 sm:px-6 lg:px-10",children:[e.jsxs(u,{to:"/",className:"flex items-center gap-3 sm:gap-4",children:[e.jsx("span",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-slate-900 dark:bg-white",children:e.jsx(J,{tone:"light",className:"h-6 w-6 dark:invert-0"})}),e.jsxs("span",{children:[e.jsx("span",{className:"block text-xl font-black tracking-tight sm:text-2xl",children:"Qring"}),e.jsx("span",{className:"block text-[10px] font-medium uppercase tracking-wider text-slate-500",children:"Smart Access Control"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsx("button",{type:"button",onClick:a,className:"rounded-lg border border-slate-200 px-3 py-2 text-xs font-semibold text-slate-700 transition hover:bg-slate-50 sm:px-4 sm:text-sm dark:border-slate-700 dark:text-slate-200 dark:hover:bg-slate-900",children:t?"Light":"Dark"}),e.jsx(u,{to:"/about",className:"hidden rounded-lg border border-slate-200 px-4 py-2 text-xs font-semibold sm:text-sm sm:inline-block dark:border-slate-700",children:"About"}),e.jsx(u,{to:"/pricing",className:"hidden rounded-lg bg-slate-900 px-4 py-2 text-xs font-semibold text-white sm:px-6 sm:text-sm sm:inline-block dark:bg-white dark:text-slate-900",children:"Pricing"}),e.jsx("button",{type:"button",onClick:()=>r(!s),className:"md:hidden rounded-lg border border-slate-200 px-3 py-2 text-slate-700 transition hover:bg-slate-50 dark:border-slate-700 dark:text-slate-200 dark:hover:bg-slate-900",children:e.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:s?"M6 18L18 6M6 6l12 12":"M4 6h16M4 12h16M4 18h16"})})})]})]}),s&&e.jsx("div",{className:"border-t border-slate-200 bg-white dark:border-slate-800 dark:bg-slate-900 md:hidden",children:e.jsxs("div",{className:"space-y-1 px-4 py-4 sm:px-6",children:[e.jsx(u,{to:"/",onClick:()=>r(!1),className:"block rounded-lg px-3 py-2 text-base font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white",children:"Home"}),e.jsx(u,{to:"/about",onClick:()=>r(!1),className:"block rounded-lg px-3 py-2 text-base font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white",children:"About"}),e.jsx(u,{to:"/pricing",onClick:()=>r(!1),className:"block rounded-lg px-3 py-2 text-base font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white",children:"Pricing"}),e.jsx(u,{to:"/contact",onClick:()=>r(!1),className:"block rounded-lg px-3 py-2 text-base font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white",children:"Contact"})]})})]}),e.jsxs("main",{className:"mx-auto w-full max-w-5xl px-4 py-16 sm:px-6 sm:py-24 lg:px-10",children:[e.jsxs("div",{className:"mb-16",children:[e.jsx("h1",{className:"text-4xl font-black tracking-tight sm:text-5xl",children:"Security & Privacy"}),e.jsx("p",{className:"mt-4 text-lg text-slate-600 dark:text-slate-300",children:"Qring employs industry-standard security practices to protect your data, sessions, and access control."})]}),e.jsxs("div",{className:"mb-16",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Encryption & Data Protection"}),e.jsxs("div",{className:"mt-6 space-y-4",children:[e.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-6 dark:border-slate-800 dark:bg-slate-900",children:[e.jsx("h3",{className:"font-bold text-slate-900 dark:text-white",children:"End-to-End Encryption"}),e.jsx("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-300",children:"All realtime communication (messages, voice, video) is encrypted using WebRTC protocols and TLS 1.2+."})]}),e.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-6 dark:border-slate-800 dark:bg-slate-900",children:[e.jsx("h3",{className:"font-bold text-slate-900 dark:text-white",children:"JWT Authentication"}),e.jsx("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-300",children:"Sessions are secured with JSON Web Tokens with configurable expiration. Tokens are stored securely on client devices."})]}),e.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-6 dark:border-slate-800 dark:bg-slate-900",children:[e.jsx("h3",{className:"font-bold text-slate-900 dark:text-white",children:"Password Security"}),e.jsx("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-300",children:"Passwords are hashed with bcrypt (10+ rounds). We enforce strong password policies and support two-factor authentication."})]}),e.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-6 dark:border-slate-800 dark:bg-slate-900",children:[e.jsx("h3",{className:"font-bold text-slate-900 dark:text-white",children:"Database Encryption"}),e.jsx("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-300",children:"Sensitive data at rest is encrypted using AES-256 encryption. Database backups are regularly tested and encrypted."})]})]})]}),e.jsxs("div",{className:"mb-16",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Access Control & Permissions"}),e.jsxs("div",{className:"mt-6 space-y-4",children:[e.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-6 dark:border-slate-800 dark:bg-slate-900",children:[e.jsx("h3",{className:"font-bold text-slate-900 dark:text-white",children:"Role-Based Access Control (RBAC)"}),e.jsx("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-300",children:"Granular permissions for admins, estate managers, homeowners, and visitors. Each role has strict scope boundaries."})]}),e.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-6 dark:border-slate-800 dark:bg-slate-900",children:[e.jsx("h3",{className:"font-bold text-slate-900 dark:text-white",children:"Session Scoping"}),e.jsx("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-300",children:"Each session is scoped to specific users, doors, and time windows. Access is automatically revoked on expiration."})]}),e.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-6 dark:border-slate-800 dark:bg-slate-900",children:[e.jsx("h3",{className:"font-bold text-slate-900 dark:text-white",children:"Audit Logging"}),e.jsx("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-300",children:"Every authentication, authorization, and access event is logged with timestamp, user, IP, and outcome."})]}),e.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-6 dark:border-slate-800 dark:bg-slate-900",children:[e.jsx("h3",{className:"font-bold text-slate-900 dark:text-white",children:"Rate Limiting"}),e.jsx("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-300",children:"API endpoints are rate-limited to prevent brute-force attacks and abuse."})]})]})]}),e.jsxs("div",{className:"mb-16",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Infrastructure & Compliance"}),e.jsxs("div",{className:"mt-6 space-y-4",children:[e.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-6 dark:border-slate-800 dark:bg-slate-900",children:[e.jsx("h3",{className:"font-bold text-slate-900 dark:text-white",children:"HTTPS/TLS"}),e.jsx("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-300",children:"All traffic is encrypted in transit using HTTPS with TLS 1.2 or higher. Certificate pinning for mobile apps."})]}),e.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-6 dark:border-slate-800 dark:bg-slate-900",children:[e.jsx("h3",{className:"font-bold text-slate-900 dark:text-white",children:"Secure Infrastructure"}),e.jsx("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-300",children:"Application runs on managed cloud infrastructure with DDoS protection, firewalls, and intrusion detection."})]}),e.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-6 dark:border-slate-800 dark:bg-slate-900",children:[e.jsx("h3",{className:"font-bold text-slate-900 dark:text-white",children:"Regular Security Audits"}),e.jsx("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-300",children:"Third-party security assessments, penetration testing, and code reviews are conducted regularly."})]}),e.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-6 dark:border-slate-800 dark:bg-slate-900",children:[e.jsx("h3",{className:"font-bold text-slate-900 dark:text-white",children:"Vulnerability Disclosure"}),e.jsx("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-300",children:"We follow responsible disclosure practices. Report security issues to security@useqring.online"})]})]})]}),e.jsxs("div",{className:"mt-16 flex flex-wrap justify-center gap-4",children:[e.jsx(u,{to:"/",className:"rounded-lg bg-slate-900 px-6 py-3 text-sm font-semibold text-white transition hover:bg-slate-800 dark:bg-white dark:text-slate-900 dark:hover:bg-slate-200",children:"Back Home"}),e.jsx(u,{to:"/compliance",className:"rounded-lg border border-slate-200 px-6 py-3 text-sm font-semibold transition hover:bg-slate-50 dark:border-slate-700 dark:hover:bg-slate-800",children:"View Compliance"})]})]})]})}function Ns(){const{isDark:t,toggleTheme:a}=Z(),[s,r]=l.useState(!1);return e.jsxs("div",{className:"min-h-screen bg-white text-slate-900 dark:bg-slate-950 dark:text-slate-100",children:[e.jsxs("header",{className:"sticky top-0 z-50 border-b border-slate-200 bg-white/95 backdrop-blur-sm dark:border-slate-800 dark:bg-slate-950/95",children:[e.jsxs("nav",{className:"mx-auto flex w-full max-w-7xl items-center justify-between px-4 py-4 sm:px-6 lg:px-10",children:[e.jsxs(u,{to:"/",className:"flex items-center gap-3 sm:gap-4",children:[e.jsx("span",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-slate-900 dark:bg-white",children:e.jsx(J,{tone:"light",className:"h-6 w-6 dark:invert-0"})}),e.jsxs("span",{children:[e.jsx("span",{className:"block text-xl font-black tracking-tight sm:text-2xl",children:"Qring"}),e.jsx("span",{className:"block text-[10px] font-medium uppercase tracking-wider text-slate-500",children:"Smart Access Control"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsx("button",{type:"button",onClick:a,className:"rounded-lg border border-slate-200 px-3 py-2 text-xs font-semibold text-slate-700 transition hover:bg-slate-50 sm:px-4 sm:text-sm dark:border-slate-700 dark:text-slate-200 dark:hover:bg-slate-900",children:t?"Light":"Dark"}),e.jsx(u,{to:"/about",className:"hidden rounded-lg border border-slate-200 px-4 py-2 text-xs font-semibold sm:text-sm sm:inline-block dark:border-slate-700",children:"About"}),e.jsx(u,{to:"/pricing",className:"hidden rounded-lg bg-slate-900 px-4 py-2 text-xs font-semibold text-white sm:px-6 sm:text-sm sm:inline-block dark:bg-white dark:text-slate-900",children:"Pricing"}),e.jsx("button",{type:"button",onClick:()=>r(!s),className:"md:hidden rounded-lg border border-slate-200 px-3 py-2 text-slate-700 transition hover:bg-slate-50 dark:border-slate-700 dark:text-slate-200 dark:hover:bg-slate-900",children:e.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:s?"M6 18L18 6M6 6l12 12":"M4 6h16M4 12h16M4 18h16"})})})]})]}),s&&e.jsx("div",{className:"border-t border-slate-200 bg-white dark:border-slate-800 dark:bg-slate-900 md:hidden",children:e.jsxs("div",{className:"space-y-1 px-4 py-4 sm:px-6",children:[e.jsx(u,{to:"/",onClick:()=>r(!1),className:"block rounded-lg px-3 py-2 text-base font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white",children:"Home"}),e.jsx(u,{to:"/about",onClick:()=>r(!1),className:"block rounded-lg px-3 py-2 text-base font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white",children:"About"}),e.jsx(u,{to:"/pricing",onClick:()=>r(!1),className:"block rounded-lg px-3 py-2 text-base font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white",children:"Pricing"}),e.jsx(u,{to:"/contact",onClick:()=>r(!1),className:"block rounded-lg px-3 py-2 text-base font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white",children:"Contact"})]})})]}),e.jsx("main",{className:"mx-auto w-full max-w-4xl px-4 py-16 sm:px-6 sm:py-24 lg:px-10",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full border border-slate-200 bg-slate-50 px-4 py-2 dark:border-slate-700 dark:bg-slate-900",children:[e.jsxs("span",{className:"relative flex h-2 w-2",children:[e.jsx("span",{className:"absolute inline-flex h-2 w-2 animate-ping rounded-full bg-slate-400"}),e.jsx("span",{className:"relative inline-flex h-2 w-2 rounded-full bg-slate-900 dark:bg-white"})]}),e.jsx("span",{className:"text-xs font-semibold uppercase tracking-wider text-slate-700 dark:text-slate-200",children:"Coming Soon"})]}),e.jsx("h1",{className:"mt-6 text-4xl font-black tracking-tight sm:text-5xl lg:text-6xl",children:"API Documentation"}),e.jsx("p",{className:"mt-6 text-lg leading-relaxed text-slate-600 dark:text-slate-300",children:"Comprehensive API reference, code examples, and integration guides are coming soon. Build with Qring."}),e.jsxs("div",{className:"mt-10 flex flex-wrap justify-center gap-4",children:[e.jsx(u,{to:"/",className:"rounded-lg bg-slate-900 px-6 py-3 text-sm font-semibold text-white transition hover:bg-slate-800 dark:bg-white dark:text-slate-900 dark:hover:bg-slate-200",children:"Back Home"}),e.jsx(u,{to:"/contact",className:"rounded-lg border border-slate-200 px-6 py-3 text-sm font-semibold transition hover:bg-slate-50 dark:border-slate-700 dark:hover:bg-slate-800",children:"Get Started"})]})]})})]})}function ys(){const{isDark:t,toggleTheme:a}=Z(),[s,r]=l.useState(!1);return e.jsxs("div",{className:"min-h-screen bg-white text-slate-900 dark:bg-slate-950 dark:text-slate-100",children:[e.jsxs("header",{className:"sticky top-0 z-50 border-b border-slate-200 bg-white/95 backdrop-blur-sm dark:border-slate-800 dark:bg-slate-950/95",children:[e.jsxs("nav",{className:"mx-auto flex w-full max-w-7xl items-center justify-between px-4 py-4 sm:px-6 lg:px-10",children:[e.jsxs(u,{to:"/",className:"flex items-center gap-3 sm:gap-4",children:[e.jsx("span",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-slate-900 dark:bg-white",children:e.jsx(J,{tone:"light",className:"h-6 w-6 dark:invert-0"})}),e.jsxs("span",{children:[e.jsx("span",{className:"block text-xl font-black tracking-tight sm:text-2xl",children:"Qring"}),e.jsx("span",{className:"block text-[10px] font-medium uppercase tracking-wider text-slate-500",children:"Smart Access Control"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsx("button",{type:"button",onClick:a,className:"rounded-lg border border-slate-200 px-3 py-2 text-xs font-semibold text-slate-700 transition hover:bg-slate-50 sm:px-4 sm:text-sm dark:border-slate-700 dark:text-slate-200 dark:hover:bg-slate-900",children:t?"Light":"Dark"}),e.jsx(u,{to:"/about",className:"hidden rounded-lg border border-slate-200 px-4 py-2 text-xs font-semibold sm:text-sm sm:inline-block dark:border-slate-700",children:"About"}),e.jsx(u,{to:"/pricing",className:"hidden rounded-lg bg-slate-900 px-4 py-2 text-xs font-semibold text-white sm:px-6 sm:text-sm sm:inline-block dark:bg-white dark:text-slate-900",children:"Pricing"}),e.jsx("button",{type:"button",onClick:()=>r(!s),className:"md:hidden rounded-lg border border-slate-200 px-3 py-2 text-slate-700 transition hover:bg-slate-50 dark:border-slate-700 dark:text-slate-200 dark:hover:bg-slate-900",children:e.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:s?"M6 18L18 6M6 6l12 12":"M4 6h16M4 12h16M4 18h16"})})})]})]}),s&&e.jsx("div",{className:"border-t border-slate-200 bg-white dark:border-slate-800 dark:bg-slate-900 md:hidden",children:e.jsxs("div",{className:"space-y-1 px-4 py-4 sm:px-6",children:[e.jsx(u,{to:"/",onClick:()=>r(!1),className:"block rounded-lg px-3 py-2 text-base font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white",children:"Home"}),e.jsx(u,{to:"/about",onClick:()=>r(!1),className:"block rounded-lg px-3 py-2 text-base font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white",children:"About"}),e.jsx(u,{to:"/pricing",onClick:()=>r(!1),className:"block rounded-lg px-3 py-2 text-base font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white",children:"Pricing"}),e.jsx(u,{to:"/contact",onClick:()=>r(!1),className:"block rounded-lg px-3 py-2 text-base font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white",children:"Contact"})]})})]}),e.jsx("main",{className:"mx-auto w-full max-w-4xl px-4 py-16 sm:px-6 sm:py-24 lg:px-10",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full border border-slate-200 bg-slate-50 px-4 py-2 dark:border-slate-700 dark:bg-slate-900",children:[e.jsxs("span",{className:"relative flex h-2 w-2",children:[e.jsx("span",{className:"absolute inline-flex h-2 w-2 animate-ping rounded-full bg-slate-400"}),e.jsx("span",{className:"relative inline-flex h-2 w-2 rounded-full bg-slate-900 dark:bg-white"})]}),e.jsx("span",{className:"text-xs font-semibold uppercase tracking-wider text-slate-700 dark:text-slate-200",children:"Coming Soon"})]}),e.jsx("h1",{className:"mt-6 text-4xl font-black tracking-tight sm:text-5xl lg:text-6xl",children:"Company"}),e.jsx("p",{className:"mt-6 text-lg leading-relaxed text-slate-600 dark:text-slate-300",children:"Learn more about Qring company information, team, and our mission. Detailed company page coming soon."}),e.jsxs("div",{className:"mt-10 flex flex-wrap justify-center gap-4",children:[e.jsx(u,{to:"/",className:"rounded-lg bg-slate-900 px-6 py-3 text-sm font-semibold text-white transition hover:bg-slate-800 dark:bg-white dark:text-slate-900 dark:hover:bg-slate-200",children:"Back Home"}),e.jsx(u,{to:"/contact",className:"rounded-lg border border-slate-200 px-6 py-3 text-sm font-semibold transition hover:bg-slate-50 dark:border-slate-700 dark:hover:bg-slate-800",children:"Contact Us"})]})]})})]})}function vs(){const{isDark:t,toggleTheme:a}=Z(),[s,r]=l.useState(!1);return e.jsxs("div",{className:"min-h-screen bg-white text-slate-900 dark:bg-slate-950 dark:text-slate-100",children:[e.jsxs("header",{className:"sticky top-0 z-50 border-b border-slate-200 bg-white/95 backdrop-blur-sm dark:border-slate-800 dark:bg-slate-950/95",children:[e.jsxs("nav",{className:"mx-auto flex w-full max-w-7xl items-center justify-between px-4 py-4 sm:px-6 lg:px-10",children:[e.jsxs(u,{to:"/",className:"flex items-center gap-3 sm:gap-4",children:[e.jsx("span",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-slate-900 dark:bg-white",children:e.jsx(J,{tone:"light",className:"h-6 w-6 dark:invert-0"})}),e.jsxs("span",{children:[e.jsx("span",{className:"block text-xl font-black tracking-tight sm:text-2xl",children:"Qring"}),e.jsx("span",{className:"block text-[10px] font-medium uppercase tracking-wider text-slate-500",children:"Smart Access Control"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsx("button",{type:"button",onClick:a,className:"rounded-lg border border-slate-200 px-3 py-2 text-xs font-semibold text-slate-700 transition hover:bg-slate-50 sm:px-4 sm:text-sm dark:border-slate-700 dark:text-slate-200 dark:hover:bg-slate-900",children:t?"Light":"Dark"}),e.jsx(u,{to:"/about",className:"hidden rounded-lg border border-slate-200 px-4 py-2 text-xs font-semibold sm:text-sm sm:inline-block dark:border-slate-700",children:"About"}),e.jsx(u,{to:"/pricing",className:"hidden rounded-lg bg-slate-900 px-4 py-2 text-xs font-semibold text-white sm:px-6 sm:text-sm sm:inline-block dark:bg-white dark:text-slate-900",children:"Pricing"}),e.jsx("button",{type:"button",onClick:()=>r(!s),className:"md:hidden rounded-lg border border-slate-200 px-3 py-2 text-slate-700 transition hover:bg-slate-50 dark:border-slate-700 dark:text-slate-200 dark:hover:bg-slate-900",children:e.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:s?"M6 18L18 6M6 6l12 12":"M4 6h16M4 12h16M4 18h16"})})})]})]}),s&&e.jsx("div",{className:"border-t border-slate-200 bg-white dark:border-slate-800 dark:bg-slate-900 md:hidden",children:e.jsxs("div",{className:"space-y-1 px-4 py-4 sm:px-6",children:[e.jsx(u,{to:"/",onClick:()=>r(!1),className:"block rounded-lg px-3 py-2 text-base font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white",children:"Home"}),e.jsx(u,{to:"/about",onClick:()=>r(!1),className:"block rounded-lg px-3 py-2 text-base font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white",children:"About"}),e.jsx(u,{to:"/pricing",onClick:()=>r(!1),className:"block rounded-lg px-3 py-2 text-base font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white",children:"Pricing"}),e.jsx(u,{to:"/contact",onClick:()=>r(!1),className:"block rounded-lg px-3 py-2 text-base font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white",children:"Contact"})]})})]}),e.jsx("main",{className:"mx-auto w-full max-w-4xl px-4 py-16 sm:px-6 sm:py-24 lg:px-10",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full border border-slate-200 bg-slate-50 px-4 py-2 dark:border-slate-700 dark:bg-slate-900",children:[e.jsxs("span",{className:"relative flex h-2 w-2",children:[e.jsx("span",{className:"absolute inline-flex h-2 w-2 animate-ping rounded-full bg-slate-400"}),e.jsx("span",{className:"relative inline-flex h-2 w-2 rounded-full bg-slate-900 dark:bg-white"})]}),e.jsx("span",{className:"text-xs font-semibold uppercase tracking-wider text-slate-700 dark:text-slate-200",children:"Coming Soon"})]}),e.jsx("h1",{className:"mt-6 text-4xl font-black tracking-tight sm:text-5xl lg:text-6xl",children:"Blog"}),e.jsx("p",{className:"mt-6 text-lg leading-relaxed text-slate-600 dark:text-slate-300",children:"Insights, updates, and stories about smart access control. Our blog is coming soon."}),e.jsxs("div",{className:"mt-10 flex flex-wrap justify-center gap-4",children:[e.jsx(u,{to:"/",className:"rounded-lg bg-slate-900 px-6 py-3 text-sm font-semibold text-white transition hover:bg-slate-800 dark:bg-white dark:text-slate-900 dark:hover:bg-slate-200",children:"Back Home"}),e.jsx(u,{to:"/contact",className:"rounded-lg border border-slate-200 px-6 py-3 text-sm font-semibold transition hover:bg-slate-50 dark:border-slate-700 dark:hover:bg-slate-800",children:"Subscribe to Updates"})]})]})})]})}function Ss(){const{isDark:t,toggleTheme:a}=Z(),[s,r]=l.useState(!1);return e.jsxs("div",{className:"min-h-screen bg-white text-slate-900 dark:bg-slate-950 dark:text-slate-100",children:[e.jsxs("header",{className:"sticky top-0 z-50 border-b border-slate-200 bg-white/95 backdrop-blur-sm dark:border-slate-800 dark:bg-slate-950/95",children:[e.jsxs("nav",{className:"mx-auto flex w-full max-w-7xl items-center justify-between px-4 py-4 sm:px-6 lg:px-10",children:[e.jsxs(u,{to:"/",className:"flex items-center gap-3 sm:gap-4",children:[e.jsx("span",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-slate-900 dark:bg-white",children:e.jsx(J,{tone:"light",className:"h-6 w-6 dark:invert-0"})}),e.jsxs("span",{children:[e.jsx("span",{className:"block text-xl font-black tracking-tight sm:text-2xl",children:"Qring"}),e.jsx("span",{className:"block text-[10px] font-medium uppercase tracking-wider text-slate-500",children:"Smart Access Control"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsx("button",{type:"button",onClick:a,className:"rounded-lg border border-slate-200 px-3 py-2 text-xs font-semibold text-slate-700 transition hover:bg-slate-50 sm:px-4 sm:text-sm dark:border-slate-700 dark:text-slate-200 dark:hover:bg-slate-900",children:t?"Light":"Dark"}),e.jsx(u,{to:"/about",className:"hidden rounded-lg border border-slate-200 px-4 py-2 text-xs font-semibold sm:text-sm sm:inline-block dark:border-slate-700",children:"About"}),e.jsx(u,{to:"/pricing",className:"hidden rounded-lg bg-slate-900 px-4 py-2 text-xs font-semibold text-white sm:px-6 sm:text-sm sm:inline-block dark:bg-white dark:text-slate-900",children:"Pricing"}),e.jsx("button",{type:"button",onClick:()=>r(!s),className:"md:hidden rounded-lg border border-slate-200 px-3 py-2 text-slate-700 transition hover:bg-slate-50 dark:border-slate-700 dark:text-slate-200 dark:hover:bg-slate-900",children:e.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:s?"M6 18L18 6M6 6l12 12":"M4 6h16M4 12h16M4 18h16"})})})]})]}),s&&e.jsx("div",{className:"border-t border-slate-200 bg-white dark:border-slate-800 dark:bg-slate-900 md:hidden",children:e.jsxs("div",{className:"space-y-1 px-4 py-4 sm:px-6",children:[e.jsx(u,{to:"/",onClick:()=>r(!1),className:"block rounded-lg px-3 py-2 text-base font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white",children:"Home"}),e.jsx(u,{to:"/about",onClick:()=>r(!1),className:"block rounded-lg px-3 py-2 text-base font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white",children:"About"}),e.jsx(u,{to:"/pricing",onClick:()=>r(!1),className:"block rounded-lg px-3 py-2 text-base font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white",children:"Pricing"}),e.jsx(u,{to:"/contact",onClick:()=>r(!1),className:"block rounded-lg px-3 py-2 text-base font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white",children:"Contact"})]})})]}),e.jsx("main",{className:"mx-auto w-full max-w-4xl px-4 py-16 sm:px-6 sm:py-24 lg:px-10",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full border border-slate-200 bg-slate-50 px-4 py-2 dark:border-slate-700 dark:bg-slate-900",children:[e.jsxs("span",{className:"relative flex h-2 w-2",children:[e.jsx("span",{className:"absolute inline-flex h-2 w-2 animate-ping rounded-full bg-slate-400"}),e.jsx("span",{className:"relative inline-flex h-2 w-2 rounded-full bg-slate-900 dark:bg-white"})]}),e.jsx("span",{className:"text-xs font-semibold uppercase tracking-wider text-slate-700 dark:text-slate-200",children:"Coming Soon"})]}),e.jsx("h1",{className:"mt-6 text-4xl font-black tracking-tight sm:text-5xl lg:text-6xl",children:"Careers"}),e.jsx("p",{className:"mt-6 text-lg leading-relaxed text-slate-600 dark:text-slate-300",children:"Join our team and help build the future of access control. Career opportunities coming soon."}),e.jsxs("div",{className:"mt-10 flex flex-wrap justify-center gap-4",children:[e.jsx(u,{to:"/",className:"rounded-lg bg-slate-900 px-6 py-3 text-sm font-semibold text-white transition hover:bg-slate-800 dark:bg-white dark:text-slate-900 dark:hover:bg-slate-200",children:"Back Home"}),e.jsx(u,{to:"/contact",className:"rounded-lg border border-slate-200 px-6 py-3 text-sm font-semibold transition hover:bg-slate-50 dark:border-slate-700 dark:hover:bg-slate-800",children:"Get In Touch"})]})]})})]})}function Cs(){const{isDark:t,toggleTheme:a}=Z(),[s,r]=l.useState(!1);return e.jsxs("div",{className:"min-h-screen bg-white text-slate-900 dark:bg-slate-950 dark:text-slate-100",children:[e.jsxs("header",{className:"sticky top-0 z-50 border-b border-slate-200 bg-white/95 backdrop-blur-sm dark:border-slate-800 dark:bg-slate-950/95",children:[e.jsxs("nav",{className:"mx-auto flex w-full max-w-7xl items-center justify-between px-4 py-4 sm:px-6 lg:px-10",children:[e.jsxs(u,{to:"/",className:"flex items-center gap-3 sm:gap-4",children:[e.jsx("span",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-slate-900 dark:bg-white",children:e.jsx(J,{tone:"light",className:"h-6 w-6 dark:invert-0"})}),e.jsxs("span",{children:[e.jsx("span",{className:"block text-xl font-black tracking-tight sm:text-2xl",children:"Qring"}),e.jsx("span",{className:"block text-[10px] font-medium uppercase tracking-wider text-slate-500",children:"Smart Access Control"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsx("button",{type:"button",onClick:a,className:"rounded-lg border border-slate-200 px-3 py-2 text-xs font-semibold text-slate-700 transition hover:bg-slate-50 sm:px-4 sm:text-sm dark:border-slate-700 dark:text-slate-200 dark:hover:bg-slate-900",children:t?"Light":"Dark"}),e.jsx(u,{to:"/about",className:"hidden rounded-lg border border-slate-200 px-4 py-2 text-xs font-semibold sm:text-sm sm:inline-block dark:border-slate-700",children:"About"}),e.jsx(u,{to:"/pricing",className:"hidden rounded-lg bg-slate-900 px-4 py-2 text-xs font-semibold text-white sm:px-6 sm:text-sm sm:inline-block dark:bg-white dark:text-slate-900",children:"Pricing"}),e.jsx("button",{type:"button",onClick:()=>r(!s),className:"md:hidden rounded-lg border border-slate-200 px-3 py-2 text-slate-700 transition hover:bg-slate-50 dark:border-slate-700 dark:text-slate-200 dark:hover:bg-slate-900",children:e.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:s?"M6 18L18 6M6 6l12 12":"M4 6h16M4 12h16M4 18h16"})})})]})]}),s&&e.jsx("div",{className:"border-t border-slate-200 bg-white dark:border-slate-800 dark:bg-slate-900 md:hidden",children:e.jsxs("div",{className:"space-y-1 px-4 py-4 sm:px-6",children:[e.jsx(u,{to:"/",onClick:()=>r(!1),className:"block rounded-lg px-3 py-2 text-base font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white",children:"Home"}),e.jsx(u,{to:"/about",onClick:()=>r(!1),className:"block rounded-lg px-3 py-2 text-base font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white",children:"About"}),e.jsx(u,{to:"/pricing",onClick:()=>r(!1),className:"block rounded-lg px-3 py-2 text-base font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white",children:"Pricing"}),e.jsx(u,{to:"/contact",onClick:()=>r(!1),className:"block rounded-lg px-3 py-2 text-base font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white",children:"Contact"})]})})]}),e.jsx("main",{className:"mx-auto w-full max-w-4xl px-4 py-16 sm:px-6 sm:py-24 lg:px-10",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full border border-slate-200 bg-slate-50 px-4 py-2 dark:border-slate-700 dark:bg-slate-900",children:[e.jsxs("span",{className:"relative flex h-2 w-2",children:[e.jsx("span",{className:"absolute inline-flex h-2 w-2 animate-ping rounded-full bg-slate-400"}),e.jsx("span",{className:"relative inline-flex h-2 w-2 rounded-full bg-slate-900 dark:bg-white"})]}),e.jsx("span",{className:"text-xs font-semibold uppercase tracking-wider text-slate-700 dark:text-slate-200",children:"Coming Soon"})]}),e.jsx("h1",{className:"mt-6 text-4xl font-black tracking-tight sm:text-5xl lg:text-6xl",children:"Legal"}),e.jsx("p",{className:"mt-6 text-lg leading-relaxed text-slate-600 dark:text-slate-300",children:"Legal information and documentation coming soon. Check back for Privacy, Terms, and Compliance information."}),e.jsxs("div",{className:"mt-10 flex flex-wrap justify-center gap-4",children:[e.jsx(u,{to:"/",className:"rounded-lg bg-slate-900 px-6 py-3 text-sm font-semibold text-white transition hover:bg-slate-800 dark:bg-white dark:text-slate-900 dark:hover:bg-slate-200",children:"Back Home"}),e.jsx(u,{to:"/contact",className:"rounded-lg border border-slate-200 px-6 py-3 text-sm font-semibold transition hover:bg-slate-50 dark:border-slate-700 dark:hover:bg-slate-800",children:"Contact Us"})]})]})})]})}function Ps(){const{isDark:t,toggleTheme:a}=Z(),[s,r]=l.useState(!1);return e.jsxs("div",{className:"min-h-screen bg-white text-slate-900 dark:bg-slate-950 dark:text-slate-100",children:[e.jsxs("header",{className:"sticky top-0 z-50 border-b border-slate-200 bg-white/95 backdrop-blur-sm dark:border-slate-800 dark:bg-slate-950/95",children:[e.jsxs("nav",{className:"mx-auto flex w-full max-w-7xl items-center justify-between px-4 py-4 sm:px-6 lg:px-10",children:[e.jsxs(u,{to:"/",className:"flex items-center gap-3 sm:gap-4",children:[e.jsx("span",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-slate-900 dark:bg-white",children:e.jsx(J,{tone:"light",className:"h-6 w-6 dark:invert-0"})}),e.jsxs("span",{children:[e.jsx("span",{className:"block text-xl font-black tracking-tight sm:text-2xl",children:"Qring"}),e.jsx("span",{className:"block text-[10px] font-medium uppercase tracking-wider text-slate-500",children:"Smart Access Control"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsx("button",{type:"button",onClick:a,className:"rounded-lg border border-slate-200 px-3 py-2 text-xs font-semibold text-slate-700 transition hover:bg-slate-50 sm:px-4 sm:text-sm dark:border-slate-700 dark:text-slate-200 dark:hover:bg-slate-900",children:t?"Light":"Dark"}),e.jsx(u,{to:"/about",className:"hidden rounded-lg border border-slate-200 px-4 py-2 text-xs font-semibold sm:text-sm sm:inline-block dark:border-slate-700",children:"About"}),e.jsx(u,{to:"/pricing",className:"hidden rounded-lg bg-slate-900 px-4 py-2 text-xs font-semibold text-white sm:px-6 sm:text-sm sm:inline-block dark:bg-white dark:text-slate-900",children:"Pricing"}),e.jsx("button",{type:"button",onClick:()=>r(!s),className:"md:hidden rounded-lg border border-slate-200 px-3 py-2 text-slate-700 transition hover:bg-slate-50 dark:border-slate-700 dark:text-slate-200 dark:hover:bg-slate-900",children:e.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:s?"M6 18L18 6M6 6l12 12":"M4 6h16M4 12h16M4 18h16"})})})]})]}),s&&e.jsx("div",{className:"border-t border-slate-200 bg-white dark:border-slate-800 dark:bg-slate-900 md:hidden",children:e.jsxs("div",{className:"space-y-1 px-4 py-4 sm:px-6",children:[e.jsx(u,{to:"/",onClick:()=>r(!1),className:"block rounded-lg px-3 py-2 text-base font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white",children:"Home"}),e.jsx(u,{to:"/about",onClick:()=>r(!1),className:"block rounded-lg px-3 py-2 text-base font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white",children:"About"}),e.jsx(u,{to:"/pricing",onClick:()=>r(!1),className:"block rounded-lg px-3 py-2 text-base font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white",children:"Pricing"}),e.jsx(u,{to:"/contact",onClick:()=>r(!1),className:"block rounded-lg px-3 py-2 text-base font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white",children:"Contact"})]})})]}),e.jsxs("main",{className:"mx-auto w-full max-w-5xl px-4 py-16 sm:px-6 sm:py-24 lg:px-10",children:[e.jsxs("div",{className:"mb-16",children:[e.jsx("h1",{className:"text-4xl font-black tracking-tight sm:text-5xl",children:"Privacy Policy"}),e.jsx("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-400",children:"Last updated: January 2025"}),e.jsx("p",{className:"mt-4 text-lg text-slate-600 dark:text-slate-300",children:"We respect your privacy and are committed to protecting your personal data. This policy explains how we collect, use, and safeguard your information."})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"1. Information We Collect"}),e.jsxs("div",{className:"mt-4 space-y-3",children:[e.jsxs("p",{className:"text-slate-700 dark:text-slate-300",children:[e.jsx("strong",{children:"Account Information:"})," Name, email address, phone number, password, and profile details provided during registration."]}),e.jsxs("p",{className:"text-slate-700 dark:text-slate-300",children:[e.jsx("strong",{children:"Session Data:"})," QR code scans, access requests, visitor interactions, and device information for each session."]}),e.jsxs("p",{className:"text-slate-700 dark:text-slate-300",children:[e.jsx("strong",{children:"Communication Data:"})," Messages, voice recordings, and video data shared through our realtime communication features (encrypted end-to-end)."]}),e.jsxs("p",{className:"text-slate-700 dark:text-slate-300",children:[e.jsx("strong",{children:"Technical Data:"})," IP address, browser type, device information, and usage patterns for analytics and security."]}),e.jsxs("p",{className:"text-slate-700 dark:text-slate-300",children:[e.jsx("strong",{children:"Payment Information:"})," Billing address and payment method data (processed securely by third-party providers, we do not store full credit card numbers)."]})]})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"2. How We Use Your Information"}),e.jsxs("div",{className:"mt-4 space-y-3",children:[e.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:"• Provide and improve our smart access control platform and services"}),e.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:"• Process transactions, payments, and account management"}),e.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:"• Communicate service updates, security alerts, and support responses"}),e.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:"• Generate audit logs for security, compliance, and troubleshooting"}),e.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:"• Analyze usage patterns to enhance user experience and platform performance"}),e.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:"• Comply with legal obligations and enforce our terms of service"})]})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"3. Data Retention"}),e.jsxs("div",{className:"mt-4 space-y-3",children:[e.jsxs("p",{className:"text-slate-700 dark:text-slate-300",children:[e.jsx("strong",{children:"Active Account:"})," Your account information is retained for the duration of your subscription."]}),e.jsxs("p",{className:"text-slate-700 dark:text-slate-300",children:[e.jsx("strong",{children:"Audit Logs:"})," Session logs and access records are retained for 90 days to 1 year for security and compliance purposes."]}),e.jsxs("p",{className:"text-slate-700 dark:text-slate-300",children:[e.jsx("strong",{children:"Communication Data:"})," Realtime communication is not stored unless explicitly backed up by the user."]}),e.jsxs("p",{className:"text-slate-700 dark:text-slate-300",children:[e.jsx("strong",{children:"After Account Deletion:"})," We delete or anonymize personal data within 30 days of account closure, except where required by law."]})]})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"4. Data Sharing & Third Parties"}),e.jsxs("div",{className:"mt-4 space-y-3",children:[e.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:"We do not sell, rent, or trade your personal data. We may share information only:"}),e.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:"• With service providers (hosting, payment processing, analytics) under data processing agreements"}),e.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:"• When required by law, court order, or government authority"}),e.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:"• To protect against security threats or fraud (with minimal data shared)"}),e.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:"• In case of business restructuring or acquisition (with privacy terms maintained)"})]})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"5. Your Rights & Controls"}),e.jsxs("div",{className:"mt-4 space-y-3",children:[e.jsxs("p",{className:"text-slate-700 dark:text-slate-300",children:[e.jsx("strong",{children:"Access:"})," You can view and download your personal data through account settings."]}),e.jsxs("p",{className:"text-slate-700 dark:text-slate-300",children:[e.jsx("strong",{children:"Correction:"})," Update or correct account information in your profile at any time."]}),e.jsxs("p",{className:"text-slate-700 dark:text-slate-300",children:[e.jsx("strong",{children:"Deletion:"})," Request deletion of your account and associated personal data (some data retained for audit/legal purposes)."]}),e.jsxs("p",{className:"text-slate-700 dark:text-slate-300",children:[e.jsx("strong",{children:"Opt-Out:"})," Disable marketing emails and notifications through account preferences."]}),e.jsxs("p",{className:"text-slate-700 dark:text-slate-300",children:[e.jsx("strong",{children:"GDPR Rights:"})," If you're in the EU, you have additional rights under GDPR. Contact us for a formal data request."]})]})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"6. Cookies & Tracking"}),e.jsxs("div",{className:"mt-4 space-y-3",children:[e.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:"We use cookies and localStorage to maintain sessions, remember preferences, and analyze platform usage. You can control cookie settings in your browser."}),e.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:"We use Google Analytics for aggregated usage insights. No personally identifiable information is sent to Google."})]})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"7. Security Measures"}),e.jsxs("div",{className:"mt-4 space-y-3",children:[e.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:"• Data encrypted in transit (HTTPS/TLS 1.2+) and at rest (AES-256)"}),e.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:"• Passwords hashed with bcrypt to prevent unauthorized access"}),e.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:"• End-to-end encryption for realtime communications"}),e.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:"• Regular security audits and penetration testing"}),e.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:"• Multi-factor authentication available for enhanced account protection"})]})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"8. Children's Privacy"}),e.jsx("div",{className:"mt-4 space-y-3",children:e.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:"Our service is not intended for users under 18. We do not knowingly collect data from minors. If we discover such data, we delete it promptly."})})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"9. Policy Changes"}),e.jsx("div",{className:"mt-4 space-y-3",children:e.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:"We may update this policy periodically. Significant changes will be notified via email or in-app notice. Continued use after changes constitutes acceptance."})})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"10. Contact Us"}),e.jsxs("div",{className:"mt-4 space-y-3",children:[e.jsxs("p",{className:"text-slate-700 dark:text-slate-300",children:[e.jsx("strong",{children:"Privacy Questions:"})," privacy@useqring.online"]}),e.jsxs("p",{className:"text-slate-700 dark:text-slate-300",children:[e.jsx("strong",{children:"GDPR/Data Requests:"})," dpo@useqring.online"]}),e.jsxs("p",{className:"text-slate-700 dark:text-slate-300",children:[e.jsx("strong",{children:"Security Concerns:"})," security@useqring.online"]})]})]})]}),e.jsxs("div",{className:"mt-16 flex flex-wrap justify-center gap-4 border-t border-slate-200 pt-8 dark:border-slate-800",children:[e.jsx(u,{to:"/",className:"rounded-lg bg-slate-900 px-6 py-3 text-sm font-semibold text-white transition hover:bg-slate-800 dark:bg-white dark:text-slate-900 dark:hover:bg-slate-200",children:"Back Home"}),e.jsx(u,{to:"/terms",className:"rounded-lg border border-slate-200 px-6 py-3 text-sm font-semibold transition hover:bg-slate-50 dark:border-slate-700 dark:hover:bg-slate-800",children:"View Terms"})]})]})]})}function As(){const{isDark:t,toggleTheme:a}=Z(),[s,r]=l.useState(!1);return e.jsxs("div",{className:"min-h-screen bg-white text-slate-900 dark:bg-slate-950 dark:text-slate-100",children:[e.jsxs("header",{className:"sticky top-0 z-50 border-b border-slate-200 bg-white/95 backdrop-blur-sm dark:border-slate-800 dark:bg-slate-950/95",children:[e.jsxs("nav",{className:"mx-auto flex w-full max-w-7xl items-center justify-between px-4 py-4 sm:px-6 lg:px-10",children:[e.jsxs(u,{to:"/",className:"flex items-center gap-3 sm:gap-4",children:[e.jsx("span",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-slate-900 dark:bg-white",children:e.jsx(J,{tone:"light",className:"h-6 w-6 dark:invert-0"})}),e.jsxs("span",{children:[e.jsx("span",{className:"block text-xl font-black tracking-tight sm:text-2xl",children:"Qring"}),e.jsx("span",{className:"block text-[10px] font-medium uppercase tracking-wider text-slate-500",children:"Smart Access Control"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsx("button",{type:"button",onClick:a,className:"rounded-lg border border-slate-200 px-3 py-2 text-xs font-semibold text-slate-700 transition hover:bg-slate-50 sm:px-4 sm:text-sm dark:border-slate-700 dark:text-slate-200 dark:hover:bg-slate-900",children:t?"Light":"Dark"}),e.jsx(u,{to:"/about",className:"hidden rounded-lg border border-slate-200 px-4 py-2 text-xs font-semibold sm:text-sm sm:inline-block dark:border-slate-700",children:"About"}),e.jsx(u,{to:"/pricing",className:"hidden rounded-lg bg-slate-900 px-4 py-2 text-xs font-semibold text-white sm:px-6 sm:text-sm sm:inline-block dark:bg-white dark:text-slate-900",children:"Pricing"}),e.jsx("button",{type:"button",onClick:()=>r(!s),className:"md:hidden rounded-lg border border-slate-200 px-3 py-2 text-slate-700 transition hover:bg-slate-50 dark:border-slate-700 dark:text-slate-200 dark:hover:bg-slate-900",children:e.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:s?"M6 18L18 6M6 6l12 12":"M4 6h16M4 12h16M4 18h16"})})})]})]}),s&&e.jsx("div",{className:"border-t border-slate-200 bg-white dark:border-slate-800 dark:bg-slate-900 md:hidden",children:e.jsxs("div",{className:"space-y-1 px-4 py-4 sm:px-6",children:[e.jsx(u,{to:"/",onClick:()=>r(!1),className:"block rounded-lg px-3 py-2 text-base font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white",children:"Home"}),e.jsx(u,{to:"/about",onClick:()=>r(!1),className:"block rounded-lg px-3 py-2 text-base font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white",children:"About"}),e.jsx(u,{to:"/pricing",onClick:()=>r(!1),className:"block rounded-lg px-3 py-2 text-base font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white",children:"Pricing"}),e.jsx(u,{to:"/contact",onClick:()=>r(!1),className:"block rounded-lg px-3 py-2 text-base font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white",children:"Contact"})]})})]}),e.jsxs("main",{className:"mx-auto w-full max-w-5xl px-4 py-16 sm:px-6 sm:py-24 lg:px-10",children:[e.jsxs("div",{className:"mb-16",children:[e.jsx("h1",{className:"text-4xl font-black tracking-tight sm:text-5xl",children:"Terms of Service"}),e.jsx("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-400",children:"Last updated: January 2025"}),e.jsx("p",{className:"mt-4 text-lg text-slate-600 dark:text-slate-300",children:"These Terms of Service govern your use of the Qring platform. By accessing or using our service, you agree to be bound by these terms."})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"1. Acceptance of Terms"}),e.jsx("div",{className:"mt-4 space-y-3",children:e.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:"By accessing, using, or registering with Qring, you agree to comply with these Terms of Service and all applicable laws and regulations. If you do not agree with any part of these terms, you may not use our service."})})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"2. Service Description"}),e.jsxs("div",{className:"mt-4 space-y-3",children:[e.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:"Qring is a smart access control platform that enables estate managers and homeowners to manage visitor access through QR codes, realtime communication, and digital session management."}),e.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:"We reserve the right to modify, suspend, or discontinue service at any time with reasonable notice."})]})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"3. User Accounts & Responsibilities"}),e.jsxs("div",{className:"mt-4 space-y-3",children:[e.jsxs("p",{className:"text-slate-700 dark:text-slate-300",children:[e.jsx("strong",{children:"Registration:"})," You must provide accurate, complete information during registration and keep it updated."]}),e.jsxs("p",{className:"text-slate-700 dark:text-slate-300",children:[e.jsx("strong",{children:"Account Security:"})," You are responsible for maintaining the confidentiality of your password. You agree not to share account credentials and are liable for all activities under your account."]}),e.jsxs("p",{className:"text-slate-700 dark:text-slate-300",children:[e.jsx("strong",{children:"Lawful Use:"})," You must use the service only for lawful purposes and in accordance with these terms."]})]})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"4. User Conduct Restrictions"}),e.jsxs("div",{className:"mt-4 space-y-3",children:[e.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:"You agree NOT to:"}),e.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:"• Attempt unauthorized access or hack the platform"}),e.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:"• Transmit malware, viruses, or malicious code"}),e.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:"• Use the service for illegal activities or harassment"}),e.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:"• Violate intellectual property rights of others"}),e.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:"• Reverse engineer, decompile, or attempt to derive source code"}),e.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:"• Spam, abuse, or harass other users"})]})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"5. Intellectual Property Rights"}),e.jsxs("div",{className:"mt-4 space-y-3",children:[e.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:"All content, features, and functionality of Qring are owned by Qring or its licensors, including logos, trademarks, and software code. You may not reproduce, modify, or distribute any content without express written permission."}),e.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:"You retain ownership of content you create and upload, but grant us a license to use, display, and process it for service delivery."})]})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"6. Payment & Billing"}),e.jsxs("div",{className:"mt-4 space-y-3",children:[e.jsxs("p",{className:"text-slate-700 dark:text-slate-300",children:[e.jsx("strong",{children:"Fees:"})," Subscription fees are as listed on the pricing page and are subject to change with 30 days notice."]}),e.jsxs("p",{className:"text-slate-700 dark:text-slate-300",children:[e.jsx("strong",{children:"Billing:"})," You authorize us to charge your payment method on the billing date. Failed payments may result in service suspension."]}),e.jsxs("p",{className:"text-slate-700 dark:text-slate-300",children:[e.jsx("strong",{children:"Refunds:"})," Refunds are available within 30 days of payment for first-time subscribers. Other refunds are at our discretion."]})]})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"7. Limitation of Liability"}),e.jsxs("div",{className:"mt-4 space-y-3",children:[e.jsxs("p",{className:"text-slate-700 dark:text-slate-300",children:[e.jsx("strong",{children:"Disclaimer:"}),' The service is provided "as-is" without warranties of any kind, express or implied.']}),e.jsxs("p",{className:"text-slate-700 dark:text-slate-300",children:[e.jsx("strong",{children:"Limitation:"})," To the maximum extent permitted by law, Qring shall not be liable for indirect, incidental, special, consequential, or punitive damages."]}),e.jsxs("p",{className:"text-slate-700 dark:text-slate-300",children:[e.jsx("strong",{children:"Maximum Liability:"})," Our total liability to you shall not exceed the amount you paid in the 12 months preceding the claim."]})]})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"8. Indemnification"}),e.jsx("div",{className:"mt-4 space-y-3",children:e.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:"You agree to indemnify, defend, and hold harmless Qring from any claims, damages, losses, or expenses arising from your violation of these terms, your use of the service, or your infringement of any rights."})})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"9. Termination"}),e.jsxs("div",{className:"mt-4 space-y-3",children:[e.jsxs("p",{className:"text-slate-700 dark:text-slate-300",children:[e.jsx("strong",{children:"Account Termination:"})," You may terminate your account anytime through account settings. No refund of unused subscription fees will be issued."]}),e.jsxs("p",{className:"text-slate-700 dark:text-slate-300",children:[e.jsx("strong",{children:"Our Right to Terminate:"})," We may terminate or suspend your account for violation of these terms, non-payment, or abuse of service."]})]})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"10. Dispute Resolution"}),e.jsxs("div",{className:"mt-4 space-y-3",children:[e.jsxs("p",{className:"text-slate-700 dark:text-slate-300",children:[e.jsx("strong",{children:"Governing Law:"})," These terms are governed by applicable international law."]}),e.jsxs("p",{className:"text-slate-700 dark:text-slate-300",children:[e.jsx("strong",{children:"Arbitration:"})," Disputes shall be resolved through informal resolution or binding arbitration, not court proceedings."]})]})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"11. Modifications to Terms"}),e.jsx("div",{className:"mt-4 space-y-3",children:e.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:"We may update these terms at any time. Major changes will be notified via email or in-app notice. Your continued use after changes constitutes acceptance."})})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"12. Contact for Disputes"}),e.jsxs("div",{className:"mt-4 space-y-3",children:[e.jsxs("p",{className:"text-slate-700 dark:text-slate-300",children:[e.jsx("strong",{children:"Support:"})," support@useqring.online"]}),e.jsxs("p",{className:"text-slate-700 dark:text-slate-300",children:[e.jsx("strong",{children:"Legal Issues:"})," legal@useqring.online"]})]})]})]}),e.jsxs("div",{className:"mt-16 flex flex-wrap justify-center gap-4 border-t border-slate-200 pt-8 dark:border-slate-800",children:[e.jsx(u,{to:"/",className:"rounded-lg bg-slate-900 px-6 py-3 text-sm font-semibold text-white transition hover:bg-slate-800 dark:bg-white dark:text-slate-900 dark:hover:bg-slate-200",children:"Back Home"}),e.jsx(u,{to:"/privacy",className:"rounded-lg border border-slate-200 px-6 py-3 text-sm font-semibold transition hover:bg-slate-50 dark:border-slate-700 dark:hover:bg-slate-800",children:"View Privacy"})]})]})]})}function Es(){const{isDark:t,toggleTheme:a}=Z(),[s,r]=l.useState(!1);return e.jsxs("div",{className:"min-h-screen bg-white text-slate-900 dark:bg-slate-950 dark:text-slate-100",children:[e.jsxs("header",{className:"sticky top-0 z-50 border-b border-slate-200 bg-white/95 backdrop-blur-sm dark:border-slate-800 dark:bg-slate-950/95",children:[e.jsxs("nav",{className:"mx-auto flex w-full max-w-7xl items-center justify-between px-4 py-4 sm:px-6 lg:px-10",children:[e.jsxs(u,{to:"/",className:"flex items-center gap-3 sm:gap-4",children:[e.jsx("span",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-slate-900 dark:bg-white",children:e.jsx(J,{tone:"light",className:"h-6 w-6 dark:invert-0"})}),e.jsxs("span",{children:[e.jsx("span",{className:"block text-xl font-black tracking-tight sm:text-2xl",children:"Qring"}),e.jsx("span",{className:"block text-[10px] font-medium uppercase tracking-wider text-slate-500",children:"Smart Access Control"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsx("button",{type:"button",onClick:a,className:"rounded-lg border border-slate-200 px-3 py-2 text-xs font-semibold text-slate-700 transition hover:bg-slate-50 sm:px-4 sm:text-sm dark:border-slate-700 dark:text-slate-200 dark:hover:bg-slate-900",children:t?"Light":"Dark"}),e.jsx(u,{to:"/about",className:"hidden rounded-lg border border-slate-200 px-4 py-2 text-xs font-semibold sm:text-sm sm:inline-block dark:border-slate-700",children:"About"}),e.jsx(u,{to:"/pricing",className:"hidden rounded-lg bg-slate-900 px-4 py-2 text-xs font-semibold text-white sm:px-6 sm:text-sm sm:inline-block dark:bg-white dark:text-slate-900",children:"Pricing"}),e.jsx("button",{type:"button",onClick:()=>r(!s),className:"md:hidden rounded-lg border border-slate-200 px-3 py-2 text-slate-700 transition hover:bg-slate-50 dark:border-slate-700 dark:text-slate-200 dark:hover:bg-slate-900",children:e.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:s?"M6 18L18 6M6 6l12 12":"M4 6h16M4 12h16M4 18h16"})})})]})]}),s&&e.jsx("div",{className:"border-t border-slate-200 bg-white dark:border-slate-800 dark:bg-slate-900 md:hidden",children:e.jsxs("div",{className:"space-y-1 px-4 py-4 sm:px-6",children:[e.jsx(u,{to:"/",onClick:()=>r(!1),className:"block rounded-lg px-3 py-2 text-base font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white",children:"Home"}),e.jsx(u,{to:"/about",onClick:()=>r(!1),className:"block rounded-lg px-3 py-2 text-base font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white",children:"About"}),e.jsx(u,{to:"/pricing",onClick:()=>r(!1),className:"block rounded-lg px-3 py-2 text-base font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white",children:"Pricing"}),e.jsx(u,{to:"/contact",onClick:()=>r(!1),className:"block rounded-lg px-3 py-2 text-base font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white",children:"Contact"})]})})]}),e.jsxs("main",{className:"mx-auto w-full max-w-5xl px-4 py-16 sm:px-6 sm:py-24 lg:px-10",children:[e.jsxs("div",{className:"mb-16",children:[e.jsx("h1",{className:"text-4xl font-black tracking-tight sm:text-5xl",children:"Compliance & Standards"}),e.jsx("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-400",children:"Last updated: January 2025"}),e.jsx("p",{className:"mt-4 text-lg text-slate-600 dark:text-slate-300",children:"Qring adheres to stringent compliance requirements and best practices for data protection, security, and operational integrity."})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Data Protection Regulations"}),e.jsxs("div",{className:"mt-4 space-y-4",children:[e.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-6 dark:border-slate-800 dark:bg-slate-900",children:[e.jsx("h3",{className:"font-bold text-slate-900 dark:text-white",children:"GDPR Compliance"}),e.jsx("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-300",children:"Qring complies with the General Data Protection Regulation (GDPR). We honor user rights including data access, correction, deletion, and portability. Our Data Processing Agreements are available upon request."})]}),e.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-6 dark:border-slate-800 dark:bg-slate-900",children:[e.jsx("h3",{className:"font-bold text-slate-900 dark:text-white",children:"CCPA & Privacy Laws"}),e.jsx("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-300",children:"For users in California and other jurisdictions with privacy laws, we provide transparency about personal information, allow opt-out options, and facilitate data rights requests."})]}),e.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-6 dark:border-slate-800 dark:bg-slate-900",children:[e.jsx("h3",{className:"font-bold text-slate-900 dark:text-white",children:"UK Data Protection Act (UKDPA)"}),e.jsx("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-300",children:"Qring honors obligations under the UK Data Protection Act 2018 and recognizes all GDPR rights for UK-based users."})]})]})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Security Frameworks"}),e.jsxs("div",{className:"mt-4 space-y-4",children:[e.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-6 dark:border-slate-800 dark:bg-slate-900",children:[e.jsx("h3",{className:"font-bold text-slate-900 dark:text-white",children:"NIST Cybersecurity Framework"}),e.jsx("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-300",children:"Our security practices align with NIST guidelines for identifying, protecting, detecting, responding to, and recovering from cybersecurity incidents."})]}),e.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-6 dark:border-slate-800 dark:bg-slate-900",children:[e.jsx("h3",{className:"font-bold text-slate-900 dark:text-white",children:"OWASP Top 10"}),e.jsx("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-300",children:"Qring development follows OWASP Top 10 security recommendations to prevent common application vulnerabilities including injection, broken authentication, and sensitive data exposure."})]}),e.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-6 dark:border-slate-800 dark:bg-slate-900",children:[e.jsx("h3",{className:"font-bold text-slate-900 dark:text-white",children:"Encryption Standards"}),e.jsx("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-300",children:"All data is encrypted using industry-standard protocols: TLS 1.2+ for transport, AES-256 for data at rest, and WebRTC for realtime communications."})]})]})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Compliance Certifications"}),e.jsxs("div",{className:"mt-4 space-y-4",children:[e.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-6 dark:border-slate-800 dark:bg-slate-900",children:[e.jsx("h3",{className:"font-bold text-slate-900 dark:text-white",children:"Security Audits"}),e.jsx("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-300",children:"Qring undergoes regular third-party security assessments and penetration testing to identify and remediate vulnerabilities."})]}),e.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-6 dark:border-slate-800 dark:bg-slate-900",children:[e.jsx("h3",{className:"font-bold text-slate-900 dark:text-white",children:"Incident Response Plan"}),e.jsx("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-300",children:"We maintain a documented incident response plan to detect and respond to security incidents within acceptable timeframes and notify affected users."})]}),e.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-6 dark:border-slate-800 dark:bg-slate-900",children:[e.jsx("h3",{className:"font-bold text-slate-900 dark:text-white",children:"Business Continuity"}),e.jsx("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-300",children:"Qring maintains backup and disaster recovery procedures with regular testing to ensure service availability and data integrity."})]})]})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Access Control & Authentication"}),e.jsxs("div",{className:"mt-4 space-y-4",children:[e.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-6 dark:border-slate-800 dark:bg-slate-900",children:[e.jsx("h3",{className:"font-bold text-slate-900 dark:text-white",children:"Role-Based Access Control (RBAC)"}),e.jsx("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-300",children:"Granular permissions ensure users only access data and features required for their role. Regular access reviews are conducted."})]}),e.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-6 dark:border-slate-800 dark:bg-slate-900",children:[e.jsx("h3",{className:"font-bold text-slate-900 dark:text-white",children:"Multi-Factor Authentication"}),e.jsx("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-300",children:"MFA is available for all accounts and required for administrative functions to prevent unauthorized access."})]}),e.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-6 dark:border-slate-800 dark:bg-slate-900",children:[e.jsx("h3",{className:"font-bold text-slate-900 dark:text-white",children:"Session Management"}),e.jsx("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-300",children:"Sessions are scoped, time-limited, and automatically revoked. All session events are logged for audit purposes."})]})]})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Audit & Logging"}),e.jsxs("div",{className:"mt-4 space-y-3",children:[e.jsxs("p",{className:"text-slate-700 dark:text-slate-300",children:[e.jsx("strong",{children:"Comprehensive Logging:"})," All authentication, authorization, and data access events are logged with timestamps, user identifiers, IP addresses, and action details."]}),e.jsxs("p",{className:"text-slate-700 dark:text-slate-300",children:[e.jsx("strong",{children:"Log Retention:"})," Audit logs are retained for 12 months and protected against tampering and unauthorized access."]}),e.jsxs("p",{className:"text-slate-700 dark:text-slate-300",children:[e.jsx("strong",{children:"Log Review:"})," Logs are regularly reviewed for suspicious activities and security events."]})]})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Third-Party Security"}),e.jsx("div",{className:"mt-4 space-y-3",children:e.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:"All third-party service providers are vetted for security and compliance. Data Processing Agreements are in place for any processor handling personal data."})})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Compliance Contact"}),e.jsxs("div",{className:"mt-4 space-y-3",children:[e.jsxs("p",{className:"text-slate-700 dark:text-slate-300",children:[e.jsx("strong",{children:"Compliance Officer:"})," compliance@useqring.online"]}),e.jsxs("p",{className:"text-slate-700 dark:text-slate-300",children:[e.jsx("strong",{children:"Data Protection Officer:"})," dpo@useqring.online"]}),e.jsxs("p",{className:"text-slate-700 dark:text-slate-300",children:[e.jsx("strong",{children:"Security Team:"})," security@useqring.online"]})]})]})]}),e.jsxs("div",{className:"mt-16 flex flex-wrap justify-center gap-4 border-t border-slate-200 pt-8 dark:border-slate-800",children:[e.jsx(u,{to:"/",className:"rounded-lg bg-slate-900 px-6 py-3 text-sm font-semibold text-white transition hover:bg-slate-800 dark:bg-white dark:text-slate-900 dark:hover:bg-slate-200",children:"Back Home"}),e.jsx(u,{to:"/security",className:"rounded-lg border border-slate-200 px-6 py-3 text-sm font-semibold transition hover:bg-slate-50 dark:border-slate-700 dark:hover:bg-slate-800",children:"View Security"})]})]})]})}function ge({title:t,subtitle:a,children:s}){return e.jsxs("div",{className:"w-full max-w-md rounded-3xl border border-slate-200 bg-white/90 p-7 shadow-soft backdrop-blur dark:border-slate-800 dark:bg-slate-900/80",children:[e.jsxs("div",{className:"mb-5 flex items-center gap-3",children:[e.jsx("div",{className:"grid h-10 w-10 place-items-center rounded-xl bg-slate-900 dark:bg-white",children:e.jsx(J,{tone:"light",className:"h-6 w-6 dark:invert-0"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500",children:"Qring"}),e.jsx("p",{className:"text-sm font-semibold text-slate-700 dark:text-slate-200",children:"Secure Access"})]})]}),e.jsx("h1",{className:"font-heading text-3xl font-bold",children:t}),e.jsx("p",{className:"mt-2 text-sm text-slate-500",children:a}),e.jsx("div",{className:"mt-6",children:s})]})}const Rs={apiKey:"AIzaSyAg0TIlKOOk3AcDn-VGh9HlDQi2eDjk088",authDomain:"qring-7ced9.firebaseapp.com",projectId:"qring-7ced9",storageBucket:"qring-7ced9.firebasestorage.app",messagingSenderId:"103048317220",appId:"1:103048317220:web:72f9667db6daae62504bb1",measurementId:"G-3B48QKGTH7"},Ms=Ut(Rs),Ye=Ft(Ms);Vt(Ye,zt).catch(t=>{console.error("Error setting Firebase persistence:",t)});const qe=new Wt;qe.addScope("profile");qe.addScope("email");async function At(){try{const a=(await yt(Ye,qe)).user,s=await a.getIdToken(),r=await T("/auth/google-signin",{method:"POST",body:JSON.stringify({idToken:s,email:a.email,displayName:a.displayName,photoURL:a.photoURL})});return(r==null?void 0:r.data)??r}catch(t){throw t.code==="auth/popup-closed-by-user"?new Error("Sign-in popup was closed"):t.code==="auth/popup-blocked"?new Error("Sign-in popup was blocked. Please allow popups."):new Error(t.message||"Google sign-in failed")}}async function Et(t="homeowner"){try{const s=(await yt(Ye,qe)).user,r=await s.getIdToken(),n=await T("/auth/google-signup",{method:"POST",body:JSON.stringify({idToken:r,email:s.email,displayName:s.displayName,photoURL:s.photoURL,role:t})});return(n==null?void 0:n.data)??n}catch(a){throw a.code==="auth/popup-closed-by-user"?new Error("Sign-up popup was closed"):a.code==="auth/popup-blocked"?new Error("Sign-up popup was blocked. Please allow popups."):new Error(a.message||"Google sign-up failed")}}async function Rt(t){return T("/auth/login",{method:"POST",body:JSON.stringify(t)})}async function Is(){return At()}async function Ds(t){return Et(t)}async function Ts(){return At()}async function Ls(){return Et("admin")}async function qs(t){return T("/auth/signup",{method:"POST",body:JSON.stringify(t)})}async function $s(t){return T("/auth/admin-signup",{method:"POST",body:JSON.stringify(t)})}async function Os(t){return T("/auth/forgot-password",{method:"POST",body:JSON.stringify(t)})}async function Qs(t){return T("/auth/verify-otp",{method:"POST",body:JSON.stringify(t)})}async function _s(t){return T("/auth/reset-password",{method:"POST",body:JSON.stringify(t)})}async function Ie(t){return T("/auth/logout",{method:"POST",body:JSON.stringify(t)})}async function Hs(t){return T("/auth/change-password",{method:"POST",body:JSON.stringify(t)})}const Mt=l.createContext(null);function Bs(t,a){const s=localStorage.getItem(t);if(!s)return a;try{return JSON.parse(s)}catch{return a}}function Us({children:t}){const[a,s]=l.useState(()=>localStorage.getItem("qring_access_token")??""),[r,n]=l.useState(()=>localStorage.getItem("qring_access_token")?Bs("qring_user",null):null),[i,o]=l.useState(!1),j=async m=>{o(!0);try{const N=await Rt(m),v=(N==null?void 0:N.data)??N;return v!=null&&v.accessToken&&(localStorage.setItem("qring_access_token",v.accessToken),s(v.accessToken)),v!=null&&v.refreshToken&&localStorage.setItem("qring_refresh_token",v.refreshToken),v!=null&&v.user&&(localStorage.setItem("qring_user",JSON.stringify(v.user)),n(v.user)),v}finally{o(!1)}},w=async m=>{o(!0);try{return await qs(m)}finally{o(!1)}},p=async()=>{o(!0);try{const m=await Is(),N=(m==null?void 0:m.data)??m;return N!=null&&N.accessToken&&(localStorage.setItem("qring_access_token",N.accessToken),s(N.accessToken)),N!=null&&N.refreshToken&&localStorage.setItem("qring_refresh_token",N.refreshToken),N!=null&&N.user&&(localStorage.setItem("qring_user",JSON.stringify(N.user)),n(N.user)),N}finally{o(!1)}},c=async m=>{o(!0);try{const N=await Ds(m),v=(N==null?void 0:N.data)??N;return v!=null&&v.accessToken&&(localStorage.setItem("qring_access_token",v.accessToken),s(v.accessToken)),v!=null&&v.refreshToken&&localStorage.setItem("qring_refresh_token",v.refreshToken),v!=null&&v.user&&(localStorage.setItem("qring_user",JSON.stringify(v.user)),n(v.user)),v}finally{o(!1)}},x=async m=>Os({email:m}),d=async()=>{try{const m=localStorage.getItem("qring_refresh_token");m&&await Ie({refreshToken:m})}finally{localStorage.removeItem("qring_access_token"),localStorage.removeItem("qring_refresh_token"),localStorage.removeItem("qring_user"),s(""),n(null)}},b=l.useMemo(()=>({user:r,loading:i,isAuthenticated:!!(r&&a),login:j,signup:w,googleSignIn:p,googleSignUp:c,forgotPassword:x,logout:d}),[r,a,i]);return e.jsx(Mt.Provider,{value:b,children:t})}function re(){const t=l.useContext(Mt);if(!t)throw new Error("useAuth must be used inside AuthProvider");return t}const tt={homeowner:"/dashboard/homeowner/overview",admin:"/dashboard/admin",estate:"/dashboard/estate"};function Fs(){const{login:t,googleSignIn:a,loading:s}=re(),[r]=wt(),n=r.get("email")??r.get("username")??"",[i,o]=l.useState({email:n,password:""}),[j,w]=l.useState(""),p=te(),c=Ge(),x=async b=>{var m,N,v;b.preventDefault(),w("");try{const R=await t(i),f=tt[(m=R==null?void 0:R.user)==null?void 0:m.role]??"/dashboard/homeowner/overview",A=((v=(N=c.state)==null?void 0:N.from)==null?void 0:v.pathname)??f;p(A,{replace:!0})}catch(R){w(R.message??"Login failed")}},d=async()=>{var b,m,N;w("");try{const v=await a(),R=tt[(b=v==null?void 0:v.user)==null?void 0:b.role]??"/dashboard/homeowner/overview",f=((N=(m=c.state)==null?void 0:m.from)==null?void 0:N.pathname)??R;p(f,{replace:!0})}catch(v){w(v.message??"Google sign-in failed")}};return e.jsx("div",{className:"grid min-h-screen place-items-center bg-slate-50 p-4 dark:bg-slate-950",children:e.jsx(ge,{title:"Login",subtitle:"Access your secure Qring workspace",children:e.jsxs("form",{onSubmit:x,className:"space-y-4",children:[e.jsx(st,{label:"Email or Username",type:"text",value:i.email,onChange:b=>o(m=>({...m,email:b}))}),e.jsx(st,{label:"Password",type:"password",value:i.password,onChange:b=>o(m=>({...m,password:b}))}),j?e.jsx("p",{className:"text-sm text-danger",children:j}):null,e.jsx("button",{type:"submit",disabled:s,className:"w-full rounded-xl bg-brand-500 px-4 py-3 text-sm font-semibold text-white disabled:opacity-50",children:s?"Signing In...":"Sign In"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-slate-300 dark:border-slate-700"})}),e.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:e.jsx("span",{className:"bg-slate-50 px-2 text-slate-500 dark:bg-slate-950 dark:text-slate-400",children:"Or"})})]}),e.jsxs("button",{type:"button",onClick:d,disabled:s,className:"w-full rounded-xl border border-slate-300 bg-white px-4 py-3 text-sm font-semibold text-slate-900 transition hover:bg-slate-50 disabled:opacity-50 dark:border-slate-700 dark:bg-slate-900 dark:text-white dark:hover:bg-slate-800",children:[e.jsxs("svg",{className:"mb-0.5 mr-2 inline h-4 w-4",viewBox:"0 0 24 24",children:[e.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),s?"Signing in...":"Sign in with Google"]}),e.jsxs("div",{className:"flex justify-between text-xs text-slate-500",children:[e.jsx(u,{to:"/forgot-password",className:"hover:text-brand-500",children:"Forgot password?"}),e.jsx(u,{to:"/signup",className:"hover:text-brand-500",children:"Create account"})]})]})})})}function st({label:t,type:a,value:s,onChange:r}){return e.jsxs("label",{className:"block text-sm",children:[e.jsx("span",{className:"mb-1 block font-medium text-slate-700 dark:text-slate-300",children:t}),e.jsx("input",{required:!0,type:a,value:s,onChange:n=>r(n.target.value),className:"w-full rounded-xl border border-slate-300 bg-white px-3 py-3 outline-none ring-brand-500 focus:ring-2 dark:border-slate-700 dark:bg-slate-900"})]})}function Vs(){const[t,a]=l.useState({email:"",password:""}),[s,r]=l.useState(""),[n,i]=l.useState(!1);te();const o=Ge(),j=async p=>{var c,x,d;p.preventDefault(),r(""),i(!0);try{const b=await Rt(t),m=(b==null?void 0:b.data)??b;if(m!=null&&m.accessToken&&localStorage.setItem("qring_access_token",m.accessToken),m!=null&&m.refreshToken&&localStorage.setItem("qring_refresh_token",m.refreshToken),m!=null&&m.user&&localStorage.setItem("qring_user",JSON.stringify(m.user)),((c=m==null?void 0:m.user)==null?void 0:c.role)!=="admin"){const v=localStorage.getItem("qring_refresh_token");if(v)try{await Ie({refreshToken:v})}catch{}localStorage.removeItem("qring_access_token"),localStorage.removeItem("qring_refresh_token"),localStorage.removeItem("qring_user"),r("Admin account required.");return}const N=((d=(x=o.state)==null?void 0:x.from)==null?void 0:d.pathname)??"/dashboard/admin";window.location.assign(N)}catch(b){r(b.message??"Admin login failed")}finally{i(!1)}},w=async()=>{var p,c,x;r(""),i(!0);try{const d=await Ts(),b=(d==null?void 0:d.data)??d;if(b!=null&&b.accessToken&&localStorage.setItem("qring_access_token",b.accessToken),b!=null&&b.refreshToken&&localStorage.setItem("qring_refresh_token",b.refreshToken),b!=null&&b.user&&localStorage.setItem("qring_user",JSON.stringify(b.user)),((p=b==null?void 0:b.user)==null?void 0:p.role)!=="admin"){const N=localStorage.getItem("qring_refresh_token");if(N)try{await Ie({refreshToken:N})}catch{}localStorage.removeItem("qring_access_token"),localStorage.removeItem("qring_refresh_token"),localStorage.removeItem("qring_user"),r("Admin account required.");return}const m=((x=(c=o.state)==null?void 0:c.from)==null?void 0:x.pathname)??"/dashboard/admin";window.location.assign(m)}catch(d){r(d.message??"Google admin sign-in failed")}finally{i(!1)}};return e.jsx("div",{className:"grid min-h-screen place-items-center bg-slate-50 p-4 dark:bg-slate-950",children:e.jsx(ge,{title:"Admin Login",subtitle:"Restricted access for platform administrators",children:e.jsxs("form",{onSubmit:j,className:"space-y-4",children:[e.jsx(at,{label:"Admin Email or Username",type:"text",value:t.email,onChange:p=>a(c=>({...c,email:p}))}),e.jsx(at,{label:"Password",type:"password",value:t.password,onChange:p=>a(c=>({...c,password:p}))}),s?e.jsx("p",{className:"text-sm text-danger",children:s}):null,e.jsx("button",{type:"submit",disabled:n,className:"w-full rounded-xl bg-slate-900 px-4 py-3 text-sm font-semibold text-white disabled:opacity-50 dark:bg-white dark:text-slate-900",children:n?"Signing In...":"Enter Admin Dashboard"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-slate-300 dark:border-slate-700"})}),e.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:e.jsx("span",{className:"bg-slate-50 px-2 text-slate-500 dark:bg-slate-950 dark:text-slate-400",children:"Or"})})]}),e.jsxs("button",{type:"button",onClick:w,disabled:n,className:"w-full rounded-xl border border-slate-300 bg-white px-4 py-3 text-sm font-semibold text-slate-900 transition hover:bg-slate-50 disabled:opacity-50 dark:border-slate-700 dark:bg-slate-900 dark:text-white dark:hover:bg-slate-800",children:[e.jsxs("svg",{className:"mb-0.5 mr-2 inline h-4 w-4",viewBox:"0 0 24 24",children:[e.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),n?"Signing in...":"Sign in with Google"]}),e.jsx("div",{className:"text-center text-xs text-slate-500",children:e.jsxs("div",{className:"space-x-3",children:[e.jsx(u,{to:"/admin/signup",className:"hover:text-brand-500",children:"Create admin"}),e.jsx(u,{to:"/login",className:"hover:text-brand-500",children:"User login"})]})})]})})})}function at({label:t,type:a,value:s,onChange:r}){return e.jsxs("label",{className:"block text-sm",children:[e.jsx("span",{className:"mb-1 block font-medium text-slate-700 dark:text-slate-300",children:t}),e.jsx("input",{required:!0,type:a,value:s,onChange:n=>r(n.target.value),className:"w-full rounded-xl border border-slate-300 bg-white px-3 py-3 outline-none ring-brand-500 focus:ring-2 dark:border-slate-700 dark:bg-slate-900"})]})}function zs(){const[t,a]=l.useState({fullName:"",email:"",password:""}),[s,r]=l.useState(!1),[n,i]=l.useState(""),o=te();async function j(p){p.preventDefault(),r(!0),i("");try{await $s(t),setTimeout(()=>o("/admin/login"),500)}catch(c){i(c.message??"Admin signup failed")}finally{r(!1)}}async function w(){var p;i(""),r(!0);try{const c=await Ls(),x=(c==null?void 0:c.data)??c;if(x!=null&&x.accessToken&&localStorage.setItem("qring_access_token",x.accessToken),x!=null&&x.refreshToken&&localStorage.setItem("qring_refresh_token",x.refreshToken),x!=null&&x.user&&localStorage.setItem("qring_user",JSON.stringify(x.user)),((p=x==null?void 0:x.user)==null?void 0:p.role)!=="admin"){const d=localStorage.getItem("qring_refresh_token");if(d)try{await Ie({refreshToken:d})}catch{}localStorage.removeItem("qring_access_token"),localStorage.removeItem("qring_refresh_token"),localStorage.removeItem("qring_user"),i("Admin account required.");return}setTimeout(()=>o("/admin/login"),500)}catch(c){i(c.message??"Google admin sign-up failed")}finally{r(!1)}}return e.jsx("div",{className:"grid min-h-screen place-items-center bg-slate-50 p-4 dark:bg-slate-950",children:e.jsx(ge,{title:"Create Admin Account",subtitle:"Creates an admin user account",children:e.jsxs("form",{onSubmit:j,className:"space-y-4",children:[e.jsx(He,{label:"Full Name",type:"text",value:t.fullName,onChange:p=>a(c=>({...c,fullName:p}))}),e.jsx(He,{label:"Email",type:"email",value:t.email,onChange:p=>a(c=>({...c,email:p}))}),e.jsx(He,{label:"Password",type:"password",value:t.password,onChange:p=>a(c=>({...c,password:p}))}),n?e.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:n}):null,e.jsx("button",{type:"submit",disabled:s,className:"w-full rounded-xl bg-slate-900 px-4 py-3 text-sm font-semibold text-white disabled:opacity-50 dark:bg-white dark:text-slate-900",children:s?"Creating...":"Create Admin"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-slate-300 dark:border-slate-700"})}),e.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:e.jsx("span",{className:"bg-slate-50 px-2 text-slate-500 dark:bg-slate-950 dark:text-slate-400",children:"Or"})})]}),e.jsxs("button",{type:"button",onClick:w,disabled:s,className:"w-full rounded-xl border border-slate-300 bg-white px-4 py-3 text-sm font-semibold text-slate-900 transition hover:bg-slate-50 disabled:opacity-50 dark:border-slate-700 dark:bg-slate-900 dark:text-white dark:hover:bg-slate-800",children:[e.jsxs("svg",{className:"mb-0.5 mr-2 inline h-4 w-4",viewBox:"0 0 24 24",children:[e.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),s?"Creating admin...":"Sign up with Google"]}),e.jsxs("p",{className:"text-center text-xs text-slate-500",children:["Already have admin account?"," ",e.jsx(u,{to:"/admin/login",className:"font-semibold hover:text-slate-700 dark:hover:text-slate-300",children:"Admin login"})]})]})})})}function He({label:t,type:a,value:s,onChange:r}){return e.jsxs("label",{className:"block text-sm",children:[e.jsx("span",{className:"mb-1 block font-medium text-slate-700 dark:text-slate-300",children:t}),e.jsx("input",{required:!0,type:a,value:s,onChange:n=>r(n.target.value),className:"w-full rounded-xl border border-slate-300 bg-white px-3 py-3 outline-none ring-slate-900 focus:ring-2 dark:border-slate-700 dark:bg-slate-900"})]})}function Ws(){const{signup:t,googleSignUp:a}=re(),[s,r]=l.useState({fullName:"",email:"",password:"",role:"homeowner"}),[n,i]=l.useState(""),[o,j]=l.useState(!1),w=te(),p=async x=>{x.preventDefault(),i(""),j(!0);try{await t(s),w("/login")}catch(d){i(d.message??"Signup failed")}finally{j(!1)}},c=async()=>{i(""),j(!0);try{const x=await a(s.role);w("/login")}catch(x){i(x.message??"Google sign-up failed")}finally{j(!1)}};return e.jsx("div",{className:"grid min-h-screen place-items-center bg-slate-50 p-4 dark:bg-slate-950",children:e.jsx(ge,{title:"Create Account",subtitle:"Start with secure QR access",children:e.jsxs("form",{onSubmit:p,className:"space-y-4",children:[e.jsx(Be,{label:"Full name",type:"text",value:s.fullName,onChange:x=>r(d=>({...d,fullName:x}))}),e.jsx(Be,{label:"Email",type:"email",value:s.email,onChange:x=>r(d=>({...d,email:x}))}),e.jsx(Be,{label:"Password",type:"password",value:s.password,onChange:x=>r(d=>({...d,password:x}))}),e.jsxs("label",{className:"block text-sm",children:[e.jsx("span",{className:"mb-1 block font-medium text-slate-700 dark:text-slate-300",children:"Role"}),e.jsxs("select",{value:s.role,onChange:x=>r(d=>({...d,role:x.target.value})),className:"w-full rounded-xl border border-slate-300 bg-white px-3 py-3 outline-none ring-brand-500 focus:ring-2 dark:border-slate-700 dark:bg-slate-900",children:[e.jsx("option",{value:"homeowner",children:"Homeowner"}),e.jsx("option",{value:"estate",children:"Estate User"})]})]}),n?e.jsx("p",{className:"text-sm text-danger",children:n}):null,e.jsx("button",{type:"submit",disabled:o,className:"w-full rounded-xl bg-brand-500 px-4 py-3 text-sm font-semibold text-white disabled:opacity-50",children:o?"Creating...":"Create Account"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-slate-300 dark:border-slate-700"})}),e.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:e.jsx("span",{className:"bg-slate-50 px-2 text-slate-500 dark:bg-slate-950 dark:text-slate-400",children:"Or"})})]}),e.jsxs("button",{type:"button",onClick:c,disabled:o,className:"w-full rounded-xl border border-slate-300 bg-white px-4 py-3 text-sm font-semibold text-slate-900 transition hover:bg-slate-50 disabled:opacity-50 dark:border-slate-700 dark:bg-slate-900 dark:text-white dark:hover:bg-slate-800",children:[e.jsxs("svg",{className:"mb-0.5 mr-2 inline h-4 w-4",viewBox:"0 0 24 24",children:[e.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),o?"Creating account...":"Sign up with Google"]}),e.jsxs("p",{className:"text-xs text-slate-500",children:["Already have an account?"," ",e.jsx(u,{to:"/login",className:"font-semibold hover:text-brand-500",children:"Login"})]})]})})})}function Be({label:t,type:a,value:s,onChange:r}){return e.jsxs("label",{className:"block text-sm",children:[e.jsx("span",{className:"mb-1 block font-medium text-slate-700 dark:text-slate-300",children:t}),e.jsx("input",{required:!0,type:a,value:s,onChange:n=>r(n.target.value),className:"w-full rounded-xl border border-slate-300 bg-white px-3 py-3 outline-none ring-brand-500 focus:ring-2 dark:border-slate-700 dark:bg-slate-900"})]})}function Gs(){const{forgotPassword:t}=re(),[a,s]=l.useState(""),[r,n]=l.useState(""),[i,o]=l.useState(""),[j,w]=l.useState(1),[p,c]=l.useState({loading:!1,error:"",done:!1,otpHint:""}),x=async b=>{b.preventDefault(),c({loading:!0,error:"",done:!1,otpHint:""});try{const m=await t(a),N=(m==null?void 0:m.data)??m;c({loading:!1,error:"",done:!0,otpHint:N!=null&&N.otp?`Use OTP: ${N.otp}`:"OTP sent to your email"}),w(2)}catch(m){c({loading:!1,error:m.message??"Request failed",done:!1,otpHint:""})}},d=async b=>{b.preventDefault(),c(m=>({...m,loading:!0,error:""}));try{await Qs({email:a,otp:r}),await _s({email:a,otp:r,newPassword:i}),c({loading:!1,error:"",done:!0,otpHint:"Password reset successful. You can now login."}),w(3)}catch(m){c(N=>({...N,loading:!1,error:m.message??"Reset failed"}))}};return e.jsx("div",{className:"grid min-h-screen place-items-center bg-slate-50 p-4 dark:bg-slate-950",children:e.jsxs(ge,{title:"Forgot Password",subtitle:"Request OTP and reset your password securely",children:[j===1?e.jsxs("form",{onSubmit:x,className:"space-y-4",children:[e.jsxs("label",{className:"block text-sm",children:[e.jsx("span",{className:"mb-1 block font-medium text-slate-700 dark:text-slate-300",children:"Email"}),e.jsx("input",{required:!0,type:"email",value:a,onChange:b=>s(b.target.value),className:"w-full rounded-xl border border-slate-300 bg-white px-3 py-3 outline-none ring-brand-500 focus:ring-2 dark:border-slate-700 dark:bg-slate-900"})]}),p.error?e.jsx("p",{className:"text-sm text-danger",children:p.error}):null,e.jsx("button",{type:"submit",disabled:p.loading,className:"w-full rounded-xl bg-brand-500 px-4 py-3 text-sm font-semibold text-white disabled:opacity-50",children:p.loading?"Sending...":"Send OTP"})]}):null,j===2?e.jsxs("form",{onSubmit:d,className:"space-y-4",children:[e.jsx("p",{className:"rounded-xl bg-slate-100 p-3 text-xs text-slate-600 dark:bg-slate-800 dark:text-slate-300",children:p.otpHint||"Enter the OTP sent to your email."}),e.jsxs("label",{className:"block text-sm",children:[e.jsx("span",{className:"mb-1 block font-medium text-slate-700 dark:text-slate-300",children:"OTP"}),e.jsx("input",{required:!0,value:r,onChange:b=>n(b.target.value),className:"w-full rounded-xl border border-slate-300 bg-white px-3 py-3 outline-none ring-brand-500 focus:ring-2 dark:border-slate-700 dark:bg-slate-900"})]}),e.jsxs("label",{className:"block text-sm",children:[e.jsx("span",{className:"mb-1 block font-medium text-slate-700 dark:text-slate-300",children:"New Password"}),e.jsx("input",{required:!0,minLength:8,type:"password",value:i,onChange:b=>o(b.target.value),className:"w-full rounded-xl border border-slate-300 bg-white px-3 py-3 outline-none ring-brand-500 focus:ring-2 dark:border-slate-700 dark:bg-slate-900"})]}),p.error?e.jsx("p",{className:"text-sm text-danger",children:p.error}):null,e.jsx("button",{type:"submit",disabled:p.loading,className:"w-full rounded-xl bg-brand-500 px-4 py-3 text-sm font-semibold text-white disabled:opacity-50",children:p.loading?"Resetting...":"Reset Password"})]}):null,j===3?e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-sm text-success",children:p.otpHint}),e.jsx(u,{to:"/login",className:"block w-full rounded-xl bg-slate-900 px-4 py-3 text-center text-sm font-semibold text-white dark:bg-white dark:text-slate-900",children:"Back to Login"})]}):null,e.jsxs("p",{className:"mt-4 text-xs text-slate-500",children:["Back to"," ",e.jsx(u,{to:"/login",className:"font-semibold hover:text-brand-500",children:"Login"})]})]})})}async function Js(){const t=await T("/homeowner/visits");return Array.isArray(t==null?void 0:t.data)?t.data:[]}async function $e(){var s;const t=await T("/homeowner/settings"),a=(t==null?void 0:t.data)??null;return{managedByEstate:!!(a!=null&&a.managedByEstate),estateId:(a==null?void 0:a.estateId)??null,estateName:(a==null?void 0:a.estateName)??null,estateOwnerId:((s=a==null?void 0:a.subscription)==null?void 0:s.subscriptionOwnerId)??null}}async function rt(){const t=await T("/homeowner/messages");return Array.isArray(t==null?void 0:t.data)?t.data:[]}async function Ys(t){const a=await T(`/homeowner/messages/${t}`);return Array.isArray(a==null?void 0:a.data)?a.data:[]}async function Ks(t,a){const s=await T(`/homeowner/messages/${t}`,{method:"POST",body:JSON.stringify({text:a})});return(s==null?void 0:s.data)??null}async function Zs(t,a){const s=await T(`/homeowner/messages/${t}/${a}`,{method:"DELETE"});return(s==null?void 0:s.data)??null}async function Xs(t){const a=await T(`/homeowner/visits/${t}/end`,{method:"POST"});return(a==null?void 0:a.data)??null}async function ea(){const t=await T("/homeowner/doors"),a=t==null?void 0:t.data;return Array.isArray(a)?{doors:a,subscription:null}:{doors:Array.isArray(a==null?void 0:a.doors)?a.doors:[],subscription:(a==null?void 0:a.subscription)??null}}async function ta(t){const a=await T("/homeowner/doors",{method:"POST",body:JSON.stringify(t)});return(a==null?void 0:a.data)??null}async function sa(t,a){const s=await T(`/homeowner/visits/${t}/decision`,{method:"POST",body:JSON.stringify({action:a})});return(s==null?void 0:s.data)??null}async function aa(t){const a=await T(`/visitor/sessions/${t}`);return(a==null?void 0:a.data)??null}async function ra(t){const a=await T(`/visitor/sessions/${t}/messages`);return Array.isArray(a==null?void 0:a.data)?a.data:[]}async function It(){const t=await T("/notifications/");return Array.isArray(t==null?void 0:t.data)?t.data:[]}async function la(t){const a=await T("/notifications/push-subscriptions",{method:"POST",body:JSON.stringify(t)});return(a==null?void 0:a.data)??null}async function Dt(t){const a=await T(`/notifications/${t}/read`,{method:"POST"});return typeof window<"u"&&window.dispatchEvent(new Event("qring:notifications-updated")),(a==null?void 0:a.data)??null}async function na(){const t=await T("/notifications/read-all",{method:"POST"});return typeof window<"u"&&window.dispatchEvent(new Event("qring:notifications-updated")),(t==null?void 0:t.data)??null}async function oa(){return typeof window>"u"||typeof window.Notification>"u"?"unsupported":window.Notification.permission==="granted"?"granted":window.Notification.requestPermission()}function ia(t){if(t&&typeof t=="object")return t;if(typeof t=="string")try{return JSON.parse(t)}catch{return{}}return{}}async function da(t){if(!t)return;const s=(await It()).filter(r=>!(r!=null&&r.readAt)&&(r==null?void 0:r.kind)==="visitor.request").filter(r=>{var n;return((n=ia(r==null?void 0:r.payload))==null?void 0:n.sessionId)===t}).map(r=>r.id).filter(Boolean);await Promise.all(s.map(r=>Dt(r))),typeof window<"u"&&window.dispatchEvent(new Event("qring:notifications-updated"))}const ca={homeowner:[{to:"/dashboard/homeowner/overview",label:"Overview",icon:"overview"},{to:"/dashboard/homeowner/visits",label:"Visits",icon:"visits"},{to:"/dashboard/homeowner/messages",label:"Messages",icon:"messages"},{to:"/dashboard/homeowner/doors",label:"Doors",icon:"doors"},{to:"/billing/paywall",label:"Billing",icon:"billing"},{to:"/dashboard/homeowner/settings",label:"Settings",icon:"settings"}],estate:[{to:"/dashboard/estate",label:"Overview",icon:"estate"},{to:"/dashboard/estate/create",label:"Create Estate",icon:"estate_create"},{to:"/dashboard/estate/doors",label:"Add Doors",icon:"doors"},{to:"/dashboard/estate/assign",label:"Assign Doors",icon:"assign"},{to:"/dashboard/estate/invites",label:"Invite Owners",icon:"invite"},{to:"/dashboard/estate/mappings",label:"Mappings",icon:"mappings"},{to:"/dashboard/estate/logs",label:"Access Logs",icon:"logs"},{to:"/dashboard/estate/plan",label:"Plan Rules",icon:"plans"},{to:"/billing/paywall",label:"Billing",icon:"billing"},{to:"/dashboard/estate/homes",label:"Multi-Home",icon:"homes"}],admin:[{to:"/dashboard/admin",label:"System",icon:"system"},{to:"/dashboard/admin/users",label:"Users",icon:"user_admin"},{to:"/dashboard/admin/sessions",label:"Sessions",icon:"sessions"},{to:"/dashboard/admin/payments",label:"Payments",icon:"billing"},{to:"/dashboard/admin/config",label:"Config",icon:"settings"},{to:"/dashboard/admin/audit",label:"Audit",icon:"logs"}]};function W({title:t,children:a}){const{user:s,logout:r}=re(),{isDark:n,toggleTheme:i}=Z(),o=te(),[j,w]=l.useState(!1),[p,c]=l.useState(!1),[x,d]=l.useState([]),[b,m]=l.useState(null),[N,v]=l.useState(!1),[R,f]=l.useState(()=>typeof window<"u"&&window.Notification?window.Notification.permission:"unsupported"),[A,g]=l.useState(()=>localStorage.getItem("qring_sound_alerts")!=="false"),[L,M]=l.useState(!0),q=l.useRef(null),P=l.useRef(null),C=l.useRef([]),E=l.useRef(!1),O=l.useRef(new Set),_=l.useMemo(()=>(s==null?void 0:s.role)==="homeowner"&&(!!(b!=null&&b.managedByEstate)||typeof(s==null?void 0:s.email)=="string"&&s.email.toLowerCase().endsWith("@estate.useqring.online")),[s==null?void 0:s.role,s==null?void 0:s.email,b]),B=l.useMemo(()=>{const h=ca[s==null?void 0:s.role]??[];return(s==null?void 0:s.role)==="homeowner"&&(N||_)?h.filter(I=>I.to!=="/billing/paywall"):h},[s==null?void 0:s.role,_,N]),Y=l.useMemo(()=>B.find(h=>h.to.endsWith("/settings"))??null,[B]),G=l.useMemo(()=>{if((s==null?void 0:s.role)==="homeowner"){const h=["/dashboard/homeowner/overview","/dashboard/homeowner/visits","/dashboard/homeowner/messages"],I=_?"/dashboard/homeowner/settings":"/billing/paywall";return[...h,I].map(k=>B.find(y=>y.to===k)).filter(Boolean)}return B.filter(h=>!h.to.endsWith("/settings")).slice(0,4)},[B,s==null?void 0:s.role,_]);l.useEffect(()=>{let h=!0;async function I(){if((s==null?void 0:s.role)!=="homeowner"){m(null),v(!1);return}v(!0);try{const D=await $e();if(!h)return;m(D)}catch{if(!h)return;m(null)}finally{h&&v(!1)}}return I(),()=>{h=!1}},[s==null?void 0:s.role]),l.useEffect(()=>{let h=!0,I=!1;async function D(){if(I)return;if(!localStorage.getItem("qring_access_token")){d([]);return}try{const V=await It();if(!h)return;d(V)}catch(V){if(!h)return;(V==null?void 0:V.status)===401&&(I=!0),d([])}}D();const k=setInterval(D,2e4),y=()=>D();return window.addEventListener("qring:notifications-updated",y),()=>{h=!1,clearInterval(k),window.removeEventListener("qring:notifications-updated",y)}},[]),l.useEffect(()=>{const h=D=>{D.key==="qring_sound_alerts"&&g(D.newValue!=="false")},I=()=>{g(localStorage.getItem("qring_sound_alerts")!=="false")};return window.addEventListener("storage",h),window.addEventListener("qring:sound-alerts-updated",I),()=>{window.removeEventListener("storage",h),window.removeEventListener("qring:sound-alerts-updated",I)}},[]);const S=l.useMemo(()=>x.map(h=>{let I=h.payload;if(typeof I=="string")try{I=JSON.parse(I)}catch{I={message:h.payload}}return{...h,payload:I&&typeof I=="object"?I:{}}}),[x]),Q=l.useMemo(()=>S.filter(h=>!h.readAt).length,[S]),z=l.useMemo(()=>S.filter(h=>!h.readAt&&h.kind==="visitor.request").map(h=>h.id),[S]);l.useEffect(()=>{if(!E.current){C.current=z,E.current=!0;return}const h=C.current;z.some(D=>!h.includes(D))&&M(!1),C.current=z},[z]),l.useEffect(()=>{function h(){P.current&&(clearInterval(P.current),P.current=null)}function I(){if(typeof window>"u")return;const D=window.AudioContext||window.webkitAudioContext;if(!D)return;q.current||(q.current=new D);const k=q.current;k.state==="suspended"&&k.resume().catch(()=>{});const y=k.createGain();y.gain.setValueAtTime(1e-4,k.currentTime),y.connect(k.destination),[880,660].forEach((V,X)=>{const se=k.currentTime+X*.2,pe=se+.16,ce=k.createOscillator();ce.type="sine",ce.frequency.setValueAtTime(V,se),ce.connect(y),y.gain.exponentialRampToValueAtTime(.07,se+.02),y.gain.exponentialRampToValueAtTime(1e-4,pe),ce.start(se),ce.stop(pe)})}if(A&&z.length>0&&!L){I(),P.current||(P.current=setInterval(I,1800));return}return h(),h},[A,z,L]),l.useEffect(()=>{typeof window>"u"||typeof window.Notification>"u"||window.Notification.permission==="granted"&&S.forEach(h=>{var k;if(h.readAt||O.current.has(h.id))return;O.current.add(h.id);const I=((k=h.payload)==null?void 0:k.message)??"You have a new alert",D=new window.Notification("Qring Alert",{body:I});D.onclick=()=>{window.focus(),U(h)}})},[S]),l.useEffect(()=>()=>{var h,I;P.current&&clearInterval(P.current),(I=(h=q.current)==null?void 0:h.close)==null||I.call(h).catch(()=>{}),q.current=null},[]);async function U(h){if(M(!0),h!=null&&h.id&&!(h!=null&&h.readAt))try{await Dt(h.id),d(D=>D.map(k=>k.id===h.id?{...k,readAt:k.readAt||new Date().toISOString()}:k))}catch{}((h==null?void 0:h.kind)??"").startsWith("visitor.")?o("/dashboard/homeowner/visits"):o((s==null?void 0:s.role)==="estate"?"/dashboard/estate":"/dashboard/homeowner/overview"),c(!1)}async function F(){M(!0);try{await na(),d(h=>h.map(I=>({...I,readAt:I.readAt||new Date().toISOString()})))}catch{}}async function K(){const h=await oa();if(f(h),h==="granted")try{await la({endpoint:"browser-notification",keys:{ua:navigator.userAgent}})}catch{}}return e.jsxs("div",{className:"min-h-screen bg-slate-100 text-slate-900 dark:bg-slate-950 dark:text-slate-100",children:[e.jsx("div",{className:"pointer-events-none fixed inset-0 -z-10 bg-[radial-gradient(circle_at_top_right,_rgba(36,86,245,0.16),_transparent_40%),radial-gradient(circle_at_bottom_left,_rgba(20,184,166,0.12),_transparent_35%)]"}),e.jsxs("div",{className:"flex min-h-screen",children:[j?e.jsx("button",{type:"button","aria-label":"Close navigation",className:"fixed inset-0 z-30 bg-slate-950/35 lg:hidden",onClick:()=>w(!1)}):null,e.jsxs("aside",{className:`fixed inset-y-0 left-0 z-40 w-72 transform border-r border-slate-200/70 bg-white/90 p-6 backdrop-blur transition-transform duration-300 dark:border-slate-800 dark:bg-slate-900/95 lg:static lg:translate-x-0 ${j?"translate-x-0":"-translate-x-full"}`,children:[e.jsxs("div",{className:"mb-8 flex items-center gap-3",children:[e.jsx("div",{className:"grid h-10 w-16 place-items-center rounded-xl  text-xs font-bold text-white shadow-soft",children:e.jsx(J,{tone:"dark",className:"h-18 w-46"})}),e.jsxs("div",{children:[e.jsx(u,{to:"/",className:"block font-heading text-2xl font-bold text-brand-500",children:"Qring"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Smart Access Communication"})]})]}),e.jsx("nav",{className:"space-y-2",children:B.map(h=>e.jsxs(Me,{to:h.to,className:({isActive:I})=>`group relative flex items-center gap-3 rounded-xl border px-4 py-3 text-sm font-semibold transition-all ${I?"border-brand-500 bg-brand-500 text-white shadow-soft":"border-transparent text-slate-700 hover:border-slate-200 hover:bg-slate-100 dark:text-slate-200 dark:hover:border-slate-700 dark:hover:bg-slate-800"}`,children:[e.jsx("span",{className:"grid h-7 w-7 place-items-center rounded-lg border border-white/25 bg-white/20",children:e.jsx(lt,{name:h.icon})}),e.jsx("span",{className:"flex-1",children:h.label})]},h.to))}),e.jsxs("div",{className:"mt-8 rounded-2xl bg-slate-100 p-4 dark:bg-slate-800",children:[e.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Live Status"}),e.jsx("p",{className:"mt-2 text-sm font-semibold",children:"Realtime services operational"}),e.jsxs("div",{className:"mt-3 inline-flex items-center gap-2 rounded-lg bg-success/15 px-2 py-1 text-xs font-semibold text-success",children:[e.jsx("span",{className:"h-2 w-2 rounded-full bg-success"}),"Connected"]})]})]}),e.jsxs("main",{className:"flex-1 p-3 pb-24 sm:p-4 sm:pb-24 lg:p-8 lg:pb-8",children:[e.jsxs("header",{className:"sticky top-3 z-30 mb-4 flex items-center justify-between rounded-2xl border border-slate-200 bg-white/80 p-3 shadow-soft backdrop-blur dark:border-slate-800 dark:bg-slate-900/70 sm:mb-6 sm:p-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{type:"button",className:"rounded-lg border border-slate-300 px-3 py-2 text-xs font-semibold dark:border-slate-700 lg:hidden",onClick:()=>w(h=>!h),children:"MENU"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Dashboard"}),e.jsx("h1",{className:"font-heading text-xs font-bold lg:text-2xl",children:t})]})]}),e.jsxs("div",{className:"relative flex items-center gap-4 sm:gap-3",children:[e.jsxs("button",{type:"button",onClick:()=>c(h=>!h),className:"relative rounded-lg border border-slate-300 p-2 text-xs font-semibold dark:border-slate-700","aria-label":"Notifications",children:[e.jsx(ma,{}),Q>0?e.jsx("span",{className:"absolute -right-1 -top-1 min-w-4 rounded-full bg-danger px-1 text-[10px] font-bold text-white",children:Q}):null]}),p?e.jsxs("div",{className:"absolute right-0 top-12 z-50 w-[min(20rem,calc(100vw-2rem))] rounded-2xl border border-slate-200 bg-white p-3 shadow-soft dark:border-slate-800 dark:bg-slate-900",children:[e.jsxs("div",{className:"flex items-center justify-between px-2 pb-2",children:[e.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Notifications"}),e.jsxs("div",{className:"flex items-center gap-2",children:[R!=="granted"&&R!=="unsupported"?e.jsx("button",{type:"button",onClick:K,className:"rounded-md border border-brand-300 px-2 py-1 text-[10px] font-semibold text-brand-700 dark:border-brand-500/50 dark:text-brand-200",children:"Enable Alerts"}):null,e.jsx("button",{type:"button",onClick:F,className:"rounded-md border border-slate-300 px-2 py-1 text-[10px] font-semibold dark:border-slate-700",children:"Clear"})]})]}),e.jsx("div",{className:"max-h-80 space-y-2 overflow-y-auto",children:S.length===0?e.jsx("div",{className:"rounded-xl bg-slate-100 p-3 text-xs text-slate-500 dark:bg-slate-800",children:"No notifications yet."}):S.map(h=>{var I;return e.jsxs("button",{type:"button",onClick:()=>U(h),className:`block w-full rounded-xl border p-3 text-left transition hover:bg-slate-50 dark:hover:bg-slate-800 ${h.readAt?"border-slate-200 dark:border-slate-700":"border-brand-300 bg-brand-50/60 dark:border-brand-500/50 dark:bg-brand-500/10"}`,children:[e.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:h.kind}),e.jsx("p",{className:"mt-1 text-sm font-medium",children:((I=h.payload)==null?void 0:I.message)??"New activity"}),e.jsx("p",{className:"mt-1 text-[11px] text-slate-500",children:xa(h.createdAt)})]},h.id)})})]}):null,e.jsx("button",{type:"button",onClick:i,className:"hidden rounded-lg border border-slate-300 px-3 py-2 text-xs font-semibold dark:border-slate-700 sm:inline-flex",children:n?"LIGHT":"DARK"}),Y?e.jsx(u,{to:Y.to,className:"rounded-lg border border-slate-300 p-2 text-xs font-semibold dark:border-slate-700","aria-label":"Settings",title:"Settings",children:e.jsx(ua,{})}):null,e.jsx("span",{className:"hidden rounded-lg bg-brand-100 px-3 py-2 text-xs font-semibold text-brand-700 dark:bg-brand-500/20 dark:text-brand-100 sm:inline-flex",children:(s==null?void 0:s.role)??"guest"}),e.jsxs("div",{className:"hidden items-center gap-2 rounded-xl border border-slate-300 px-3 py-2 md:flex dark:border-slate-700",children:[e.jsx("div",{className:"grid h-7 w-7 place-items-center rounded-lg bg-brand-100 dark:bg-brand-500/30",children:e.jsx(ha,{})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold",children:(s==null?void 0:s.fullName)??"Qring User"}),e.jsx("p",{className:"text-[10px] text-slate-500",children:(s==null?void 0:s.email)??"user@useqring.online"})]})]}),e.jsx("button",{type:"button",onClick:r,className:"rounded-lg border border-slate-300 p-2 text-xs font-semibold dark:border-slate-700","aria-label":"Logout",title:"Logout",children:e.jsx(ba,{})})]})]}),a]})]}),G.length>0?e.jsx("nav",{className:"fixed inset-x-0 bottom-0 z-40 border-t border-slate-200 bg-white/95 px-2 py-2 backdrop-blur dark:border-slate-800 dark:bg-slate-900/95 lg:hidden",children:e.jsx("div",{className:"flex gap-1 overflow-x-auto pb-1",children:G.map(h=>e.jsxs(Me,{to:h.to,className:({isActive:I})=>`flex min-w-[76px] flex-col items-center justify-center rounded-xl px-2 py-2 text-[11px] font-semibold transition ${I?"bg-brand-500 text-white":"text-slate-600 hover:bg-slate-100 dark:text-slate-300 dark:hover:bg-slate-800"}`,children:[e.jsx("span",{className:"mb-1",children:e.jsx(lt,{name:h.icon})}),e.jsx("span",{className:"leading-none",children:h.label})]},`mobile-${h.to}`))})}):null]})}function xa(t){if(!t)return"";const a=new Date(t);return Number.isNaN(a.getTime())?t:a.toLocaleString()}function ma(){return e.jsxs("svg",{viewBox:"0 0 24 24",className:"h-4 w-4",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M15 17h5l-1.4-1.4A2 2 0 0 1 18 14.2V11a6 6 0 1 0-12 0v3.2a2 2 0 0 1-.6 1.4L4 17h5"}),e.jsx("path",{d:"M9 17a3 3 0 0 0 6 0"})]})}function ha(){return e.jsxs("svg",{viewBox:"0 0 24 24",className:"h-4 w-4",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"8",r:"4"}),e.jsx("path",{d:"M4 21a8 8 0 0 1 16 0"})]})}function ua(){return e.jsxs("svg",{viewBox:"0 0 24 24",className:"h-4 w-4",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"3"}),e.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 1 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 1 1-4 0v-.09a1.65 1.65 0 0 0-1-1.51 1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 1 1-2.83-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 1 1 0-4h.09a1.65 1.65 0 0 0 1.51-1 1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 1 1 2.83-2.83l.06.06a1.65 1.65 0 0 0 1.82.33h0A1.65 1.65 0 0 0 9.93 3.1V3a2 2 0 1 1 4 0v.09a1.65 1.65 0 0 0 1 1.51h0a1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 1 1 2.83 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82v0a1.65 1.65 0 0 0 1.51 1H21a2 2 0 1 1 0 4h-.09a1.65 1.65 0 0 0-1.51 1z"})]})}function ba(){return e.jsxs("svg",{viewBox:"0 0 24 24",className:"h-4 w-4",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("path",{d:"M16 17l5-5-5-5"}),e.jsx("path",{d:"M21 12H9"})]})}function lt({name:t}){const a={overview:e.jsx("path",{d:"M3 3h8v8H3zM13 3h8v5h-8zM13 10h8v11h-8zM3 13h8v8H3z"}),visits:e.jsx("path",{d:"M4 5h16M4 12h16M4 19h10"}),messages:e.jsx("path",{d:"M4 5h16v10H7l-3 3z"}),doors:e.jsx("path",{d:"M7 3h10v18H7zM10 12h.01"}),billing:e.jsx("path",{d:"M3 7h18v10H3zM3 11h18"}),estate:e.jsx("path",{d:"M3 21h18M5 21V9l7-5 7 5v12"}),estate_create:e.jsx("path",{d:"M12 5v14M5 12h14"}),homes:e.jsx("path",{d:"M3 11l9-7 9 7M5 10v11h14V10"}),invite:e.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2M16 3h5v5M21 3l-7 7"}),assign:e.jsx("path",{d:"M4 12h10M10 6l6 6-6 6M19 5v14"}),mappings:e.jsx("path",{d:"M3 5h6v6H3zM15 5h6v6h-6zM9 8h6M3 17h6v6H3zM15 17h6v6h-6zM9 20h6"}),logs:e.jsx("path",{d:"M5 3h14v18H5zM8 8h8M8 12h8M8 16h5"}),system:e.jsx("path",{d:"M12 1v4M12 19v4M4.9 4.9l2.8 2.8M16.3 16.3l2.8 2.8M1 12h4M19 12h4M4.9 19.1l2.8-2.8M16.3 7.7l2.8-2.8"}),plans:e.jsx("path",{d:"M4 20V8l8-4 8 4v12M4 12h16"}),user_admin:e.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2M9 11a4 4 0 1 0 0-8 4 4 0 0 0 0 8zm10 0v-2m0 0V7m0 2h-2m2 0h2"}),sessions:e.jsx("path",{d:"M8 7h13M8 12h13M8 17h13M3 7h.01M3 12h.01M3 17h.01"}),settings:e.jsx("path",{d:"M12 8.5A3.5 3.5 0 1 1 8.5 12 3.5 3.5 0 0 1 12 8.5zm0-6 1.2 2.4 2.7.4.4 2.7L18.8 9l-1.5 2.3 1.5 2.3-2.5 1.2-.4 2.7-2.7.4L12 21.5l-1.2-2.4-2.7-.4-.4-2.7L5.2 13.6 6.7 11.3 5.2 9l2.5-1.2.4-2.7 2.7-.4z"})};return e.jsx("svg",{viewBox:"0 0 24 24",className:"h-4 w-4",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:a[t]??e.jsx("circle",{cx:"12",cy:"12",r:"9"})})}const Tt={activeVisitors:0,pendingApprovals:0,callsToday:0,unreadMessages:0},nt={metrics:Tt,activity:[],waitingRoom:[],session:null,messages:[],traffic:[],callControls:{canAudio:!1,canVideo:!1,canMute:!1,canEnd:!1}};function De(t){return!t||typeof t!="object"?nt:{metrics:{...Tt,...t.metrics??{}},activity:Array.isArray(t.activity)?t.activity:[],waitingRoom:Array.isArray(t.waitingRoom)?t.waitingRoom:[],session:t.session??null,messages:Array.isArray(t.messages)?t.messages:[],traffic:Array.isArray(t.traffic)?t.traffic:[],callControls:{...nt.callControls,...t.callControls??{}}}}async function ga(){const t=await T("/dashboard/overview");return De((t==null?void 0:t.data)??t)}let le;function pa(){if(!le){const t=localStorage.getItem("qring_access_token");le=Je(`${ee.socketUrl}${ee.dashboardNamespace}`,{path:ee.socketPath,transports:["websocket"],auth:t?{token:t}:void 0,withCredentials:!0})}return le}function fa(){le&&(le.removeAllListeners(),le.disconnect(),le=void 0)}const ja=De({});function ka(){const[t,a]=l.useState(ja),[s,r]=l.useState(!0),[n,i]=l.useState(""),[o,j]=l.useState(!1),w=l.useCallback(async()=>{r(!0),i("");try{const p=await ga();a(p)}catch(p){i(p.message??"Unable to load dashboard")}finally{r(!1)}},[]);return l.useEffect(()=>{let p=!0;const c=pa(),x=()=>p&&j(!0),d=()=>p&&j(!1),b=v=>{p&&a(De((v==null?void 0:v.data)??v))},m=v=>{p&&a(R=>De({...R,...(v==null?void 0:v.data)??v}))},N=v=>{p&&i((v==null?void 0:v.message)??"Realtime error")};return c.on("connect",x),c.on("disconnect",d),c.on("dashboard.snapshot",b),c.on("dashboard.patch",m),c.on("dashboard.error",N),w(),()=>{p=!1,c.off("connect",x),c.off("disconnect",d),c.off("dashboard.snapshot",b),c.off("dashboard.patch",m),c.off("dashboard.error",N),fa()}},[w]),l.useMemo(()=>({...t,loading:s,error:n,connected:o,refresh:w}),[t,s,n,o,w])}function wa(){var c;const[t,a]=l.useState(!1),{metrics:s,activity:r,waitingRoom:n,session:i,messages:o,loading:j,error:w,connected:p}=ka();return l.useEffect(()=>{let x=!0;async function d(){try{const b=await $e();if(!x)return;a(!!(b!=null&&b.managedByEstate))}catch{if(!x)return;a(!1)}}return d(),()=>{x=!1}},[]),e.jsxs(W,{className:"text-sm",title:"Homeowner Workspace",children:[w?e.jsx("div",{className:"mb-4 rounded-xl border border-danger/30 bg-danger/10 px-4 py-3 text-sm text-danger",children:w}):null,e.jsxs("section",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 xl:grid-cols-4",children:[e.jsx(Ne,{title:"Active Visitors",value:s.activeVisitors,tone:"success",loading:j,sub:"Live now"}),e.jsx(Ne,{title:"Pending Approvals",value:s.pendingApprovals,tone:"warning",loading:j,sub:"Needs action"}),e.jsx(Ne,{title:"Calls Today",value:s.callsToday,tone:"brand",loading:j,sub:"Audio + video"}),e.jsx(Ne,{title:"Unread Messages",value:s.unreadMessages,tone:"danger",loading:j,sub:"Recent threads"})]}),e.jsxs("section",{className:"mt-6 grid grid-cols-1 gap-6 xl:grid-cols-12",children:[e.jsxs("article",{className:"xl:col-span-7 rounded-2xl border border-slate-200 bg-white/90 p-4 sm:p-6 shadow-soft dark:border-slate-800 dark:bg-slate-900/80",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsx("h2",{className:"font-heading text-lg font-bold",children:"Recent Visitor Activity"}),e.jsx("span",{className:`rounded-full px-2 py-1 text-xs font-semibold ${p?"bg-success/20 text-success":"bg-warning/20 text-warning"}`,children:p?"LIVE":"RECONNECTING"})]}),e.jsxs("div",{className:"mb-4 rounded-xl bg-slate-100 p-4 dark:bg-slate-800",children:[e.jsxs("div",{className:"mb-3 flex items-center justify-between text-xs text-slate-500",children:[e.jsx("span",{children:"Weekly Traffic"}),e.jsx("span",{children:"Last 7 Days"})]}),e.jsx(Na,{})]}),e.jsx("div",{className:"space-y-3",children:r.length===0?e.jsx(ya,{text:"No activity yet."}):r.map(x=>e.jsx("div",{className:"rounded-xl border border-slate-200 bg-white p-4 text-sm transition hover:-translate-y-0.5 hover:shadow-soft dark:border-slate-800 dark:bg-slate-900",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"font-semibold",children:x.event}),e.jsx("span",{className:"text-xs text-slate-500",children:x.time})]})},x.id??`${x.event}-${x.time}`))})]}),e.jsxs("article",{className:"xl:col-span-5 rounded-2xl border border-slate-200 bg-white/90 p-4 sm:p-6 shadow-soft dark:border-slate-800 dark:bg-slate-900/80",children:[e.jsx("h2",{className:"mb-4 font-heading text-lg font-bold",children:"Realtime Interaction"}),e.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[e.jsx(ye,{title:"Waiting Room",value:`${n.length} Visitors`,tone:"warning"}),e.jsx(ye,{title:"Active Session",value:(i==null?void 0:i.id)??"No session",tone:"success"}),e.jsx(ye,{title:"Latest Message",value:((c=o[0])==null?void 0:c.text)??"No unread messages",tone:"brand"}),e.jsx(ye,{title:"Call Status",value:(i==null?void 0:i.state)??"Idle",tone:"danger"})]}),e.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-3",children:[e.jsx(ve,{label:"Audio",tone:"success"}),e.jsx(ve,{label:"Video",tone:"brand"}),e.jsx(ve,{label:"Mute",tone:"warning"}),e.jsx(ve,{label:"End",tone:"danger"})]})]})]}),t?null:e.jsx("section",{className:"mt-6",children:e.jsx("article",{className:"rounded-2xl border border-slate-200 bg-white/90 p-4 sm:p-6 shadow-soft dark:border-slate-800 dark:bg-slate-900/80",children:e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"font-heading text-lg font-bold",children:"Billing & Subscription"}),e.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Upgrade your homeowner plan and pay securely with Paystack."})]}),e.jsx(u,{to:"/billing/paywall",className:"rounded-lg bg-slate-900 px-4 py-2 text-sm font-semibold text-white dark:bg-white dark:text-slate-900",children:"Open Billing"})]})})})]})}function Ne({title:t,value:a,tone:s,loading:r,sub:n}){const i={success:"bg-success/20 text-success",warning:"bg-warning/20 text-warning",danger:"bg-danger/20 text-danger",brand:"bg-brand-100 text-brand-700 dark:bg-brand-500/20 dark:text-brand-100"};return e.jsxs("article",{className:"rounded-2xl border border-slate-200 bg-white/90 p-5 shadow-soft transition hover:-translate-y-0.5 dark:border-slate-800 dark:bg-slate-900/80",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-sm text-slate-500",children:t}),e.jsx("span",{className:`rounded-full px-2 py-1 text-xs font-semibold ${i[s]}`,children:"Live"})]}),e.jsx("p",{className:"mt-3 font-heading text-2xl font-extrabold sm:text-3xl",children:r?"...":a}),e.jsx("p",{className:"mt-2 text-xs text-slate-500",children:n})]})}function ye({title:t,value:a,tone:s}){const r={success:"bg-success",warning:"bg-warning",danger:"bg-danger",brand:"bg-brand-500"};return e.jsxs("div",{className:"rounded-xl bg-slate-100 p-4 dark:bg-slate-800",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`h-2 w-2 rounded-full ${r[s]}`}),e.jsx("p",{className:"text-xs text-slate-500",children:t})]}),e.jsx("p",{className:"mt-1 text-sm font-semibold",children:a})]})}function ve({label:t,tone:a}){const s={success:"bg-success hover:bg-success/90",warning:"bg-warning hover:bg-warning/90",danger:"bg-danger hover:bg-danger/90",brand:"bg-brand-500 hover:bg-brand-600"};return e.jsx("button",{type:"button",className:`rounded-xl px-4 py-3 text-sm font-semibold text-white transition ${s[a]}`,children:t})}function Na(){return e.jsxs("svg",{viewBox:"0 0 320 88",className:"h-16 w-full",role:"img","aria-label":"Traffic trend",children:[e.jsx("path",{d:"M0 65 L40 58 L80 60 L120 42 L160 47 L200 35 L240 30 L280 38 L320 20",fill:"none",stroke:"#2456f5",strokeWidth:"3",strokeLinecap:"round"}),e.jsx("path",{d:"M0 88 L0 65 L40 58 L80 60 L120 42 L160 47 L200 35 L240 30 L280 38 L320 20 L320 88 Z",fill:"rgba(36,86,245,0.15)"})]})}function ya({text:t}){return e.jsx("p",{className:"rounded-xl bg-slate-100 p-4 text-sm text-slate-500 dark:bg-slate-800",children:t})}const va=[{key:"message",title:"Messages",description:"Open chat first, then move to call when ready.",buttonClass:"bg-slate-900 text-white hover:bg-slate-800"},{key:"audio",title:"Audio Call",description:"Start voice session with microphone only.",buttonClass:"bg-emerald-600 text-white hover:bg-emerald-700"},{key:"video",title:"Video Call",description:"Start live video and audio session.",buttonClass:"bg-cyan-600 text-white hover:bg-cyan-700"}];function Lt({open:t,sessionId:a,onClose:s,onSelect:r}){const n=l.useMemo(()=>a?`Choose Session Mode (${a.slice(0,8)}...)`:"Choose Session Mode",[a]);return!t||!a?null:e.jsx("div",{className:"fixed inset-0 z-50 grid place-items-center bg-slate-900/50 p-4",children:e.jsxs("div",{className:"w-full max-w-md rounded-2xl border border-slate-200 bg-white p-5 shadow-soft dark:border-slate-700 dark:bg-slate-900",children:[e.jsx("h3",{className:"font-heading text-lg font-bold",children:n}),e.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Pick where you want to enter this session."}),e.jsx("div",{className:"mt-4 space-y-3",children:va.map(i=>e.jsxs("button",{type:"button",onClick:()=>r(i.key),className:`w-full rounded-xl px-4 py-3 text-left transition ${i.buttonClass}`,children:[e.jsx("p",{className:"text-sm font-semibold",children:i.title}),e.jsx("p",{className:"text-xs opacity-85",children:i.description})]},i.key))}),e.jsx("button",{type:"button",onClick:s,className:"mt-4 w-full rounded-xl border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-100 dark:border-slate-700 dark:text-slate-200 dark:hover:bg-slate-800",children:"Cancel"})]})})}function Sa(){const t=te(),[a,s]=l.useState([]),[r,n]=l.useState(!0),[i,o]=l.useState(""),[j,w]=l.useState(""),[p,c]=l.useState(""),[x,d]=l.useState(!1),[b,m]=l.useState(""),N=l.useCallback(async()=>{n(!0),o("");try{const g=await Js();s(g)}catch(g){o(g.message??"Failed to load visits")}finally{n(!1)}},[]);l.useEffect(()=>{N()},[N]),l.useEffect(()=>{const g=setInterval(N,5e3);return()=>clearInterval(g)},[N]);async function v(g,L){w(g),o("");try{const M=await sa(g,L);await da(g),s(q=>q.map(P=>P.id===g?{...P,status:(M==null?void 0:M.status)==="approved"?"Approved":"Rejected",sessionStatus:(M==null?void 0:M.status)??P.sessionStatus,canDecide:!1}:P))}catch(M){o(M.message??"Failed to update visit")}finally{w("")}}async function R(g){c(g),o("");try{await Xs(g),s(L=>L.map(M=>M.id===g?{...M,status:"Completed",sessionStatus:"closed",canDecide:!1}:M))}catch(L){o(L.message??"Failed to end session")}finally{c("")}}function f(g){m(g),d(!0)}function A(g){b&&(d(!1),t(`/session/${b}/${g}`))}return e.jsxs(W,{title:"Visits",children:[i?e.jsx("div",{className:"mb-4 rounded-xl border border-danger/30 bg-danger/10 px-4 py-3 text-sm text-danger",children:i}):null,e.jsxs("section",{className:"rounded-2xl border border-slate-200 bg-white/90 p-4 shadow-soft dark:border-slate-800 dark:bg-slate-900/80 sm:p-6",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between gap-3",children:[e.jsx("h2",{className:"font-heading text-lg font-bold sm:text-xl",children:"Visitor Log"}),e.jsx("button",{type:"button",onClick:N,className:"rounded-lg border border-slate-300 px-3 py-2 text-xs font-semibold dark:border-slate-700",children:"Refresh"})]}),r?e.jsx("p",{className:"py-2 text-sm text-slate-500",children:"Loading visits..."}):a.length===0?e.jsx("p",{className:"py-2 text-sm text-slate-500",children:"No visit records yet."}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"space-y-3 md:hidden",children:a.map(g=>e.jsxs("article",{className:"rounded-xl border border-slate-200 bg-slate-50 p-3 dark:border-slate-700 dark:bg-slate-800",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold",children:g.visitor}),e.jsx("p",{className:"mt-1 text-xs text-slate-500",children:g.door})]}),e.jsx("span",{className:`rounded-full px-2 py-1 text-[11px] font-semibold ${ot(g.status)}`,children:g.status})]}),e.jsx("p",{className:"mt-2 text-xs text-slate-500",children:it(g.time)}),e.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:g.canDecide?e.jsxs(e.Fragment,{children:[e.jsx("button",{type:"button",disabled:j===g.id,onClick:()=>v(g.id,"approve"),className:"rounded-lg bg-success px-3 py-1.5 text-[11px] font-semibold text-white disabled:opacity-50",children:"Approve"}),e.jsx("button",{type:"button",disabled:j===g.id,onClick:()=>v(g.id,"reject"),className:"rounded-lg bg-danger px-3 py-1.5 text-[11px] font-semibold text-white disabled:opacity-50",children:"Reject"})]}):g.sessionStatus==="approved"||g.sessionStatus==="active"?e.jsxs(e.Fragment,{children:[e.jsx("button",{type:"button",onClick:()=>f(g.id),className:"rounded-lg bg-brand-500 px-3 py-1.5 text-[11px] font-semibold text-white",children:"Open Session"}),e.jsx("button",{type:"button",disabled:p===g.id,onClick:()=>R(g.id),className:"rounded-lg bg-danger px-3 py-1.5 text-[11px] font-semibold text-white disabled:opacity-50",children:p===g.id?"Ending...":"End Session"})]}):null})]},g.id))}),e.jsx("div",{className:"hidden overflow-x-auto md:block",children:e.jsxs("table",{className:"w-full min-w-[520px] text-left text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-slate-200 text-slate-500 dark:border-slate-700",children:[e.jsx("th",{className:"py-3 font-semibold",children:"Visitor"}),e.jsx("th",{className:"py-3 font-semibold",children:"Door"}),e.jsx("th",{className:"py-3 font-semibold",children:"Status"}),e.jsx("th",{className:"py-3 font-semibold",children:"Time"}),e.jsx("th",{className:"py-3 font-semibold",children:"Action"})]})}),e.jsx("tbody",{children:a.map(g=>e.jsxs("tr",{className:"border-b border-slate-100 dark:border-slate-800",children:[e.jsx("td",{className:"py-3 font-medium",children:g.visitor}),e.jsx("td",{className:"py-3",children:g.door}),e.jsx("td",{className:"py-3",children:e.jsx("span",{className:`rounded-full px-2 py-1 text-xs font-semibold ${ot(g.status)}`,children:g.status})}),e.jsx("td",{className:"py-3 text-slate-500",children:it(g.time)}),e.jsx("td",{className:"py-3",children:e.jsx("div",{className:"flex flex-wrap gap-2",children:g.canDecide?e.jsxs(e.Fragment,{children:[e.jsx("button",{type:"button",disabled:j===g.id,onClick:()=>v(g.id,"approve"),className:"rounded-lg bg-success px-3 py-1.5 text-xs font-semibold text-white disabled:opacity-50",children:"Approve"}),e.jsx("button",{type:"button",disabled:j===g.id,onClick:()=>v(g.id,"reject"),className:"rounded-lg bg-danger px-3 py-1.5 text-xs font-semibold text-white disabled:opacity-50",children:"Reject"})]}):g.sessionStatus==="approved"||g.sessionStatus==="active"?e.jsxs(e.Fragment,{children:[e.jsx("button",{type:"button",onClick:()=>f(g.id),className:"rounded-lg bg-brand-500 px-3 py-1.5 text-xs font-semibold text-white",children:"Open Session"}),e.jsx("button",{type:"button",disabled:p===g.id,onClick:()=>R(g.id),className:"rounded-lg bg-danger px-3 py-1.5 text-xs font-semibold text-white disabled:opacity-50",children:p===g.id?"Ending...":"End Session"})]}):e.jsx("span",{className:"text-xs text-slate-500",children:"No action"})})})]},g.id))})]})})]})]}),e.jsx(Lt,{open:x,sessionId:b,onClose:()=>d(!1),onSelect:A})]})}function ot(t){return t==="Approved"||t==="Completed"||t==="Active"?"bg-success/15 text-success":t==="Pending"?"bg-warning/20 text-warning":t==="Rejected"?"bg-danger/15 text-danger":"bg-slate-100 text-slate-700 dark:bg-slate-800 dark:text-slate-200"}function it(t){if(!t)return"-";const a=new Date(t);return Number.isNaN(a.getTime())?t:a.toLocaleString()}function Ca(){const[t,a]=l.useState([]),[s,r]=l.useState(""),[n,i]=l.useState({}),[o,j]=l.useState(!0),[w,p]=l.useState(!1),[c,x]=l.useState(""),[d,b]=l.useState(!1),[m,N]=l.useState(""),[v,R]=l.useState(""),f=l.useRef(null),A=localStorage.getItem("qring_access_token");function g(C){C!=null&&C.sessionId&&a(E=>E.map(O=>O.id===C.sessionId?{...O,last:C.text,time:C.at,unread:s===C.sessionId||C.senderType==="homeowner"?0:(O.unread||0)+1}:O))}l.useEffect(()=>{let C=!0;async function E(){j(!0),R("");try{const O=await rt();if(!C)return;a(O),r(_=>{var B;return _||((B=O[0])==null?void 0:B.id)||""})}catch(O){if(!C)return;R(O.message??"Failed to load messages")}finally{C&&j(!1)}}return E(),()=>{C=!1}},[]),l.useEffect(()=>{const C=setInterval(async()=>{try{const E=await rt();a(O=>{if(!O.length)return E;const _=Object.fromEntries(O.map(B=>[B.id,B.unread||0]));return E.map(B=>({...B,unread:_[B.id]??B.unread??0}))})}catch{}},8e3);return()=>clearInterval(C)},[]),l.useEffect(()=>{if(!s)return;let C=!0;return(async()=>{p(!0);try{const O=await Ys(s);if(!C)return;i(_=>({..._,[s]:O})),a(_=>_.map(B=>B.id===s?{...B,unread:0}:B))}catch(O){if(!C)return;R(O.message??"Failed to load conversation")}finally{C&&p(!1)}})(),()=>{C=!1}},[s]),l.useEffect(()=>{if(!s)return;const C=Je(`${ee.socketUrl}${ee.signalingNamespace}`,{path:ee.socketPath,transports:["websocket","polling"],auth:A?{token:A}:void 0,withCredentials:!0});return C.on("connect",()=>{C.emit("session.join",{sessionId:s,displayName:"Homeowner"})}),C.on("chat.message",E=>{const O=E==null?void 0:E.sessionId;if(!O)return;const _={id:(E==null?void 0:E.id)??`${(E==null?void 0:E.at)||Date.now()}-${Math.random()}`,sessionId:O,text:(E==null?void 0:E.text)||"",senderType:(E==null?void 0:E.senderType)||"visitor",displayName:(E==null?void 0:E.displayName)||"Participant",at:(E==null?void 0:E.at)||new Date().toISOString()};i(B=>{const Y=B[O]??[];return Y.some(G=>G.id===_.id)?B:{...B,[O]:[...Y,_]}}),g(_)}),()=>{C.disconnect()}},[s,A]),l.useEffect(()=>{f.current&&(f.current.scrollTop=f.current.scrollHeight)},[s,n]);const L=l.useMemo(()=>t.find(C=>C.id===s)??null,[t,s]),M=l.useMemo(()=>n[s]??[],[n,s]);async function q(C){C.preventDefault();const E=c.trim();if(!(!s||!E)){b(!0);try{const O=await Ks(s,E);O&&(i(_=>{const B=_[s]??[];return B.some(Y=>Y.id===O.id)?_:{..._,[s]:[...B,O]}}),g(O)),x("")}catch(O){R(O.message??"Failed to send message")}finally{b(!1)}}}async function P(C){if(!(!s||!C||m)){R(""),N(C);try{const E=M.filter(O=>O.id!==C);await Zs(s,C),i(O=>({...O,[s]:E})),a(O=>O.map(_=>{if(_.id!==s)return _;const B=E[E.length-1];return{..._,last:(B==null?void 0:B.text)??"",time:(B==null?void 0:B.at)??_.time}}))}catch(E){R(E.message??"Failed to delete message")}finally{N("")}}}return e.jsxs(W,{title:"Messages",children:[v?e.jsx("div",{className:"mb-4 rounded-xl border border-danger/30 bg-danger/10 px-4 py-3 text-sm text-danger",children:v}):null,e.jsxs("section",{className:"grid gap-3 sm:gap-4 lg:grid-cols-12",children:[e.jsxs("article",{className:"rounded-2xl border border-slate-200 bg-white/90 p-3 sm:p-4 shadow-soft dark:border-slate-800 dark:bg-slate-900/80 lg:col-span-5 sm:p-5",children:[e.jsx("h2",{className:"mb-4 font-heading text-lg font-bold sm:text-xl",children:"Threads"}),o?e.jsx(dt,{text:"Loading threads..."}):null,!o&&t.length===0?e.jsx(dt,{text:"No messages yet."}):null,e.jsx("div",{className:"space-y-3",children:t.map(C=>e.jsxs("button",{type:"button",onClick:()=>r(C.id),className:`flex w-full items-center justify-between rounded-xl border p-3 text-left transition ${s===C.id?"border-brand-500 bg-brand-50 dark:border-brand-400 dark:bg-brand-500/10":"border-slate-200 bg-white dark:border-slate-700 dark:bg-slate-900"}`,children:[e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"truncate text-sm font-semibold",children:C.name}),e.jsx("p",{className:"truncate text-xs text-slate-500",children:C.last})]}),e.jsxs("div",{className:"ml-3 text-right",children:[e.jsx("p",{className:"text-xs text-slate-500",children:ct(C.time)}),C.unread>0?e.jsx("span",{className:"mt-1 inline-block rounded-full bg-brand-500 px-2 py-0.5 text-[10px] font-bold text-white",children:C.unread}):null]})]},C.id))})]}),e.jsxs("article",{className:"rounded-2xl border border-slate-200 bg-white/90 p-3 sm:p-4 shadow-soft dark:border-slate-800 dark:bg-slate-900/80 lg:col-span-7 sm:p-5",children:[e.jsx("h2",{className:"mb-4 font-heading text-lg font-bold sm:text-xl",children:"Conversation"}),L?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[e.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-4 dark:border-slate-700 dark:bg-slate-800",children:[e.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Visitor"}),e.jsx("p",{className:"mt-1 text-sm font-semibold",children:L.name})]}),e.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-4 dark:border-slate-700 dark:bg-slate-800",children:[e.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Door"}),e.jsx("p",{className:"mt-1 text-sm font-semibold",children:L.door})]})]}),e.jsxs("div",{ref:f,className:"max-h-[28rem] space-y-2 overflow-y-auto rounded-xl border border-slate-200 bg-slate-50 p-3 dark:border-slate-700 dark:bg-slate-800",children:[w?e.jsx("p",{className:"text-sm text-slate-500",children:"Loading conversation..."}):null,!w&&M.length===0?e.jsx("p",{className:"text-sm text-slate-500",children:"No messages in this session yet."}):null,M.map(C=>{const E=C.senderType==="homeowner";return e.jsxs("div",{className:`max-w-[85%] rounded-xl px-3 py-2 text-sm ${E?"ml-auto bg-brand-500 text-white":"bg-white text-slate-800 dark:bg-slate-900 dark:text-slate-100"}`,children:[e.jsx("p",{className:"text-[11px] font-semibold opacity-80",children:C.displayName}),e.jsx("p",{children:C.text}),e.jsxs("div",{className:"mt-1 flex items-center justify-between gap-2 text-[10px] opacity-80",children:[e.jsx("p",{children:ct(C.at)}),E?e.jsx("button",{type:"button",onClick:()=>P(C.id),disabled:m===C.id,className:"rounded-md bg-black/20 px-2 py-0.5 text-[10px] font-semibold text-inherit disabled:opacity-60",children:m===C.id?"Deleting...":"Delete"}):null]})]},C.id)})]}),e.jsxs("form",{onSubmit:q,className:"flex gap-2",children:[e.jsx("input",{value:c,onChange:C=>x(C.target.value),className:"w-full rounded-xl border border-slate-300 bg-white px-3 py-3 text-sm dark:border-slate-700 dark:bg-slate-900",placeholder:"Type a message to this visitor"}),e.jsx("button",{type:"submit",disabled:d||!s||!c.trim(),className:"rounded-xl bg-brand-500 px-4 py-3 text-sm font-semibold text-white disabled:opacity-50",children:d?"Sending...":"Send"})]})]}):e.jsx("div",{className:"rounded-xl bg-slate-100 p-4 text-sm text-slate-600 dark:bg-slate-800 dark:text-slate-300",children:"Select a thread to view details."})]})]})]})}function dt({text:t}){return e.jsx("div",{className:"mb-3 rounded-xl bg-slate-100 p-4 text-sm text-slate-600 dark:bg-slate-800 dark:text-slate-300",children:t})}function ct(t){if(!t)return"-";const a=new Date(t);return Number.isNaN(a.getTime())?t:a.toLocaleString()}function Pa(){var K;const[t,a]=l.useState([]),[s,r]=l.useState(null),[n,i]=l.useState(!0),[o,j]=l.useState(""),[w,p]=l.useState(""),[c,x]=l.useState(""),[d,b]=l.useState(""),[m,N]=l.useState(""),[v,R]=l.useState(!1),[f,A]=l.useState(""),[g,L]=l.useState(""),[M,q]=l.useState(!1),[P,C]=l.useState(""),[E,O]=l.useState(!0),[_,B]=l.useState({size:"240",shape:"rounded"}),Y=l.useRef(null),G=!!(s&&Number(s.maxDoors??0)>0&&Number(s.usedDoors??0)>=Number(s.maxDoors??0)),S=!!(s&&Number(s.maxQrCodes??0)>0&&Number(s.usedQrCodes??0)>=Number(s.maxQrCodes??0));async function Q(){var h,I;i(!0),j("");try{const D=await ea(),k=(D==null?void 0:D.doors)??[];a(k),r((D==null?void 0:D.subscription)??null),(h=D==null?void 0:D.subscription)!=null&&h.managedByEstate&&(q(!0),C(((I=D==null?void 0:D.subscription)==null?void 0:I.estateName)||"")),!d&&k.length>0&&b(k[0].id),!f&&k.length>0&&A(k[0].id)}catch(D){j(D.message??"Failed to load doors")}finally{i(!1)}}l.useEffect(()=>{Q()},[]),l.useEffect(()=>{let h=!0;async function I(){try{const D=await $e();if(!h)return;q(!!(D!=null&&D.managedByEstate)),C((D==null?void 0:D.estateName)||"")}catch{if(!h)return;const D=localStorage.getItem("qring_user");let k=!1;try{const y=D?JSON.parse(D):null;k=typeof(y==null?void 0:y.email)=="string"&&y.email.toLowerCase().endsWith("@estate.useqring.online")}catch{k=!1}q(k),C("")}finally{h&&O(!1)}}return I(),()=>{h=!1}},[]);async function z(h){var I,D;if(h.preventDefault(),G||S){j(G?`Door limit reached (${(s==null?void 0:s.maxDoors)??0}) for your ${(s==null?void 0:s.plan)??"current"} plan.`:`QR limit reached (${(s==null?void 0:s.maxQrCodes)??0}) for your ${(s==null?void 0:s.plan)??"current"} plan.`);return}R(!0),j(""),x("");try{const k=await ta({name:m,generateQr:!0,mode:"direct",plan:"single"});if(k!=null&&k.door&&(a(y=>[k.door,...y]),b(k.door.id),A(k.door.id),(I=k==null?void 0:k.qr)!=null&&I.qr_id&&L(k.qr.qr_id),N("")),r(y=>y&&{...y,usedDoors:(y.usedDoors??0)+1,remainingDoors:Math.max((y.remainingDoors??0)-1,0),usedQrCodes:(y.usedQrCodes??0)+(k!=null&&k.qr?1:0),remainingQrCodes:Math.max((y.remainingQrCodes??0)-(k!=null&&k.qr?1:0),0)}),(D=k==null?void 0:k.qr)!=null&&D.qr_id){const y=`${window.location.origin}/scan/${k.qr.qr_id}`;try{await navigator.clipboard.writeText(y),x(`Door created and QR copied: ${y}`)}catch{x(`Door created with QR: ${y}`)}}else x("Door created successfully.")}catch(k){j(k.message??"Failed to create door")}finally{R(!1)}}const U=t.find(h=>String(h.id)===String(f))??null,F=U&&g?{doorName:U.name,scanUrl:`${window.location.origin}/scan/${g}`}:null;return e.jsxs(W,{title:"Doors",children:[o?e.jsx("div",{className:"mb-4 rounded-xl border border-danger/30 bg-danger/10 px-4 py-3 text-sm text-danger",children:o}):null,c?e.jsx("div",{className:"mb-4 rounded-xl border border-success/30 bg-success/10 px-4 py-3 text-sm text-success",children:c}):null,M?e.jsxs("div",{className:"mb-4 rounded-xl border border-warning/30 bg-warning/10 px-4 py-3 text-sm text-warning",children:["Door and QR creation are managed by your estate",P?` (${P})`:"","."]}):null,s?e.jsxs("section",{className:"mb-4 rounded-2xl border border-slate-200 bg-white/90 p-4 shadow-soft dark:border-slate-800 dark:bg-slate-900/80",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Subscription"}),e.jsxs("p",{className:"text-sm font-semibold text-slate-900 dark:text-slate-100",children:["Plan: ",s.plan," (",s.status,")"]})]}),e.jsxs("div",{className:"text-right text-xs text-slate-600 dark:text-slate-300",children:[e.jsxs("p",{children:["Doors: ",s.usedDoors,"/",s.maxDoors]}),e.jsxs("p",{children:["QR Codes: ",s.usedQrCodes,"/",s.maxQrCodes]})]})]}),s.overDoorLimit?e.jsx("p",{className:"mt-3 rounded-lg bg-warning/15 px-3 py-2 text-xs font-medium text-warning",children:"You are above your plan door limit. Upgrade your subscription."}):null]}):null,!E&&!M?e.jsxs("section",{className:"mb-4 rounded-2xl border border-slate-200 bg-white/90 p-4 shadow-soft dark:border-slate-800 dark:bg-slate-900/80 sm:p-5",children:[e.jsx("h2",{className:"font-heading text-lg font-bold sm:text-xl",children:"Create Door"}),e.jsx("p",{className:"mt-1 text-xs text-slate-500 sm:text-sm",children:"Enter a new door name and create it with a QR code."}),e.jsxs("form",{className:"mt-4 grid gap-3 sm:grid-cols-[1fr_auto]",onSubmit:z,children:[e.jsx("input",{type:"text",value:m,onChange:h=>N(h.target.value),placeholder:"e.g. Front Gate",className:"rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm outline-none ring-brand-300 focus:ring-2 dark:border-slate-700 dark:bg-slate-900",required:!0}),e.jsx("button",{type:"submit",disabled:v||G||S,className:"rounded-lg bg-slate-900 px-4 py-2 text-sm font-semibold text-white disabled:cursor-not-allowed disabled:opacity-50 dark:bg-white dark:text-slate-900",children:v?"Creating...":"Create Door + QR"})]})]}):null,n?e.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white/90 p-4 sm:p-5 text-sm text-slate-500 shadow-soft dark:border-slate-800 dark:bg-slate-900/80",children:"Loading doors..."}):t.length===0?e.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white/90 p-4 sm:p-5 text-sm text-slate-500 shadow-soft dark:border-slate-800 dark:bg-slate-900/80",children:"No doors configured yet."}):e.jsxs("section",{children:[e.jsx("h2",{className:"mb-3 font-heading text-lg font-bold sm:text-xl",children:"Doors Created"}),e.jsx("div",{className:"grid gap-3 sm:gap-4 md:grid-cols-2 xl:grid-cols-3",children:t.map(h=>{var I;return e.jsxs("article",{className:"rounded-2xl border border-slate-200 bg-white/90 p-4 sm:p-5 shadow-soft dark:border-slate-800 dark:bg-slate-900/80",children:[e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"font-heading text-lg font-bold",children:h.name}),e.jsx("p",{className:"mt-1 text-xs text-slate-500",children:h.homeName})]}),e.jsx("span",{className:`rounded-full px-2 py-1 text-xs font-semibold ${h.state==="Online"?"bg-success/20 text-success":"bg-danger/20 text-danger"}`,children:h.state})]}),e.jsx("p",{className:"mt-4 text-xs uppercase tracking-wide text-slate-500",children:"Linked QR Codes"}),e.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:(I=h.qr)!=null&&I.length?h.qr.map(D=>e.jsxs("span",{className:"inline-flex items-center gap-2 rounded-lg border border-slate-200 bg-slate-50 px-2 py-1 text-xs font-semibold transition hover:border-slate-300 dark:border-slate-700 dark:bg-slate-800",children:[e.jsx("img",{src:Re(`${window.location.origin}/scan/${D}`,40),alt:`QR ${D}`,className:"h-5 w-5 rounded"}),e.jsx("span",{children:D})]},`${h.id}-${D}`)):e.jsx("span",{className:"text-xs text-slate-500",children:"No QR linked"})}),e.jsx("button",{type:"button",onClick:()=>{var D;A(h.id),L(((D=h.qr)==null?void 0:D[0])??""),setTimeout(()=>{var k;(k=Y.current)==null||k.scrollIntoView({behavior:"smooth",block:"start"})},0)},className:"mt-4 w-full rounded-lg bg-slate-900 px-4 py-2 text-sm font-semibold text-white disabled:cursor-not-allowed disabled:opacity-50 dark:bg-white dark:text-slate-900",children:"View Door"})]},h.id)})})]}),U?e.jsxs("section",{ref:Y,className:"mt-4 rounded-2xl border border-slate-200 bg-white/90 p-4 shadow-soft dark:border-slate-800 dark:bg-slate-900/80 sm:p-5",children:[e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsx("h2",{className:"font-heading text-lg font-bold sm:text-xl",children:"Door Details & QR Print"}),e.jsx("button",{type:"button",onClick:()=>{A(""),L("")},className:"rounded-lg border border-slate-300 px-3 py-1.5 text-xs font-semibold dark:border-slate-700",children:"Close"})]}),e.jsxs("p",{className:"mt-1 text-xs text-slate-500 sm:text-sm",children:["Door: ",U.name," | QR: ",g||"None selected"]}),e.jsxs("div",{className:"mt-4 grid gap-4 lg:grid-cols-[300px_1fr]",children:[e.jsxs("div",{className:"space-y-3 rounded-xl border border-slate-200 bg-slate-50 p-3 dark:border-slate-700 dark:bg-slate-800",children:[e.jsx("label",{className:"block text-xs font-semibold uppercase tracking-wide text-slate-500",children:"QR Codes Created"}),e.jsx("div",{className:"max-h-40 space-y-2 overflow-y-auto pr-1",children:(K=U.qr)!=null&&K.length?U.qr.map(h=>e.jsxs("button",{type:"button",onClick:()=>L(h),className:`flex w-full items-center gap-2 rounded-lg border px-2 py-2 text-left text-xs font-semibold transition ${g===h?"border-brand-500 bg-brand-50 text-brand-700 dark:bg-brand-500/10 dark:text-brand-200":"border-slate-200 bg-white hover:border-slate-300 dark:border-slate-700 dark:bg-slate-900"}`,children:[e.jsx("img",{src:Re(`${window.location.origin}/scan/${h}`,40),alt:`QR ${h}`,className:"h-8 w-8 rounded"}),e.jsx("span",{className:"truncate",children:h})]},`${U.id}-pick-${h}`)):e.jsx("p",{className:"text-xs text-slate-500",children:"No QR codes for this door yet."})}),e.jsxs("label",{className:"block text-xs font-semibold uppercase tracking-wide text-slate-500",children:["Print Size",e.jsxs("select",{value:_.size,onChange:h=>B(I=>({...I,size:h.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 bg-white px-2 py-2 text-sm font-medium dark:border-slate-700 dark:bg-slate-900",children:[e.jsx("option",{value:"180",children:"Small (180px)"}),e.jsx("option",{value:"240",children:"Medium (240px)"}),e.jsx("option",{value:"320",children:"Large (320px)"}),e.jsx("option",{value:"420",children:"XL Poster (420px)"})]})]}),e.jsxs("label",{className:"block text-xs font-semibold uppercase tracking-wide text-slate-500",children:["Gen Z Shape",e.jsxs("select",{value:_.shape,onChange:h=>B(I=>({...I,shape:h.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 bg-white px-2 py-2 text-sm font-medium dark:border-slate-700 dark:bg-slate-900",children:[e.jsx("option",{value:"rounded",children:"Rounded Card"}),e.jsx("option",{value:"circle",children:"Circle Sticker"}),e.jsx("option",{value:"diamond",children:"Diamond Tilt"}),e.jsx("option",{value:"squircle",children:"Squircle"}),e.jsx("option",{value:"ticket",children:"Ticket Cut"}),e.jsx("option",{value:"home",children:"Home Badge"}),e.jsx("option",{value:"bell",children:"Bell Badge"}),e.jsx("option",{value:"star",children:"Star Pop"})]})]}),e.jsx("button",{type:"button",disabled:!F,onClick:()=>Aa(F,_),className:"w-full rounded-lg bg-slate-900 px-4 py-2 text-sm font-semibold text-white dark:bg-white dark:text-slate-900",children:"Print QR"})]}),e.jsx("div",{className:"grid place-items-center rounded-xl border border-dashed border-slate-300 bg-white p-4 dark:border-slate-700 dark:bg-slate-900",children:F?e.jsxs("div",{className:`bg-white p-4 shadow-lg ${xt(_.shape)}`,style:{width:`${Number(_.size)+40}px`},children:[e.jsx("div",{className:"mb-2 text-center text-xs font-semibold uppercase tracking-wide text-slate-500",children:F.doorName}),e.jsx("img",{src:Re(F.scanUrl,Number(_.size)),alt:`QR for ${F.doorName}`,className:`mx-auto bg-white p-2 ${xt(_.shape)}`,style:{width:`${Number(_.size)}px`,height:`${Number(_.size)}px`}}),e.jsx("div",{className:"mt-2 text-center text-[10px] font-medium text-slate-500",children:F.scanUrl})]}):e.jsx("p",{className:"text-sm text-slate-500",children:"Pick a QR code to preview and print."})})]})]}):null]})}function Re(t,a=240){return`https://api.qrserver.com/v1/create-qr-code/?size=${a}x${a}&data=${encodeURIComponent(t)}`}function xt(t){return t==="circle"?"rounded-full":t==="diamond"?"rotate-2 rounded-2xl":t==="squircle"?"rounded-[32px]":t==="ticket"?"rounded-[22px]":t==="home"?"rounded-[18px]":t==="bell"?"rounded-[24px]":t==="star"?"rounded-[14px]":"rounded-2xl"}function Aa(t,a){const s=Number(a.size||240),r=Re(t.scanUrl,s),n={rounded:"border-radius:18px;",circle:"border-radius:9999px;",diamond:"border-radius:22px;transform:rotate(2deg);",squircle:"border-radius:32px;",ticket:"border-radius:22px;clip-path: polygon(6% 0,94% 0,100% 18%,100% 82%,94% 100%,6% 100%,0 82%,0 18%);",home:"clip-path: polygon(50% 0,100% 30%,100% 100%,0 100%,0 30%);border-radius:10px;",bell:"clip-path: polygon(20% 22%,30% 8%,70% 8%,80% 22%,86% 64%,74% 88%,26% 88%,14% 64%);border-radius:10px;",star:"clip-path: polygon(50% 0,61% 35%,98% 35%,68% 57%,79% 92%,50% 70%,21% 92%,32% 57%,2% 35%,39% 35%);border-radius:8px;"}[a.shape]||"border-radius:18px;",i=`
    <html>
      <head>
        <title>Print QR</title>
        <style>
          body{font-family:Inter,Arial,sans-serif;padding:24px;background:#fff;color:#111}
          .card{width:${s+40}px;padding:16px;border:1px solid #e2e8f0;${n}}
          .door{font-size:12px;font-weight:700;text-transform:uppercase;letter-spacing:.08em;text-align:center;color:#334155;margin-bottom:8px}
          .qr{width:${s}px;height:${s}px;display:block;margin:0 auto;background:#fff;padding:8px;${n}}
          .url{font-size:10px;color:#64748b;text-align:center;margin-top:8px;word-break:break-all}
        </style>
      </head>
      <body>
        <div class="card">
          <div class="door">${t.doorName}</div>
          <img class="qr" src="${r}" alt="QR" />
          <div class="url">${t.scanUrl}</div>
        </div>
        <script>window.onload = () => { window.print(); };<\/script>
      </body>
    </html>`,o=window.open("","_blank","width=700,height=800");o&&(o.document.open(),o.document.write(i),o.document.close())}async function Ea(){const t=await T("/homeowner/settings");return(t==null?void 0:t.data)??null}async function Ra(t){const a=await T("/homeowner/settings",{method:"PUT",body:JSON.stringify(t)});return(a==null?void 0:a.data)??null}function Ma(){const[t,a]=l.useState({pushAlerts:!0,soundAlerts:!0,autoRejectUnknownVisitors:!1}),[s,r]=l.useState(!1),[n,i]=l.useState(""),[o,j]=l.useState(null),[w,p]=l.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[c,x]=l.useState(!0),[d,b]=l.useState(!1),[m,N]=l.useState(!1),[v,R]=l.useState(""),[f,A]=l.useState("");l.useEffect(()=>{let M=!0;async function q(){x(!0),A("");try{const P=await Ea();if(!M)return;a({pushAlerts:!!(P!=null&&P.pushAlerts),soundAlerts:!!(P!=null&&P.soundAlerts),autoRejectUnknownVisitors:!!(P!=null&&P.autoRejectUnknownVisitors)}),r(!!(P!=null&&P.managedByEstate)),i((P==null?void 0:P.estateName)||""),localStorage.setItem("qring_sound_alerts",String(!!(P!=null&&P.soundAlerts))),window.dispatchEvent(new Event("qring:sound-alerts-updated")),j((P==null?void 0:P.subscription)??null)}catch(P){if(!M)return;A(P.message??"Failed to load settings")}finally{M&&x(!1)}}return q(),()=>{M=!1}},[]);async function g(M){M.preventDefault(),b(!0),A(""),R("");try{const q=await Ra(t);a({pushAlerts:!!(q!=null&&q.pushAlerts),soundAlerts:!!(q!=null&&q.soundAlerts),autoRejectUnknownVisitors:!!(q!=null&&q.autoRejectUnknownVisitors)}),localStorage.setItem("qring_sound_alerts",String(!!(q!=null&&q.soundAlerts))),window.dispatchEvent(new Event("qring:sound-alerts-updated")),R("Settings updated successfully.")}catch(q){A(q.message??"Failed to update settings")}finally{b(!1)}}async function L(M){if(M.preventDefault(),N(!0),A(""),R(""),w.newPassword!==w.confirmPassword){A("New password and confirm password do not match."),N(!1);return}try{await Hs({currentPassword:w.currentPassword,newPassword:w.newPassword}),p({currentPassword:"",newPassword:"",confirmPassword:""}),R("Password changed successfully.")}catch(q){A(q.message??"Failed to change password")}finally{N(!1)}}return e.jsxs(W,{title:"Settings",children:[f?e.jsx("div",{className:"mb-4 rounded-xl border border-danger/30 bg-danger/10 px-4 py-3 text-sm text-danger",children:f}):null,v?e.jsx("div",{className:"mb-4 rounded-xl border border-success/30 bg-success/10 px-4 py-3 text-sm text-success",children:v}):null,s?e.jsxs("div",{className:"mb-4 rounded-xl border border-brand-300/40 bg-brand-50 px-4 py-3 text-sm text-brand-700 dark:bg-brand-500/10 dark:text-brand-200",children:["Your plan is managed by estate admin",n?` (${n})`:"","."]}):null,c?e.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white/90 p-5 text-sm text-slate-500 shadow-soft dark:border-slate-800 dark:bg-slate-900/80",children:"Loading settings..."}):e.jsxs("section",{className:"grid gap-3 sm:gap-4 xl:grid-cols-12",children:[e.jsxs("article",{className:"rounded-2xl border border-slate-200 bg-white/90 p-4 shadow-soft dark:border-slate-800 dark:bg-slate-900/80 sm:p-6 xl:col-span-7",children:[e.jsx("h2",{className:"font-heading text-lg font-bold sm:text-xl",children:"Preferences"}),e.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Manage how you receive alerts and visitor auto-reject behavior."}),e.jsxs("form",{className:"mt-4 space-y-3",onSubmit:g,children:[e.jsx(Ue,{label:"Push Alerts",checked:t.pushAlerts,onChange:M=>a(q=>({...q,pushAlerts:M}))}),e.jsx(Ue,{label:"Sound Alerts",checked:t.soundAlerts,onChange:M=>a(q=>({...q,soundAlerts:M}))}),e.jsx(Ue,{label:"Auto Reject Unknown Visitors",checked:t.autoRejectUnknownVisitors,onChange:M=>a(q=>({...q,autoRejectUnknownVisitors:M}))}),e.jsx("button",{type:"submit",disabled:d,className:"w-full rounded-lg bg-slate-900 px-4 py-2 text-sm font-semibold text-white disabled:opacity-50 sm:w-auto dark:bg-white dark:text-slate-900",children:d?"Saving...":"Save Preferences"})]})]}),e.jsxs("article",{className:"rounded-2xl border border-slate-200 bg-white/90 p-4 shadow-soft dark:border-slate-800 dark:bg-slate-900/80 sm:p-6 xl:col-span-5",children:[e.jsx("h2",{className:"font-heading text-lg font-bold sm:text-xl",children:"Current Subscription"}),o?e.jsxs("div",{className:"mt-4 rounded-xl bg-slate-100 p-4 dark:bg-slate-800",children:[e.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Plan"}),e.jsx("p",{className:"mt-1 text-base font-semibold",children:o.plan}),e.jsxs("p",{className:"mt-1 text-xs text-slate-500",children:["Status: ",o.status]}),o.limits?e.jsxs("p",{className:"mt-2 text-xs text-slate-500",children:["Limits: ",o.limits.maxDoors," doors, ",o.limits.maxQrCodes," QR codes"]}):null]}):e.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"No subscription information available."}),e.jsxs("form",{className:"mt-6 space-y-3",onSubmit:L,children:[e.jsx("h3",{className:"text-sm font-semibold",children:"Reset Password"}),e.jsx(Fe,{label:"Current Password",value:w.currentPassword,onChange:M=>p(q=>({...q,currentPassword:M}))}),e.jsx(Fe,{label:"New Password",value:w.newPassword,onChange:M=>p(q=>({...q,newPassword:M}))}),e.jsx(Fe,{label:"Confirm New Password",value:w.confirmPassword,onChange:M=>p(q=>({...q,confirmPassword:M}))}),e.jsx("button",{type:"submit",disabled:m,className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm font-semibold disabled:opacity-50 dark:border-slate-700",children:m?"Updating...":"Update Password"})]})]})]})]})}function Ue({label:t,checked:a,onChange:s}){return e.jsxs("label",{className:"flex items-center justify-between rounded-xl border border-slate-200 px-3 py-2 dark:border-slate-700",children:[e.jsx("span",{className:"text-sm font-medium",children:t}),e.jsx("input",{type:"checkbox",checked:a,onChange:r=>s(r.target.checked),className:"h-4 w-4 accent-brand-500"})]})}function Fe({label:t,value:a,onChange:s}){return e.jsxs("label",{className:"block",children:[e.jsx("span",{className:"mb-1 block text-sm font-medium text-slate-700 dark:text-slate-300",children:t}),e.jsx("input",{type:"password",value:a,required:!0,minLength:8,onChange:r=>s(r.target.value),className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm outline-none ring-brand-300 transition focus:ring-2 dark:border-slate-700 dark:bg-slate-900"})]})}const mt="₦";function Ia(){const{user:t}=re(),[a,s]=l.useState([]),[r,n]=l.useState(null),[i,o]=l.useState([]),[j,w]=l.useState(""),[p,c]=l.useState(""),[x,d]=l.useState(""),b=te();l.useEffect(()=>{let f=!0;async function A(){try{const[g,L,M,q]=await Promise.all([ls(),ns(),Pt(),(t==null?void 0:t.role)==="homeowner"?$e():Promise.resolve(null)]);if(!f)return;if((t==null?void 0:t.role)==="homeowner"&&(q!=null&&q.managedByEstate)){b("/dashboard/homeowner/overview",{replace:!0});return}n(g),s(L),o(M)}catch(g){if(!f)return;c(g.message??"Failed to load billing data")}}return A(),()=>{f=!1}},[b,t==null?void 0:t.role]);const m=l.useMemo(()=>{if(!(r!=null&&r.plan))return"Free";const f=i.find(A=>A.id===r.plan);return(f==null?void 0:f.name)??r.plan},[i,r]),N=(t==null?void 0:t.role)==="estate"?"/dashboard/estate":"/dashboard/homeowner/overview",v=(t==null?void 0:t.role)==="estate"?"Estate Dashboard":"Homeowner Dashboard";async function R(f){w(f.id),c(""),d("");try{if(f.amount===0){const A=await os(f.id);n(g=>({...g??{},...A,limits:{maxDoors:f.maxDoors,maxQrCodes:f.maxQrCodes}})),d("Free plan activated. You can manage up to 1 door and 1 QR code.")}else{const g=!["localhost","127.0.0.1"].includes(window.location.hostname)&&window.location.protocol==="https:"?`${window.location.origin}/billing/callback`:void 0,L=await is(f.id,g);if(!(L!=null&&L.authorization_url))throw new Error("Unable to start Paystack checkout");window.location.href=L.authorization_url}}catch(A){c(A.message??"Failed to process plan request")}finally{w("")}}return e.jsxs(W,{title:"Billing & Subscription",children:[p?e.jsx("div",{className:"mb-4 rounded-xl border border-danger/30 bg-danger/10 px-4 py-3 text-sm text-danger",children:p}):null,x?e.jsx("div",{className:"mb-4 rounded-xl border border-success/30 bg-success/10 px-4 py-3 text-sm text-success",children:x}):null,e.jsx("section",{className:"rounded-2xl border border-slate-200 bg-white/90 p-4 sm:p-5 shadow-soft dark:border-slate-800 dark:bg-slate-900/80",children:e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"font-heading text-xl font-bold",children:"Current Plan"}),e.jsx("p",{className:"mt-1 text-sm text-slate-500",children:m}),r!=null&&r.limits?e.jsxs("p",{className:"mt-1 text-xs text-slate-500",children:["Limit: ",r.limits.maxDoors," door(s), ",r.limits.maxQrCodes," QR code(s)"]}):null]}),e.jsxs("button",{type:"button",onClick:()=>b(N),className:"rounded-lg bg-brand-500 px-4 py-2 text-sm font-semibold text-white",children:["Back to ",v]})]})}),e.jsx("section",{className:"mt-4 grid gap-3 sm:mt-6 sm:gap-4 md:grid-cols-2 xl:grid-cols-3",children:i.map(f=>e.jsxs("article",{className:"rounded-2xl border border-slate-200 bg-white/90 p-4 sm:p-5 shadow-soft dark:border-slate-800 dark:bg-slate-900/80",children:[e.jsx("p",{className:"text-sm font-semibold uppercase tracking-wide text-slate-500",children:f.name}),e.jsxs("p",{className:"mt-2 text-2xl font-bold",children:[f.amount===0?`${mt}0`:`${mt}${new Intl.NumberFormat("en-NG").format(f.amount)}`,e.jsx("span",{className:"ml-1 text-sm font-medium text-slate-500",children:"/month"})]}),e.jsxs("p",{className:"mt-2 text-sm text-slate-500",children:["Up to ",f.maxDoors," doors"]}),e.jsxs("p",{className:"text-sm text-slate-500",children:["Up to ",f.maxQrCodes," QR codes"]}),e.jsx("button",{type:"button",disabled:j===f.id||(r==null?void 0:r.plan)===f.id,onClick:()=>R(f),className:"mt-4 w-full rounded-lg bg-slate-900 px-4 py-2 text-sm font-semibold text-white disabled:cursor-not-allowed disabled:opacity-50 dark:bg-white dark:text-slate-900",children:(r==null?void 0:r.plan)===f.id?"Current plan":j===f.id?"Processing...":f.amount===0?"Activate free":"Pay with Paystack"})]},f.id))}),e.jsxs("section",{className:"mt-6 rounded-2xl border border-slate-200 bg-white/90 p-5 shadow-soft dark:border-slate-800 dark:bg-slate-900/80",children:[e.jsx("h3",{className:"font-heading text-lg font-bold",children:"Manual Payment Instructions"}),a.length===0?e.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"No manual payment account configured."}):e.jsx("div",{className:"mt-3 space-y-3",children:a.map(f=>e.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-4 dark:border-slate-700 dark:bg-slate-800",children:[e.jsx("p",{className:"text-sm font-semibold",children:f.name}),e.jsx("p",{className:"mt-1 text-sm text-slate-600 dark:text-slate-300",children:f.description}),e.jsx("p",{className:"mt-2 text-xs font-medium text-slate-500",children:f.accountInfo})]},f.id))}),e.jsxs("p",{className:"mt-4 text-xs text-slate-500",children:["Need help? ",e.jsx(u,{to:"/contact",className:"font-semibold text-brand-600 dark:text-brand-300",children:"Contact support"}),"."]})]})]})}function Da(){const{user:t}=re(),[a,s]=l.useState(""),[r,n]=l.useState("Verifying payment..."),[i]=wt(),o=te();return l.useEffect(()=>{let j=!0;async function w(){const p=i.get("reference")||i.get("trxref");if(!p){s("Missing Paystack reference.");return}try{if(await ds(p),!j)return;n("Payment successful. Redirecting..."),setTimeout(()=>{const c=(t==null?void 0:t.role)==="estate"?"/dashboard/estate":"/dashboard/homeowner/overview";o(c,{replace:!0})},800)}catch(c){if(!j)return;s(c.message??"Unable to verify payment.")}}return w(),()=>{j=!1}},[o,i,t==null?void 0:t.role]),e.jsx("div",{className:"grid min-h-screen place-items-center bg-slate-100 p-6 dark:bg-slate-950",children:e.jsx("div",{className:"w-full max-w-md rounded-2xl border border-slate-200 bg-white p-6 text-center shadow-soft dark:border-slate-800 dark:bg-slate-900",children:a?e.jsx("p",{className:"text-sm font-semibold text-danger",children:a}):e.jsx("p",{className:"text-sm font-semibold text-slate-700 dark:text-slate-200",children:r})})})}async function de(){const t=await T("/estate/overview");return(t==null?void 0:t.data)??{}}async function Ta(t){const a=await T("/estate/",{method:"POST",body:JSON.stringify(t)});return(a==null?void 0:a.data)??null}async function La(t){const a=await T("/estate/homes",{method:"POST",body:JSON.stringify(t)});return(a==null?void 0:a.data)??null}async function qa(t){const a=await T("/estate/doors",{method:"POST",body:JSON.stringify(t)});return(a==null?void 0:a.data)??null}async function $a(t){const a=await T("/estate/doors/provision",{method:"POST",body:JSON.stringify(t)});return(a==null?void 0:a.data)??null}async function Oa(t,a){const s=await T(`/estate/doors/${t}/assign-homeowner`,{method:"POST",body:JSON.stringify({homeownerId:a})});return(s==null?void 0:s.data)??null}async function Qa(t){const a=await T(`/estate/homeowners/${t}/invite`,{method:"POST"});return(a==null?void 0:a.data)??null}async function _a(){const t=await T("/estate/mappings");return Array.isArray(t==null?void 0:t.data)?t.data:[]}async function Ha(){const t=await T("/estate/access-logs");return Array.isArray(t==null?void 0:t.data)?t.data:[]}async function Ba(){const t=await T("/estate/plan-restrictions");return(t==null?void 0:t.data)??null}async function Ua(t,a){const s=await T(`/estate/doors/${t}/admin-profile`,{method:"PUT",body:JSON.stringify(a)});return(s==null?void 0:s.data)??null}async function qt(t){const a=await T("/estate/shared-qr",{method:"POST",body:JSON.stringify({estateId:t})});return(a==null?void 0:a.data)??null}async function ht(t){const a=await T(`/estate/shared-qr?estateId=${encodeURIComponent(t)}`);return Array.isArray(a==null?void 0:a.data)?a.data:[]}const Fa=["Create Estate","Add Doors","Assign Doors To Homeowners","Invite Homeowners","Manage Door Mappings","View Access Logs","Plan Restrictions","Multi-Home Support"];function Va(){var i,o,j,w;const[t,a]=l.useState(null),[s,r]=l.useState("");l.useEffect(()=>{let p=!0;async function c(){try{const x=await de();if(!p)return;a(x)}catch(x){if(!p)return;r(x.message??"Failed to load estate data")}}return c(),()=>{p=!1}},[]);const n={estates:((i=t==null?void 0:t.estates)==null?void 0:i.length)??0,homes:((o=t==null?void 0:t.homes)==null?void 0:o.length)??0,doors:((j=t==null?void 0:t.doors)==null?void 0:j.length)??0,homeowners:((w=t==null?void 0:t.homeowners)==null?void 0:w.length)??0};return e.jsxs(W,{title:"Estate Overview",children:[s?e.jsx(za,{tone:"danger",message:s}):null,e.jsxs("section",{className:"mb-4 grid gap-3 sm:grid-cols-2 xl:grid-cols-4",children:[e.jsx(Se,{label:"Estates",value:n.estates}),e.jsx(Se,{label:"Homes",value:n.homes}),e.jsx(Se,{label:"Doors",value:n.doors}),e.jsx(Se,{label:"Homeowners",value:n.homeowners})]}),e.jsx("section",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 xl:grid-cols-3",children:Fa.map(p=>e.jsxs("article",{className:"rounded-2xl border border-slate-200 bg-white/80 p-5 shadow-soft dark:border-slate-800 dark:bg-slate-900/70",children:[e.jsx("h2",{className:"font-heading text-lg font-bold",children:p}),e.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Built for multi-home estates with central control and audit-ready workflows."})]},p))}),e.jsx("section",{className:"mt-4",children:e.jsx("article",{className:"rounded-2xl border border-slate-200 bg-white/90 p-4 shadow-soft dark:border-slate-800 dark:bg-slate-900/80 sm:p-5",children:e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"font-heading text-lg font-bold sm:text-xl",children:"Billing & Subscription"}),e.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Manage estate plan limits and complete payments via Paystack."})]}),e.jsx(u,{to:"/billing/paywall",className:"rounded-lg bg-slate-900 px-4 py-2 text-sm font-semibold text-white dark:bg-white dark:text-slate-900",children:"Open Billing"})]})})})]})}function Se({label:t,value:a}){return e.jsxs("article",{className:"rounded-2xl border border-slate-200 bg-white/90 p-4 shadow-soft dark:border-slate-800 dark:bg-slate-900/80",children:[e.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:t}),e.jsx("p",{className:"mt-2 text-2xl font-black",children:a})]})}function za({tone:t,message:a}){const s=t==="danger"?"border-danger/30 bg-danger/10 text-danger":"border-brand-200 bg-brand-50 text-brand-700";return e.jsx("div",{className:`mb-4 rounded-xl border px-4 py-3 text-sm ${s}`,children:a})}function Wa(){const[t,a]=l.useState(""),[s,r]=l.useState([]),[n,i]=l.useState({}),[o,j]=l.useState(""),[w,p]=l.useState(""),[c,x]=l.useState(!1),[d,b]=l.useState("");async function m(){const f=await de();r(Array.isArray(f==null?void 0:f.estates)?f.estates:[])}l.useEffect(()=>{m().catch(f=>j(f.message??"Failed to load estates"))},[]),l.useEffect(()=>{let f=!0;async function A(){if(s.length!==0)try{const g=await Promise.all(s.map(async L=>{const M=await ht(L.id);return[L.id,M]}));if(!f)return;i(Object.fromEntries(g))}catch{}}return A(),()=>{f=!1}},[s]);async function N(f){f.preventDefault(),x(!0),j(""),p("");try{const A=await Ta({name:t});p(`Estate created: ${(A==null?void 0:A.name)??t}`),a(""),await m()}catch(A){j(A.message??"Failed to create estate")}finally{x(!1)}}const v=l.useMemo(()=>s.map(f=>{const g=(n[f.id]??[]).find(L=>L.active!==!1)??null;return{...f,sharedQr:g}}),[s,n]);async function R(f){b(f),j(""),p("");try{const A=await qt(f);p(`Estate QR created: ${(A==null?void 0:A.qrId)??"ready"}`);const g=await ht(f);i(L=>({...L,[f]:g}))}catch(A){j(A.message??"Failed to create estate QR")}finally{b("")}}return e.jsxs(W,{title:"Create Estate",children:[o?e.jsx("div",{className:"mb-4 rounded-xl border border-danger/30 bg-danger/10 px-4 py-3 text-sm text-danger",children:o}):null,w?e.jsx("div",{className:"mb-4 rounded-xl border border-success/30 bg-success/10 px-4 py-3 text-sm text-success",children:w}):null,e.jsxs("section",{className:"rounded-2xl border border-slate-200 bg-white/90 p-4 shadow-soft dark:border-slate-800 dark:bg-slate-900/80 sm:p-5",children:[e.jsx("h2",{className:"font-heading text-lg font-bold sm:text-xl",children:"Create Estate"}),e.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Built for multi-home estates with central control and audit-ready workflows."}),e.jsxs("form",{className:"mt-4 grid gap-3 sm:grid-cols-[1fr_auto]",onSubmit:N,children:[e.jsx("input",{type:"text",value:t,onChange:f=>a(f.target.value),placeholder:"Estate name",className:"rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm outline-none ring-brand-300 focus:ring-2 dark:border-slate-700 dark:bg-slate-900",required:!0}),e.jsx("button",{type:"submit",disabled:c,className:"rounded-lg bg-slate-900 px-4 py-2 text-sm font-semibold text-white disabled:opacity-50 dark:bg-white dark:text-slate-900",children:c?"Creating...":"Create"})]})]}),e.jsxs("section",{className:"mt-4 rounded-2xl border border-slate-200 bg-white/90 p-4 shadow-soft dark:border-slate-800 dark:bg-slate-900/80 sm:p-5",children:[e.jsx("h2",{className:"font-heading text-lg font-bold sm:text-xl",children:"Your Estates"}),e.jsxs("div",{className:"mt-3 grid gap-3 sm:grid-cols-2",children:[v.map(f=>e.jsxs("article",{className:"rounded-xl border border-slate-200 bg-slate-50 p-3 dark:border-slate-700 dark:bg-slate-800",children:[e.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-2",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"truncate font-semibold",children:f.name}),e.jsx("p",{className:"truncate text-xs text-slate-500",children:f.id})]}),e.jsx("button",{type:"button",onClick:()=>R(f.id),disabled:d===f.id,className:"rounded-lg bg-slate-900 px-3 py-2 text-xs font-semibold text-white disabled:opacity-50 dark:bg-white dark:text-slate-900",children:d===f.id?"Generating...":f.sharedQr?"Regenerate QR":"Generate QR"})]}),e.jsxs("div",{className:"mt-3 rounded-lg border border-slate-200 bg-white p-3 dark:border-slate-700 dark:bg-slate-900",children:[e.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Estate QR (Shared)"}),f.sharedQr?e.jsxs("div",{className:"mt-2 space-y-1",children:[e.jsx("p",{className:"text-sm font-semibold",children:f.sharedQr.qrId}),e.jsxs("p",{className:"text-xs text-slate-500",children:["Doors: ",f.sharedQr.doorCount??"-"]}),e.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[e.jsx("a",{href:f.sharedQr.scanUrl,className:"rounded-lg border border-slate-300 px-3 py-2 text-xs font-semibold dark:border-slate-700",children:"Open Scan Page"}),e.jsx("button",{type:"button",onClick:()=>Ga(`${window.location.origin}${f.sharedQr.scanUrl}`),className:"rounded-lg border border-slate-300 px-3 py-2 text-xs font-semibold dark:border-slate-700",children:"Copy Link"})]}),e.jsx("p",{className:"mt-2 text-[11px] text-slate-500",children:"This QR is a selector QR: it can route visitors to any door in the estate."})]}):e.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Not generated yet. You need at least 1 home and 1 door in this estate before generating."})]})]},f.id)),v.length===0?e.jsx("p",{className:"text-sm text-slate-500",children:"No estates created yet."}):null]})]})]})}async function Ga(t){try{await navigator.clipboard.writeText(t),window.dispatchEvent(new CustomEvent("qring:toast",{detail:{message:"Copied"}}))}catch{}}function ue(t,a=140){return`https://api.qrserver.com/v1/create-qr-code/?size=${a}x${a}&data=${encodeURIComponent(t)}`}function Ja(){const[t,a]=l.useState(null),[s,r]=l.useState(""),[n,i]=l.useState(""),[o,j]=l.useState(!1),[w,p]=l.useState(!1),[c,x]=l.useState(null),[d,b]=l.useState(null),[m,N]=l.useState(""),[v,R]=l.useState(!1),[f,A]=l.useState({doorName:"",homeownerName:"",homeownerEmail:"",newPassword:""}),[g,L]=l.useState({estateId:"",homeId:"",name:"",homeName:"",homeownerFullName:"",homeownerUsername:"",homeownerPassword:""});async function M(){var Q,z;const S=await de();a(S),!g.estateId&&((Q=S==null?void 0:S.estates)!=null&&Q.length)&&L(U=>({...U,estateId:S.estates[0].id})),!g.homeId&&((z=S==null?void 0:S.homes)!=null&&z.length)&&L(U=>({...U,homeId:S.homes[0].id}))}l.useEffect(()=>{M().catch(S=>r(S.message??"Failed to load door data"))},[]);const q=l.useMemo(()=>((t==null?void 0:t.homes)??[]).filter(S=>!g.estateId||S.estateId===g.estateId),[t,g.estateId]),P=l.useMemo(()=>(t==null?void 0:t.doors)??[],[t]);async function C(S){var Q,z,U,F,K;S.preventDefault(),j(!0),r(""),i(""),x(null);try{if(w){const h=await $a({estateId:g.estateId,homeName:g.homeName,doorName:g.name,homeownerFullName:g.homeownerFullName,homeownerUsername:g.homeownerUsername,homeownerPassword:g.homeownerPassword});(Q=h==null?void 0:h.qr)!=null&&Q.qrId&&x({qrId:h.qr.qrId,scanUrl:`${window.location.origin}/scan/${h.qr.qrId}`,doorName:((z=h==null?void 0:h.door)==null?void 0:z.name)??g.name}),i(`Door created and linked to ${((U=h==null?void 0:h.homeowner)==null?void 0:U.username)??"homeowner"}.`)}else{const h=await qa({estateId:g.estateId,homeId:g.homeId,name:g.name,generateQr:!0,mode:"direct",plan:"single"});(F=h==null?void 0:h.qr)!=null&&F.qrId&&x({qrId:h.qr.qrId,scanUrl:`${window.location.origin}/scan/${h.qr.qrId}`,doorName:((K=h==null?void 0:h.door)==null?void 0:K.name)??g.name}),i("Door created successfully.")}L(h=>({...h,name:"",homeName:"",homeownerFullName:"",homeownerUsername:"",homeownerPassword:""})),await M()}catch(h){r(h.message??"Failed to create door")}finally{j(!1)}}async function E(){if(g.estateId){r(""),i("");try{const S=await qt(g.estateId);b({...S,fullScanUrl:`${window.location.origin}${S.scanUrl}`}),i("Estate shared QR generated. Visitors can pick a door after scanning."),await M()}catch(S){r(S.message??"Failed to generate estate shared QR")}}}async function O(S){if(S.preventDefault(),!!m){R(!0),r(""),i("");try{const Q={doorName:f.doorName||void 0,homeownerName:f.homeownerName||void 0,homeownerEmail:f.homeownerEmail||void 0,newPassword:f.newPassword||void 0};await Ua(m,Q),i("Door admin profile updated successfully."),N(""),A({doorName:"",homeownerName:"",homeownerEmail:"",newPassword:""}),await M()}catch(Q){r(Q.message??"Failed to update door admin profile")}finally{R(!1)}}}function _(S){N(S.id),A({doorName:S.name??"",homeownerName:S.homeownerName??"",homeownerEmail:S.homeownerEmail??"",newPassword:""})}function B(S,Q){const z=`${window.location.origin}/scan/${Q}`,U=`
      <html>
        <head>
          <title>Print Door QR</title>
          <style>
            body{font-family:Arial,sans-serif;padding:24px}
            .card{width:340px;border:1px solid #cbd5e1;border-radius:16px;padding:16px}
            .title{font-size:14px;font-weight:700;text-align:center;margin-bottom:8px}
            .meta{font-size:12px;color:#475569;text-align:center;margin-bottom:8px}
            .qr{display:block;width:280px;height:280px;margin:0 auto;background:#fff;padding:8px;border-radius:10px}
            .url{font-size:10px;color:#64748b;text-align:center;margin-top:8px;word-break:break-all}
          </style>
        </head>
        <body>
          <div class="card">
            <div class="title">${S.name}</div>
            <div class="meta">${S.homeName||""}</div>
            <img class="qr" src="${ue(z,280)}" alt="QR" />
            <div class="url">${z}</div>
          </div>
          <script>window.onload = () => window.print();<\/script>
        </body>
      </html>
    `,F=window.open("","_blank","width=720,height=860");F&&(F.document.open(),F.document.write(U),F.document.close())}async function Y(S){const Q=`${S.loginLink}?email=${encodeURIComponent(S.homeownerEmail||"")}`,z=`Homeowner: ${S.homeownerName||"N/A"}
Email: ${S.homeownerEmail||"N/A"}
Login: ${Q}`;try{await navigator.clipboard.writeText(z),i(`Login details copied for ${S.name}.`),r("")}catch{r("Unable to copy login details. Please copy manually.")}}function G(){var F;if(!d)return;const S=((F=((t==null?void 0:t.estates)??[]).find(K=>K.id===g.estateId))==null?void 0:F.name)??"Estate Entry",Q=ue(d.fullScanUrl,300),z=`
      <html>
        <head>
          <title>Print Shared Estate QR</title>
          <style>
            body{font-family:Inter,Arial,sans-serif;padding:24px;background:#fff;color:#0f172a}
            .card{width:380px;border:1px solid #cbd5e1;border-radius:18px;padding:18px}
            .brand{display:flex;align-items:center;gap:10px;margin-bottom:8px}
            .logo{width:30px;height:30px;border-radius:9px;background:#0f172a;color:#fff;display:grid;place-items:center;font-weight:800}
            .name{font-size:18px;font-weight:800}
            .subtitle{font-size:12px;color:#475569;margin-bottom:10px}
            .title{font-size:12px;text-transform:uppercase;letter-spacing:.08em;color:#334155;text-align:center;margin:8px 0}
            .qr{display:block;width:320px;height:320px;margin:0 auto;background:#fff;padding:10px;border-radius:12px;border:1px solid #e2e8f0}
            .steps{margin-top:10px;font-size:11px;color:#475569;line-height:1.5}
            .url{font-size:10px;color:#64748b;text-align:center;margin-top:8px;word-break:break-all}
          </style>
        </head>
        <body>
          <div class="card">
            <div class="brand">
              <div class="logo">Q</div>
              <div>
                <div class="name">Qring</div>
                <div class="subtitle">${S}</div>
              </div>
            </div>
            <div class="title">Shared Estate Access QR</div>
            <img class="qr" src="${Q}" alt="Shared Estate QR" />
            <div class="steps">
              1. Visitor scans this QR<br/>
              2. Selects door from list<br/>
              3. Sends request to specific homeowner
            </div>
            <div class="url">${d.fullScanUrl}</div>
          </div>
          <script>window.onload = () => window.print();<\/script>
        </body>
      </html>
    `,U=window.open("","_blank","width=760,height=900");U&&(U.document.open(),U.document.write(z),U.document.close())}return e.jsxs(W,{title:"Estate Doors",children:[s?e.jsx("div",{className:"mb-4 rounded-xl border border-danger/30 bg-danger/10 px-4 py-3 text-sm text-danger",children:s}):null,n?e.jsx("div",{className:"mb-4 rounded-xl border border-success/30 bg-success/10 px-4 py-3 text-sm text-success",children:n}):null,e.jsxs("section",{className:"rounded-2xl border border-slate-200 bg-white/90 p-4 shadow-soft dark:border-slate-800 dark:bg-slate-900/80 sm:p-5",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"font-heading text-lg font-bold sm:text-xl",children:"Create Door"}),e.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Create doors and provision homeowner login in one flow."})]}),e.jsx("button",{type:"button",onClick:()=>p(S=>!S),className:"rounded-lg border border-slate-300 px-3 py-2 text-xs font-semibold dark:border-slate-700",children:w?"Use Existing Homeowner":"Provision New Homeowner Login"})]}),e.jsxs("form",{onSubmit:C,className:"mt-4 grid gap-3 md:grid-cols-2",children:[e.jsx(ut,{label:"Estate",value:g.estateId,onChange:S=>L(Q=>({...Q,estateId:S})),options:((t==null?void 0:t.estates)??[]).map(S=>({value:S.id,label:S.name}))}),w?e.jsxs("label",{className:"block",children:[e.jsx("span",{className:"mb-1 block text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Home Name"}),e.jsx("input",{value:g.homeName,onChange:S=>L(Q=>({...Q,homeName:S.target.value})),className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm dark:border-slate-700 dark:bg-slate-900",required:!0})]}):e.jsx(ut,{label:"Home",value:g.homeId,onChange:S=>L(Q=>({...Q,homeId:S})),options:q.map(S=>({value:S.id,label:`${S.name} (${S.homeownerName||"No homeowner"})`}))}),e.jsxs("label",{className:"block",children:[e.jsx("span",{className:"mb-1 block text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Door Name"}),e.jsx("input",{value:g.name,onChange:S=>L(Q=>({...Q,name:S.target.value})),className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm dark:border-slate-700 dark:bg-slate-900",required:!0})]}),w?e.jsxs(e.Fragment,{children:[e.jsxs("label",{className:"block",children:[e.jsx("span",{className:"mb-1 block text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Homeowner Full Name"}),e.jsx("input",{value:g.homeownerFullName,onChange:S=>L(Q=>({...Q,homeownerFullName:S.target.value})),className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm dark:border-slate-700 dark:bg-slate-900",required:!0})]}),e.jsxs("label",{className:"block",children:[e.jsx("span",{className:"mb-1 block text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Username"}),e.jsx("input",{value:g.homeownerUsername,onChange:S=>L(Q=>({...Q,homeownerUsername:S.target.value})),className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm dark:border-slate-700 dark:bg-slate-900",required:!0})]}),e.jsxs("label",{className:"block",children:[e.jsx("span",{className:"mb-1 block text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Password"}),e.jsx("input",{type:"password",value:g.homeownerPassword,onChange:S=>L(Q=>({...Q,homeownerPassword:S.target.value})),className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm dark:border-slate-700 dark:bg-slate-900",required:!0})]})]}):null,e.jsx("button",{type:"submit",disabled:o,className:"rounded-lg bg-slate-900 px-4 py-2 text-sm font-semibold text-white disabled:opacity-50 dark:bg-white dark:text-slate-900",children:o?"Saving...":"Create Door"})]})]}),c?e.jsxs("section",{className:"mt-4 rounded-2xl border border-slate-200 bg-white/90 p-4 shadow-soft dark:border-slate-800 dark:bg-slate-900/80",children:[e.jsx("h3",{className:"font-heading text-base font-bold",children:"Generated QR"}),e.jsx("p",{className:"text-xs text-slate-500",children:c.doorName}),e.jsxs("div",{className:"mt-3 inline-flex flex-col items-center rounded-xl border border-slate-200 bg-slate-50 p-3 dark:border-slate-700 dark:bg-slate-800",children:[e.jsx("img",{src:ue(c.scanUrl,180),alt:c.qrId,className:"h-44 w-44 rounded bg-white p-2"}),e.jsx("p",{className:"mt-2 text-xs font-semibold",children:c.qrId})]})]}):null,e.jsxs("section",{className:"mt-4 rounded-2xl border border-slate-200 bg-white/90 p-4 shadow-soft dark:border-slate-800 dark:bg-slate-900/80",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-heading text-base font-bold",children:"Estate Shared Entry QR"}),e.jsx("p",{className:"text-xs text-slate-500",children:"One QR for the estate. Visitors scan, pick door, then request access."})]}),e.jsx("button",{type:"button",onClick:E,className:"rounded-lg bg-slate-900 px-3 py-2 text-xs font-semibold text-white dark:bg-white dark:text-slate-900",children:"Generate Shared QR"})]}),d?e.jsxs("div",{className:"mt-3 inline-flex flex-col items-center rounded-xl border border-slate-200 bg-slate-50 p-3 dark:border-slate-700 dark:bg-slate-800",children:[e.jsx("img",{src:ue(d.fullScanUrl,180),alt:d.qrId,className:"h-44 w-44 rounded bg-white p-2"}),e.jsx("p",{className:"mt-2 text-xs font-semibold",children:d.qrId}),e.jsx("p",{className:"text-[11px] text-slate-500",children:d.fullScanUrl}),e.jsx("button",{type:"button",onClick:G,className:"mt-3 rounded-lg bg-slate-900 px-3 py-2 text-xs font-semibold text-white dark:bg-white dark:text-slate-900",children:"Print Shared Estate QR"})]}):null]}),e.jsxs("section",{className:"mt-4",children:[e.jsx("h3",{className:"mb-3 font-heading text-lg font-bold",children:"Doors Created"}),e.jsxs("div",{className:"grid gap-3 md:grid-cols-2 2xl:grid-cols-3",children:[P.map(S=>{var U,F;const Q=(U=S.qr)==null?void 0:U[0],z=`${S.loginLink}?email=${encodeURIComponent(S.homeownerEmail||"")}`;return e.jsxs("article",{className:"rounded-2xl border border-slate-200 bg-white/90 p-4 shadow-soft dark:border-slate-800 dark:bg-slate-900/80",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-heading text-lg font-bold",children:S.name}),e.jsxs("p",{className:"text-xs text-slate-500",children:[S.homeName," | ",S.state]})]}),e.jsx("button",{type:"button",onClick:()=>_(S),className:"rounded-lg border border-slate-300 px-2 py-1 text-xs font-semibold dark:border-slate-700",children:"Admin Profile"})]}),e.jsxs("p",{className:"mt-2 text-xs text-slate-500",children:["Homeowner: ",S.homeownerName||"N/A"]}),e.jsxs("p",{className:"text-xs text-slate-500",children:["Email: ",S.homeownerEmail||"N/A"]}),e.jsx("a",{href:z,target:"_blank",rel:"noreferrer",className:"mt-2 inline-block text-xs font-semibold text-brand-600 dark:text-brand-300",children:"Estate Homeowner Login Link"}),e.jsx("div",{className:"mt-2",children:e.jsx("button",{type:"button",onClick:()=>Y(S),className:"rounded-lg border border-slate-300 px-2.5 py-1.5 text-xs font-semibold dark:border-slate-700",children:"Copy Login Details"})}),e.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[(F=S.qr)!=null&&F.length?S.qr.map(K=>e.jsxs("button",{type:"button",onClick:()=>B(S,K),className:"rounded-lg border border-slate-200 bg-slate-50 px-2 py-1 text-xs font-semibold dark:border-slate-700 dark:bg-slate-800",children:["Print ",K]},`${S.id}-${K}`)):e.jsx("span",{className:"text-xs text-slate-500",children:"No QR yet"}),Q?e.jsx("img",{src:ue(`${window.location.origin}/scan/${Q}`,64),alt:Q,className:"h-12 w-12 rounded border border-slate-200 bg-white p-1 dark:border-slate-700"}):null]})]},S.id)}),P.length===0?e.jsx("p",{className:"text-sm text-slate-500",children:"No doors created yet."}):null]})]}),m?e.jsxs("section",{className:"mt-4 rounded-2xl border border-slate-200 bg-white/90 p-4 shadow-soft dark:border-slate-800 dark:bg-slate-900/80 sm:p-5",children:[e.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[e.jsx("h3",{className:"font-heading text-lg font-bold",children:"Door Admin Profile"}),e.jsx("button",{type:"button",onClick:()=>N(""),className:"rounded-lg border border-slate-300 px-2 py-1 text-xs font-semibold dark:border-slate-700",children:"Close"})]}),e.jsxs("form",{onSubmit:O,className:"grid gap-3 md:grid-cols-2",children:[e.jsxs("label",{className:"block",children:[e.jsx("span",{className:"mb-1 block text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Door Name"}),e.jsx("input",{value:f.doorName,onChange:S=>A(Q=>({...Q,doorName:S.target.value})),className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm dark:border-slate-700 dark:bg-slate-900"})]}),e.jsxs("label",{className:"block",children:[e.jsx("span",{className:"mb-1 block text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Homeowner Name"}),e.jsx("input",{value:f.homeownerName,onChange:S=>A(Q=>({...Q,homeownerName:S.target.value})),className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm dark:border-slate-700 dark:bg-slate-900"})]}),e.jsxs("label",{className:"block",children:[e.jsx("span",{className:"mb-1 block text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Homeowner Email"}),e.jsx("input",{type:"email",value:f.homeownerEmail,onChange:S=>A(Q=>({...Q,homeownerEmail:S.target.value})),className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm dark:border-slate-700 dark:bg-slate-900"})]}),e.jsxs("label",{className:"block",children:[e.jsx("span",{className:"mb-1 block text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Change Password"}),e.jsx("input",{type:"password",value:f.newPassword,onChange:S=>A(Q=>({...Q,newPassword:S.target.value})),className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm dark:border-slate-700 dark:bg-slate-900",placeholder:"Leave empty to keep current password"})]}),e.jsx("button",{type:"submit",disabled:v,className:"rounded-lg bg-slate-900 px-4 py-2 text-sm font-semibold text-white disabled:opacity-50 dark:bg-white dark:text-slate-900",children:v?"Updating...":"Update Admin Profile"})]})]}):null]})}function ut({label:t,value:a,onChange:s,options:r}){return e.jsxs("label",{className:"block",children:[e.jsx("span",{className:"mb-1 block text-xs font-semibold uppercase tracking-wide text-slate-500",children:t}),e.jsxs("select",{value:a,onChange:n=>s(n.target.value),className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm dark:border-slate-700 dark:bg-slate-900",required:!0,children:[r.length===0?e.jsx("option",{value:"",children:"No options available"}):null,r.map(n=>e.jsx("option",{value:n.value,children:n.label},n.value))]})]})}function Ya(){const[t,a]=l.useState(null),[s,r]=l.useState({doorId:"",homeownerId:""}),[n,i]=l.useState(""),[o,j]=l.useState(""),[w,p]=l.useState(!1);async function c(){var b,m;const d=await de();a(d),!s.doorId&&((b=d==null?void 0:d.doors)!=null&&b.length)&&r(N=>({...N,doorId:d.doors[0].id})),!s.homeownerId&&((m=d==null?void 0:d.homeowners)!=null&&m.length)&&r(N=>({...N,homeownerId:d.homeowners[0].id}))}l.useEffect(()=>{c().catch(d=>i(d.message??"Failed to load assignment data"))},[]);async function x(d){d.preventDefault(),p(!0),i(""),j("");try{await Oa(s.doorId,s.homeownerId),j("Door assigned to homeowner."),await c()}catch(b){i(b.message??"Failed to assign door")}finally{p(!1)}}return e.jsxs(W,{title:"Assign Doors",children:[n?e.jsx("div",{className:"mb-4 rounded-xl border border-danger/30 bg-danger/10 px-4 py-3 text-sm text-danger",children:n}):null,o?e.jsx("div",{className:"mb-4 rounded-xl border border-success/30 bg-success/10 px-4 py-3 text-sm text-success",children:o}):null,e.jsxs("section",{className:"rounded-2xl border border-slate-200 bg-white/90 p-4 shadow-soft dark:border-slate-800 dark:bg-slate-900/80 sm:p-5",children:[e.jsx("h2",{className:"font-heading text-lg font-bold sm:text-xl",children:"Assign Doors To Homeowners"}),e.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Built for multi-home estates with central control and audit-ready workflows."}),e.jsxs("form",{onSubmit:x,className:"mt-4 grid gap-3 md:grid-cols-2",children:[e.jsx(bt,{label:"Door",value:s.doorId,onChange:d=>r(b=>({...b,doorId:d})),options:((t==null?void 0:t.doors)??[]).map(d=>({value:d.id,label:d.name}))}),e.jsx(bt,{label:"Homeowner",value:s.homeownerId,onChange:d=>r(b=>({...b,homeownerId:d})),options:((t==null?void 0:t.homeowners)??[]).map(d=>({value:d.id,label:`${d.fullName} (${d.email})`}))}),e.jsx("button",{type:"submit",disabled:w,className:"rounded-lg bg-slate-900 px-4 py-2 text-sm font-semibold text-white disabled:opacity-50 dark:bg-white dark:text-slate-900",children:w?"Assigning...":"Assign Door"})]})]})]})}function bt({label:t,value:a,onChange:s,options:r}){return e.jsxs("label",{className:"block",children:[e.jsx("span",{className:"mb-1 block text-xs font-semibold uppercase tracking-wide text-slate-500",children:t}),e.jsxs("select",{value:a,onChange:n=>s(n.target.value),className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm dark:border-slate-700 dark:bg-slate-900",required:!0,children:[r.length===0?e.jsx("option",{value:"",children:"No options available"}):null,r.map(n=>e.jsx("option",{value:n.value,children:n.label},n.value))]})]})}function Ka(){const[t,a]=l.useState([]),[s,r]=l.useState(""),[n,i]=l.useState(""),[o,j]=l.useState("");async function w(){const c=await de();a(Array.isArray(c==null?void 0:c.homeowners)?c.homeowners:[])}l.useEffect(()=>{w().catch(c=>r(c.message??"Failed to load homeowners"))},[]);async function p(c){j(c),r(""),i("");try{const x=await Qa(c);i(`Invite sent. Token: ${(x==null?void 0:x.inviteToken)??"-"}`)}catch(x){r(x.message??"Failed to send invite")}finally{j("")}}return e.jsxs(W,{title:"Invite Homeowners",children:[s?e.jsx("div",{className:"mb-4 rounded-xl border border-danger/30 bg-danger/10 px-4 py-3 text-sm text-danger",children:s}):null,n?e.jsx("div",{className:"mb-4 rounded-xl border border-success/30 bg-success/10 px-4 py-3 text-sm text-success",children:n}):null,e.jsxs("section",{className:"rounded-2xl border border-slate-200 bg-white/90 p-4 shadow-soft dark:border-slate-800 dark:bg-slate-900/80 sm:p-5",children:[e.jsx("h2",{className:"font-heading text-lg font-bold sm:text-xl",children:"Invite Homeowners"}),e.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Built for multi-home estates with central control and audit-ready workflows."})]}),e.jsxs("section",{className:"mt-4 grid gap-3 sm:grid-cols-2",children:[t.map(c=>e.jsxs("article",{className:"rounded-2xl border border-slate-200 bg-white/90 p-4 shadow-soft dark:border-slate-800 dark:bg-slate-900/80",children:[e.jsx("p",{className:"font-semibold",children:c.fullName}),e.jsx("p",{className:"text-xs text-slate-500",children:c.email}),e.jsx("button",{type:"button",onClick:()=>p(c.id),disabled:o===c.id,className:"mt-3 rounded-lg bg-slate-900 px-3 py-2 text-xs font-semibold text-white disabled:opacity-50 dark:bg-white dark:text-slate-900",children:o===c.id?"Sending...":"Send Invite"})]},c.id)),t.length===0?e.jsx("p",{className:"text-sm text-slate-500",children:"No homeowners available yet."}):null]})]})}function Za(){const[t,a]=l.useState([]),[s,r]=l.useState("");return l.useEffect(()=>{let n=!0;async function i(){try{const o=await _a();if(!n)return;a(o)}catch(o){if(!n)return;r(o.message??"Failed to load mappings")}}return i(),()=>{n=!1}},[]),e.jsxs(W,{title:"Door Mappings",children:[s?e.jsx("div",{className:"mb-4 rounded-xl border border-danger/30 bg-danger/10 px-4 py-3 text-sm text-danger",children:s}):null,e.jsxs("section",{className:"rounded-2xl border border-slate-200 bg-white/90 p-4 shadow-soft dark:border-slate-800 dark:bg-slate-900/80 sm:p-5",children:[e.jsx("h2",{className:"font-heading text-lg font-bold sm:text-xl",children:"Manage Door Mappings"}),e.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Built for multi-home estates with central control and audit-ready workflows."})]}),e.jsxs("section",{className:"mt-4 space-y-3",children:[t.map(n=>{var i;return e.jsxs("article",{className:"rounded-2xl border border-slate-200 bg-white/90 p-4 shadow-soft dark:border-slate-800 dark:bg-slate-900/80",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-heading text-lg font-bold",children:n.homeName}),e.jsxs("p",{className:"text-xs text-slate-500",children:[n.homeownerName," | ",n.homeownerEmail]})]}),e.jsxs("span",{className:"rounded-full bg-slate-100 px-3 py-1 text-xs font-semibold dark:bg-slate-800",children:[((i=n.doors)==null?void 0:i.length)??0," doors"]})]}),e.jsx("div",{className:"mt-3 grid gap-2 sm:grid-cols-2",children:(n.doors??[]).map(o=>e.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3 dark:border-slate-700 dark:bg-slate-800",children:[e.jsx("p",{className:"text-sm font-semibold",children:o.name}),e.jsxs("p",{className:"mt-1 text-xs text-slate-500",children:["QR: ",(o.qr??[]).join(", ")||"None"]})]},o.id))})]},n.homeId)}),t.length===0?e.jsx("p",{className:"text-sm text-slate-500",children:"No mappings created yet."}):null]})]})}function Xa(){const[t,a]=l.useState([]),[s,r]=l.useState("");return l.useEffect(()=>{let n=!0;async function i(){try{const o=await Ha();if(!n)return;a(o)}catch(o){if(!n)return;r(o.message??"Failed to load access logs")}}return i(),()=>{n=!1}},[]),e.jsxs(W,{title:"Access Logs",children:[s?e.jsx("div",{className:"mb-4 rounded-xl border border-danger/30 bg-danger/10 px-4 py-3 text-sm text-danger",children:s}):null,e.jsxs("section",{className:"rounded-2xl border border-slate-200 bg-white/90 p-4 shadow-soft dark:border-slate-800 dark:bg-slate-900/80 sm:p-5",children:[e.jsx("h2",{className:"font-heading text-lg font-bold sm:text-xl",children:"View Access Logs"}),e.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Built for multi-home estates with central control and audit-ready workflows."})]}),e.jsxs("section",{className:"mt-4 space-y-3",children:[t.map(n=>e.jsxs("article",{className:"rounded-2xl border border-slate-200 bg-white/90 p-4 shadow-soft dark:border-slate-800 dark:bg-slate-900/80",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[e.jsx("p",{className:"font-semibold",children:n.visitor}),e.jsx("span",{className:"rounded-full bg-slate-100 px-2 py-1 text-xs font-semibold uppercase dark:bg-slate-800",children:n.status})]}),e.jsxs("p",{className:"mt-1 text-xs text-slate-500",children:[n.doorName," | ",n.homeName]}),e.jsxs("p",{className:"mt-1 text-xs text-slate-500",children:["Started: ",new Date(n.startedAt).toLocaleString()]})]},n.id)),t.length===0?e.jsx("p",{className:"text-sm text-slate-500",children:"No access logs yet."}):null]})]})}function er(){const[t,a]=l.useState(null),[s,r]=l.useState("");l.useEffect(()=>{let o=!0;async function j(){try{const w=await Ba();if(!o)return;a(w)}catch(w){if(!o)return;r(w.message??"Failed to load plan restrictions")}}return j(),()=>{o=!1}},[]);const n=t!=null&&t.maxDoors?Math.min(Math.round(t.usedDoors/t.maxDoors*100),100):0,i=t!=null&&t.maxQrCodes?Math.min(Math.round(t.usedQrCodes/t.maxQrCodes*100),100):0;return e.jsxs(W,{title:"Plan Restrictions",children:[s?e.jsx("div",{className:"mb-4 rounded-xl border border-danger/30 bg-danger/10 px-4 py-3 text-sm text-danger",children:s}):null,e.jsxs("section",{className:"rounded-2xl border border-slate-200 bg-white/90 p-4 shadow-soft dark:border-slate-800 dark:bg-slate-900/80 sm:p-5",children:[e.jsx("h2",{className:"font-heading text-lg font-bold sm:text-xl",children:"Plan Restrictions"}),e.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Built for multi-home estates with central control and audit-ready workflows."}),t?e.jsxs("div",{className:"mt-4 space-y-4",children:[e.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-3 dark:border-slate-700 dark:bg-slate-800",children:[e.jsxs("p",{className:"text-sm font-semibold",children:["Plan: ",t.plan]}),e.jsxs("p",{className:"text-xs text-slate-500",children:["Status: ",t.status]})]}),e.jsx(gt,{label:`Doors ${t.usedDoors}/${t.maxDoors}`,percent:n}),e.jsx(gt,{label:`QR Codes ${t.usedQrCodes}/${t.maxQrCodes}`,percent:i})]}):e.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Loading restrictions..."})]})]})}function gt({label:t,percent:a}){return e.jsxs("div",{children:[e.jsxs("div",{className:"mb-1 flex items-center justify-between text-xs font-semibold text-slate-500",children:[e.jsx("span",{children:t}),e.jsxs("span",{children:[a,"%"]})]}),e.jsx("div",{className:"h-2 rounded-full bg-slate-200 dark:bg-slate-700",children:e.jsx("div",{className:"h-2 rounded-full bg-slate-900 dark:bg-slate-100",style:{width:`${a}%`}})})]})}function tr(){const[t,a]=l.useState(null),[s,r]=l.useState({estateId:"",name:"",homeownerId:""}),[n,i]=l.useState(""),[o,j]=l.useState(""),[w,p]=l.useState(!1);async function c(){var b,m;const d=await de();a(d),!s.estateId&&((b=d==null?void 0:d.estates)!=null&&b.length)&&r(N=>({...N,estateId:d.estates[0].id})),!s.homeownerId&&((m=d==null?void 0:d.homeowners)!=null&&m.length)&&r(N=>({...N,homeownerId:d.homeowners[0].id}))}l.useEffect(()=>{c().catch(d=>i(d.message??"Failed to load homes"))},[]);async function x(d){d.preventDefault(),p(!0),i(""),j("");try{await La(s),j("Home added successfully."),r(b=>({...b,name:""})),await c()}catch(b){i(b.message??"Failed to add home")}finally{p(!1)}}return e.jsxs(W,{title:"Multi-Home Support",children:[n?e.jsx("div",{className:"mb-4 rounded-xl border border-danger/30 bg-danger/10 px-4 py-3 text-sm text-danger",children:n}):null,o?e.jsx("div",{className:"mb-4 rounded-xl border border-success/30 bg-success/10 px-4 py-3 text-sm text-success",children:o}):null,e.jsxs("section",{className:"rounded-2xl border border-slate-200 bg-white/90 p-4 shadow-soft dark:border-slate-800 dark:bg-slate-900/80 sm:p-5",children:[e.jsx("h2",{className:"font-heading text-lg font-bold sm:text-xl",children:"Add Home"}),e.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Built for multi-home estates with central control and audit-ready workflows."}),e.jsxs("form",{onSubmit:x,className:"mt-4 grid gap-3 md:grid-cols-2",children:[e.jsx(pt,{label:"Estate",value:s.estateId,onChange:d=>r(b=>({...b,estateId:d})),options:((t==null?void 0:t.estates)??[]).map(d=>({value:d.id,label:d.name}))}),e.jsx(pt,{label:"Homeowner",value:s.homeownerId,onChange:d=>r(b=>({...b,homeownerId:d})),options:((t==null?void 0:t.homeowners)??[]).map(d=>({value:d.id,label:`${d.fullName} (${d.email})`}))}),e.jsxs("label",{className:"block md:col-span-2",children:[e.jsx("span",{className:"mb-1 block text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Home Name"}),e.jsx("input",{value:s.name,onChange:d=>r(b=>({...b,name:d.target.value})),className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm dark:border-slate-700 dark:bg-slate-900",required:!0})]}),e.jsx("button",{type:"submit",disabled:w,className:"rounded-lg bg-slate-900 px-4 py-2 text-sm font-semibold text-white disabled:opacity-50 dark:bg-white dark:text-slate-900",children:w?"Saving...":"Add Home"})]})]}),e.jsx("section",{className:"mt-4 grid gap-3 sm:grid-cols-2",children:((t==null?void 0:t.homes)??[]).map(d=>e.jsxs("article",{className:"rounded-xl border border-slate-200 bg-white/90 p-4 shadow-soft dark:border-slate-800 dark:bg-slate-900/80",children:[e.jsx("p",{className:"font-semibold",children:d.name}),e.jsx("p",{className:"mt-1 text-xs text-slate-500",children:d.homeownerName||"No homeowner assigned"}),e.jsx("p",{className:"text-xs text-slate-500",children:d.homeownerEmail})]},d.id))})]})}function pt({label:t,value:a,onChange:s,options:r}){return e.jsxs("label",{className:"block",children:[e.jsx("span",{className:"mb-1 block text-xs font-semibold uppercase tracking-wide text-slate-500",children:t}),e.jsxs("select",{value:a,onChange:n=>s(n.target.value),className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm dark:border-slate-700 dark:bg-slate-900",required:!0,children:[r.length===0?e.jsx("option",{value:"",children:"No options available"}):null,r.map(n=>e.jsx("option",{value:n.value,children:n.label},n.value))]})]})}async function $t(){const t=await T("/admin/overview");return(t==null?void 0:t.data)??null}function sr(){var c,x;const[t,a]=l.useState(null),[s,r]=l.useState(!0),[n,i]=l.useState(""),[o,j]=l.useState("");l.useEffect(()=>{let d=!0;async function b(){r(!0),i("");try{const m=await $t();if(!d)return;a(m)}catch(m){if(!d)return;m instanceof ne&&m.status===404?i("Admin overview endpoint not found (404). Restart the backend server so /api/v1/admin/overview is available."):i(m.message??"Failed to load admin overview")}finally{d&&r(!1)}}return b(),()=>{d=!1}},[]);const w=l.useMemo(()=>{var m;const d=((m=t==null?void 0:t.visits)==null?void 0:m.rows)??[],b=o.trim().toLowerCase();return b?d.filter(N=>[N.visitor,N.homeownerName,N.homeownerEmail,N.estateName,N.doorName,N.status].join(" ").toLowerCase().includes(b)):d},[t,o]),p=(t==null?void 0:t.metrics)??{};return e.jsxs(W,{title:"Admin Overview",children:[n?e.jsx("div",{className:"mb-4 rounded-xl border border-danger/30 bg-danger/10 px-4 py-3 text-sm text-danger",children:n}):null,e.jsxs("section",{className:"grid gap-3 sm:grid-cols-2 xl:grid-cols-4",children:[e.jsx(Ce,{label:"Total Homeowners",value:p.totalHomeowners,loading:s}),e.jsx(Ce,{label:"Total Estates",value:p.totalEstates,loading:s}),e.jsx(Ce,{label:"Total Visits",value:p.totalVisits,loading:s}),e.jsx(Ce,{label:"Total Payments",value:s?"...":Ve(p.totalPaymentAmount),loading:!1})]}),e.jsxs("section",{className:"mt-4 grid gap-4 xl:grid-cols-2",children:[e.jsx(Pe,{title:"Homeowners",loading:s,rows:(t==null?void 0:t.homeowners)??[],columns:[{key:"fullName",label:"Name"},{key:"email",label:"Email"},{key:"homeCount",label:"Homes"},{key:"doorCount",label:"Doors"},{key:"qrCount",label:"QR"},{key:"visits",label:"Visits",render:d=>{var b;return((b=d.visits)==null?void 0:b.total)??0}},{key:"plan",label:"Plan",render:d=>{var b;return((b=d.subscription)==null?void 0:b.plan)??"free"}}]}),e.jsx(Pe,{title:"Estates",loading:s,rows:(t==null?void 0:t.estates)??[],columns:[{key:"fullName",label:"Name"},{key:"email",label:"Email"},{key:"estateCount",label:"Estates"},{key:"homeownerCount",label:"Homeowners"},{key:"doorCount",label:"Doors"},{key:"qrCount",label:"QR"},{key:"plan",label:"Plan",render:d=>{var b;return((b=d.subscription)==null?void 0:b.plan)??"free"}}]})]}),e.jsxs("section",{className:"mt-4 grid gap-4 xl:grid-cols-2",children:[e.jsx(Pe,{title:"Homeowner Payment History",loading:s,rows:((c=t==null?void 0:t.payments)==null?void 0:c.homeownerHistory)??[],columns:[{key:"userName",label:"User"},{key:"userEmail",label:"Email"},{key:"plan",label:"Plan"},{key:"status",label:"Status"},{key:"amount",label:"Amount",render:d=>Ve(d.amount)},{key:"startsAt",label:"Date",render:d=>ze(d.startsAt)}]}),e.jsx(Pe,{title:"Estate Payment History",loading:s,rows:((x=t==null?void 0:t.payments)==null?void 0:x.estateHistory)??[],columns:[{key:"userName",label:"User"},{key:"userEmail",label:"Email"},{key:"plan",label:"Plan"},{key:"status",label:"Status"},{key:"amount",label:"Amount",render:d=>Ve(d.amount)},{key:"startsAt",label:"Date",render:d=>ze(d.startsAt)}]})]}),e.jsxs("section",{className:"mt-4 rounded-2xl border border-slate-200 bg-white/90 p-4 shadow-soft dark:border-slate-800 dark:bg-slate-900/80 sm:p-5",children:[e.jsxs("div",{className:"mb-3 flex flex-wrap items-center justify-between gap-3",children:[e.jsx("h2",{className:"font-heading text-lg font-bold sm:text-xl",children:"Visits By User"}),e.jsx("input",{value:o,onChange:d=>j(d.target.value),placeholder:"Search visitor, homeowner, estate, door...",className:"w-full max-w-md rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm dark:border-slate-700 dark:bg-slate-900"})]}),s?e.jsx("p",{className:"text-sm text-slate-500",children:"Loading visits..."}):w.length===0?e.jsx("p",{className:"text-sm text-slate-500",children:"No visits found."}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full min-w-[880px] text-left text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-slate-200 text-slate-500 dark:border-slate-700",children:[e.jsx("th",{className:"py-2 font-semibold",children:"Visitor"}),e.jsx("th",{className:"py-2 font-semibold",children:"Status"}),e.jsx("th",{className:"py-2 font-semibold",children:"Homeowner"}),e.jsx("th",{className:"py-2 font-semibold",children:"Estate"}),e.jsx("th",{className:"py-2 font-semibold",children:"Door"}),e.jsx("th",{className:"py-2 font-semibold",children:"Started"})]})}),e.jsx("tbody",{children:w.map(d=>e.jsxs("tr",{className:"border-b border-slate-100 dark:border-slate-800",children:[e.jsx("td",{className:"py-2",children:d.visitor}),e.jsx("td",{className:"py-2",children:d.status}),e.jsx("td",{className:"py-2",children:d.homeownerName||"-"}),e.jsx("td",{className:"py-2",children:d.estateName||"-"}),e.jsx("td",{className:"py-2",children:d.doorName||"-"}),e.jsx("td",{className:"py-2",children:ze(d.startedAt)})]},d.id))})]})})]})]})}function Ce({label:t,value:a,loading:s}){return e.jsxs("article",{className:"rounded-2xl border border-slate-200 bg-white/90 p-4 shadow-soft dark:border-slate-800 dark:bg-slate-900/80",children:[e.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:t}),e.jsx("p",{className:"mt-2 text-2xl font-black",children:s?"...":a??0})]})}function Pe({title:t,rows:a,columns:s,loading:r}){return e.jsxs("article",{className:"rounded-2xl border border-slate-200 bg-white/90 p-4 shadow-soft dark:border-slate-800 dark:bg-slate-900/80 sm:p-5",children:[e.jsx("h2",{className:"mb-3 font-heading text-lg font-bold sm:text-xl",children:t}),r?e.jsx("p",{className:"text-sm text-slate-500",children:"Loading..."}):a.length===0?e.jsx("p",{className:"text-sm text-slate-500",children:"No records."}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full min-w-[680px] text-left text-sm",children:[e.jsx("thead",{children:e.jsx("tr",{className:"border-b border-slate-200 text-slate-500 dark:border-slate-700",children:s.map(n=>e.jsx("th",{className:"py-2 font-semibold",children:n.label},n.label))})}),e.jsx("tbody",{children:a.slice(0,200).map(n=>e.jsx("tr",{className:"border-b border-slate-100 dark:border-slate-800",children:s.map(i=>e.jsx("td",{className:"py-2",children:i.render?i.render(n):n[i.key]??"-"},`${n.id}-${i.label}`))},n.id))})]})})]})}function Ve(t){const a=Number(t||0);return`N${new Intl.NumberFormat("en-NG").format(a)}`}function ze(t){if(!t)return"-";const a=new Date(t);return Number.isNaN(a.getTime())?t:a.toLocaleString()}function ar(){var x;const[t,a]=l.useState(null),[s,r]=l.useState(!0),[n,i]=l.useState(""),[o,j]=l.useState("");l.useEffect(()=>{let d=!0;async function b(){r(!0),i("");try{const m=await $t();if(!d)return;a(m)}catch(m){if(!d)return;m instanceof ne&&m.status===404?i("Admin overview endpoint not found (404). Restart the backend server so /api/v1/admin/overview is available."):i(m.message??"Failed to load admin payments")}finally{d&&r(!1)}}return b(),()=>{d=!1}},[]);const w=((x=t==null?void 0:t.payments)==null?void 0:x.totalAmount)??0,p=l.useMemo(()=>{var m;const d=((m=t==null?void 0:t.payments)==null?void 0:m.homeownerHistory)??[],b=o.trim().toLowerCase();return b?d.filter(N=>[N.userName,N.userEmail,N.plan,N.status].join(" ").toLowerCase().includes(b)):d},[t,o]),c=l.useMemo(()=>{var m;const d=((m=t==null?void 0:t.payments)==null?void 0:m.estateHistory)??[],b=o.trim().toLowerCase();return b?d.filter(N=>[N.userName,N.userEmail,N.plan,N.status].join(" ").toLowerCase().includes(b)):d},[t,o]);return e.jsxs(W,{title:"Payments",children:[n?e.jsx("div",{className:"mb-4 rounded-xl border border-danger/30 bg-danger/10 px-4 py-3 text-sm text-danger",children:n}):null,e.jsxs("section",{className:"grid gap-3 sm:grid-cols-2 xl:grid-cols-4",children:[e.jsx(Ae,{label:"Total Payments",value:s?"...":Ot(w)}),e.jsx(Ae,{label:"Homeowner Records",value:s?"...":p.length}),e.jsx(Ae,{label:"Estate Records",value:s?"...":c.length}),e.jsx(Ae,{label:"Last Updated",value:s?"...":"now"})]}),e.jsxs("section",{className:"mt-4 rounded-2xl border border-slate-200 bg-white/90 p-4 shadow-soft dark:border-slate-800 dark:bg-slate-900/80 sm:p-5",children:[e.jsxs("div",{className:"mb-3 flex flex-wrap items-center justify-between gap-3",children:[e.jsx("h2",{className:"font-heading text-lg font-bold sm:text-xl",children:"Payment History"}),e.jsx("input",{value:o,onChange:d=>j(d.target.value),placeholder:"Search name, email, plan, status...",className:"w-full max-w-md rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm dark:border-slate-700 dark:bg-slate-900"})]}),s?e.jsx("p",{className:"text-sm text-slate-500",children:"Loading payments..."}):e.jsxs("div",{className:"grid gap-4 xl:grid-cols-2",children:[e.jsx(ft,{title:"Homeowner Payments",rows:p}),e.jsx(ft,{title:"Estate Payments",rows:c})]})]})]})}function Ae({label:t,value:a}){return e.jsxs("article",{className:"rounded-2xl border border-slate-200 bg-white/90 p-4 shadow-soft dark:border-slate-800 dark:bg-slate-900/80",children:[e.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:t}),e.jsx("p",{className:"mt-2 text-2xl font-black",children:a??0})]})}function ft({title:t,rows:a}){return e.jsxs("article",{className:"rounded-2xl border border-slate-200 bg-white/60 p-4 dark:border-slate-800 dark:bg-slate-950/30",children:[e.jsx("h3",{className:"mb-3 font-heading text-base font-bold",children:t}),a.length===0?e.jsx("p",{className:"text-sm text-slate-500",children:"No records."}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full min-w-[640px] text-left text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-slate-200 text-slate-500 dark:border-slate-700",children:[e.jsx("th",{className:"py-2 font-semibold",children:"User"}),e.jsx("th",{className:"py-2 font-semibold",children:"Email"}),e.jsx("th",{className:"py-2 font-semibold",children:"Plan"}),e.jsx("th",{className:"py-2 font-semibold",children:"Status"}),e.jsx("th",{className:"py-2 font-semibold",children:"Amount"}),e.jsx("th",{className:"py-2 font-semibold",children:"Date"})]})}),e.jsx("tbody",{children:a.slice(0,200).map(s=>e.jsxs("tr",{className:"border-b border-slate-100 dark:border-slate-800",children:[e.jsx("td",{className:"py-2 font-semibold",children:s.userName||"-"}),e.jsx("td",{className:"py-2",children:s.userEmail||"-"}),e.jsx("td",{className:"py-2",children:s.plan||"-"}),e.jsx("td",{className:"py-2",children:s.status||"-"}),e.jsx("td",{className:"py-2",children:Ot(s.amount)}),e.jsx("td",{className:"py-2",children:rr(s.startsAt)})]},s.id))})]})})]})}function Ot(t){const a=Number(t||0);return`N${new Intl.NumberFormat("en-NG").format(a)}`}function rr(t){if(!t)return"-";const a=new Date(t);return Number.isNaN(a.getTime())?t:a.toLocaleString()}function lr(){const[t,a]=l.useState([]),[s,r]=l.useState(!0),[n,i]=l.useState(""),[o,j]=l.useState(""),[w,p]=l.useState(""),[c,x]=l.useState("");l.useEffect(()=>{let m=!0;async function N(){r(!0),i("");try{const v=new URLSearchParams;w&&v.set("role",w),o.trim()&&v.set("q",o.trim());const R=await T(`/admin/users?${v.toString()}`);if(!m)return;a(Array.isArray(R==null?void 0:R.data)?R.data:[])}catch(v){if(!m)return;v instanceof ne&&v.status===404?i("Admin users endpoint not found (404). Restart backend so /api/v1/admin/users is available."):i(v.message??"Failed to load users")}finally{m&&r(!1)}}return N(),()=>{m=!1}},[o,w]);const d=l.useMemo(()=>t,[t]);async function b(m){x(m.id),i("");try{const N=await T(`/admin/users/${encodeURIComponent(m.id)}`,{method:"PATCH",body:JSON.stringify({isActive:!m.active})}),v=(N==null?void 0:N.data)??null;if(!v)return;a(R=>R.map(f=>f.id===v.id?{...f,active:v.active}:f))}catch(N){i(N.message??"Failed to update user")}finally{x("")}}return e.jsxs(W,{title:"Admin Users",children:[n?e.jsx("div",{className:"mb-4 rounded-xl border border-danger/30 bg-danger/10 px-4 py-3 text-sm text-danger",children:n}):null,e.jsxs("section",{className:"rounded-2xl border border-slate-200 bg-white/90 p-4 shadow-soft dark:border-slate-800 dark:bg-slate-900/80 sm:p-5",children:[e.jsxs("div",{className:"mb-3 flex flex-wrap items-center justify-between gap-3",children:[e.jsx("h2",{className:"font-heading text-lg font-bold sm:text-xl",children:"Users"}),e.jsxs("div",{className:"flex w-full flex-col gap-2 sm:w-auto sm:flex-row sm:items-center",children:[e.jsxs("select",{value:w,onChange:m=>p(m.target.value),className:"rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm dark:border-slate-700 dark:bg-slate-900",children:[e.jsx("option",{value:"",children:"All roles"}),e.jsx("option",{value:"homeowner",children:"Homeowner"}),e.jsx("option",{value:"estate",children:"Estate"}),e.jsx("option",{value:"admin",children:"Admin"})]}),e.jsx("input",{value:o,onChange:m=>j(m.target.value),placeholder:"Search name or email...",className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm dark:border-slate-700 dark:bg-slate-900 sm:w-72"})]})]}),s?e.jsx("p",{className:"text-sm text-slate-500",children:"Loading users..."}):d.length===0?e.jsx("p",{className:"text-sm text-slate-500",children:"No users found."}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full min-w-[820px] text-left text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-slate-200 text-slate-500 dark:border-slate-700",children:[e.jsx("th",{className:"py-2 font-semibold",children:"Name"}),e.jsx("th",{className:"py-2 font-semibold",children:"Email"}),e.jsx("th",{className:"py-2 font-semibold",children:"Role"}),e.jsx("th",{className:"py-2 font-semibold",children:"Active"}),e.jsx("th",{className:"py-2 font-semibold",children:"Created"}),e.jsx("th",{className:"py-2 font-semibold",children:"Action"})]})}),e.jsx("tbody",{children:d.slice(0,300).map(m=>e.jsxs("tr",{className:"border-b border-slate-100 dark:border-slate-800",children:[e.jsx("td",{className:"py-2 font-semibold",children:m.fullName}),e.jsx("td",{className:"py-2",children:m.email}),e.jsx("td",{className:"py-2",children:m.role}),e.jsx("td",{className:"py-2",children:m.active?"Yes":"No"}),e.jsx("td",{className:"py-2",children:nr(m.createdAt)}),e.jsx("td",{className:"py-2",children:e.jsx("button",{type:"button",disabled:c===m.id,onClick:()=>b(m),className:"rounded-lg border border-slate-300 px-3 py-2 text-xs font-semibold dark:border-slate-700 disabled:opacity-50",children:c===m.id?"Saving...":m.active?"Deactivate":"Activate"})})]},m.id))})]})})]})]})}function nr(t){if(!t)return"-";const a=new Date(t);return Number.isNaN(a.getTime())?t:a.toLocaleString()}function or(){const[t,a]=l.useState([]),[s,r]=l.useState(!0),[n,i]=l.useState(""),[o,j]=l.useState(""),[w,p]=l.useState("");l.useEffect(()=>{let x=!0;async function d(){r(!0),i("");try{const b=new URLSearchParams;o&&b.set("status",o);const m=await T(`/admin/sessions?${b.toString()}`);if(!x)return;a(Array.isArray(m==null?void 0:m.data)?m.data:[])}catch(b){if(!x)return;b instanceof ne&&b.status===404?i("Admin sessions endpoint not found (404). Restart backend so /api/v1/admin/sessions is available."):i(b.message??"Failed to load sessions")}finally{x&&r(!1)}}return d(),()=>{x=!1}},[o]);const c=l.useMemo(()=>{const x=w.trim().toLowerCase();return x?t.filter(d=>[d.id,d.qrId,d.homeId,d.doorId,d.homeownerId,d.visitor,d.status].join(" ").toLowerCase().includes(x)):t},[t,w]);return e.jsxs(W,{title:"Admin Sessions",children:[n?e.jsx("div",{className:"mb-4 rounded-xl border border-danger/30 bg-danger/10 px-4 py-3 text-sm text-danger",children:n}):null,e.jsxs("section",{className:"rounded-2xl border border-slate-200 bg-white/90 p-4 shadow-soft dark:border-slate-800 dark:bg-slate-900/80 sm:p-5",children:[e.jsxs("div",{className:"mb-3 flex flex-wrap items-center justify-between gap-3",children:[e.jsx("h2",{className:"font-heading text-lg font-bold sm:text-xl",children:"Visitor Sessions"}),e.jsxs("div",{className:"flex w-full flex-col gap-2 sm:w-auto sm:flex-row sm:items-center",children:[e.jsxs("select",{value:o,onChange:x=>j(x.target.value),className:"rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm dark:border-slate-700 dark:bg-slate-900",children:[e.jsx("option",{value:"",children:"All status"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"approved",children:"Approved"}),e.jsx("option",{value:"rejected",children:"Rejected"}),e.jsx("option",{value:"closed",children:"Closed"}),e.jsx("option",{value:"completed",children:"Completed"})]}),e.jsx("input",{value:w,onChange:x=>p(x.target.value),placeholder:"Search session, visitor, ids...",className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm dark:border-slate-700 dark:bg-slate-900 sm:w-80"})]})]}),s?e.jsx("p",{className:"text-sm text-slate-500",children:"Loading sessions..."}):c.length===0?e.jsx("p",{className:"text-sm text-slate-500",children:"No sessions found."}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full min-w-[980px] text-left text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-slate-200 text-slate-500 dark:border-slate-700",children:[e.jsx("th",{className:"py-2 font-semibold",children:"Visitor"}),e.jsx("th",{className:"py-2 font-semibold",children:"Status"}),e.jsx("th",{className:"py-2 font-semibold",children:"QR"}),e.jsx("th",{className:"py-2 font-semibold",children:"Door"}),e.jsx("th",{className:"py-2 font-semibold",children:"Homeowner"}),e.jsx("th",{className:"py-2 font-semibold",children:"Started"}),e.jsx("th",{className:"py-2 font-semibold",children:"Ended"})]})}),e.jsx("tbody",{children:c.slice(0,300).map(x=>e.jsxs("tr",{className:"border-b border-slate-100 dark:border-slate-800",children:[e.jsx("td",{className:"py-2 font-semibold",children:x.visitor||"-"}),e.jsx("td",{className:"py-2",children:x.status}),e.jsx("td",{className:"py-2 font-mono text-xs",children:x.qrId}),e.jsx("td",{className:"py-2 font-mono text-xs",children:x.doorId}),e.jsx("td",{className:"py-2 font-mono text-xs",children:x.homeownerId}),e.jsx("td",{className:"py-2",children:jt(x.startedAt)}),e.jsx("td",{className:"py-2",children:jt(x.endedAt)})]},x.id))})]})})]})]})}function jt(t){if(!t)return"-";const a=new Date(t);return Number.isNaN(a.getTime())?t:a.toLocaleString()}function ir(){const[t,a]=l.useState(null),[s,r]=l.useState(!0),[n,i]=l.useState("");return l.useEffect(()=>{let o=!0;async function j(){r(!0),i("");try{const w=await T("/admin/config");if(!o)return;a((w==null?void 0:w.data)??null)}catch(w){if(!o)return;w instanceof ne&&w.status===404?i("Admin config endpoint not found (404). Restart backend so /api/v1/admin/config is available."):i(w.message??"Failed to load config")}finally{o&&r(!1)}}return j(),()=>{o=!1}},[]),e.jsxs(W,{title:"Admin Config",children:[n?e.jsx("div",{className:"mb-4 rounded-xl border border-danger/30 bg-danger/10 px-4 py-3 text-sm text-danger",children:n}):null,e.jsxs("section",{className:"rounded-2xl border border-slate-200 bg-white/90 p-4 shadow-soft dark:border-slate-800 dark:bg-slate-900/80 sm:p-5",children:[e.jsx("h2",{className:"font-heading text-lg font-bold sm:text-xl",children:"Runtime Config"}),e.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Read-only status of backend configuration."}),s?e.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Loading..."}):t?e.jsxs("div",{className:"mt-4 grid gap-3 sm:grid-cols-2",children:[e.jsx(ie,{label:"Environment",value:String(t.environment)}),e.jsx(ie,{label:"Debug",value:t.debug?"true":"false"}),e.jsx(ie,{label:"Paystack Configured",value:t.paystackConfigured?"true":"false"}),e.jsx(ie,{label:"VAPID Configured",value:t.vapidConfigured?"true":"false"}),e.jsx(ie,{label:"Admin Signup Key Set",value:t.adminSignupKeySet?"true":"false"}),e.jsx(ie,{label:"Frontend Base URL",value:String(t.frontendBaseUrl),mono:!0})]}):e.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"No data."})]})]})}function ie({label:t,value:a,mono:s}){return e.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-3 dark:border-slate-700 dark:bg-slate-800",children:[e.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:t}),e.jsx("p",{className:`mt-1 text-sm font-semibold ${s?"font-mono text-xs":""}`,children:a})]})}function dr(){const[t,a]=l.useState([]),[s,r]=l.useState(!0),[n,i]=l.useState("");return l.useEffect(()=>{let o=!0;async function j(){r(!0),i("");try{const w=await T("/admin/audit");if(!o)return;a(Array.isArray(w==null?void 0:w.data)?w.data:[])}catch(w){if(!o)return;w instanceof ne&&w.status===404?i("Admin audit endpoint not found (404). Restart backend so /api/v1/admin/audit is available."):i(w.message??"Failed to load audit logs")}finally{o&&r(!1)}}return j(),()=>{o=!1}},[]),e.jsxs(W,{title:"Admin Audit",children:[n?e.jsx("div",{className:"mb-4 rounded-xl border border-danger/30 bg-danger/10 px-4 py-3 text-sm text-danger",children:n}):null,e.jsxs("section",{className:"rounded-2xl border border-slate-200 bg-white/90 p-4 shadow-soft dark:border-slate-800 dark:bg-slate-900/80 sm:p-5",children:[e.jsx("h2",{className:"font-heading text-lg font-bold sm:text-xl",children:"Audit Log"}),e.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Records admin actions like user toggles, subscription activations, and message deletes."}),s?e.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Loading audit logs..."}):t.length===0?e.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"No audit entries yet."}):e.jsx("div",{className:"mt-4 overflow-x-auto",children:e.jsxs("table",{className:"w-full min-w-[980px] text-left text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-slate-200 text-slate-500 dark:border-slate-700",children:[e.jsx("th",{className:"py-2 font-semibold",children:"Time"}),e.jsx("th",{className:"py-2 font-semibold",children:"Action"}),e.jsx("th",{className:"py-2 font-semibold",children:"Resource"}),e.jsx("th",{className:"py-2 font-semibold",children:"Actor"}),e.jsx("th",{className:"py-2 font-semibold",children:"Meta"})]})}),e.jsx("tbody",{children:t.slice(0,300).map(o=>e.jsxs("tr",{className:"border-b border-slate-100 dark:border-slate-800",children:[e.jsx("td",{className:"py-2",children:cr(o.createdAt)}),e.jsx("td",{className:"py-2 font-semibold",children:o.action}),e.jsxs("td",{className:"py-2",children:[e.jsx("span",{className:"font-mono text-xs",children:o.resourceType}),o.resourceId?e.jsx("span",{className:"ml-2 font-mono text-xs text-slate-500",children:o.resourceId}):null]}),e.jsx("td",{className:"py-2 font-mono text-xs",children:o.actorUserId||"-"}),e.jsx("td",{className:"py-2 font-mono text-xs text-slate-500",children:xr(o.meta||"",120)})]},o.id))})]})})]})]})}function cr(t){if(!t)return"-";const a=new Date(t);return Number.isNaN(a.getTime())?t:a.toLocaleString()}function xr(t,a){const s=String(t??"");return s.length<=a?s:`${s.slice(0,a)}...`}function mr(){const{qrId:t}=Te(),a=te(),[s,r]=l.useState(!0),[n,i]=l.useState(""),[o,j]=l.useState(null),[w,p]=l.useState(""),[c,x]=l.useState({sending:!1,sent:!1,sessionId:"",status:""}),[d,b]=l.useState(0),[m,N]=l.useState({name:"",purpose:""}),[v,R]=l.useState(!1);l.useEffect(()=>{let P=!0;return(async()=>{var E;r(!0),i("");try{const O=await T(`/qr/resolve/${t}`),_=(O==null?void 0:O.data)??O;if(!P)return;j(_),p(((E=_==null?void 0:_.doors)==null?void 0:E[0])??"")}catch(O){if(!P)return;i(O.message??"QR could not be resolved")}finally{P&&r(!1)}})(),()=>{P=!1}},[t]),l.useEffect(()=>{if(!c.sent)return;const P=setInterval(()=>b(C=>C+1),1e3);return()=>clearInterval(P)},[c.sent]),l.useEffect(()=>{if(!c.sent||!c.sessionId)return;let P=!0;const C=setInterval(async()=>{try{const E=await aa(c.sessionId);if(!P||!(E!=null&&E.status))return;x(O=>({...O,status:E.status}))}catch{}},3e3);return()=>{P=!1,clearInterval(C)}},[c.sent,c.sessionId]);const f=async P=>{P.preventDefault(),i(""),x(C=>({...C,sending:!0}));try{const C=await T("/visitor/request",{method:"POST",body:JSON.stringify({qrId:t,doorId:w,name:m.name,purpose:m.purpose})}),E=(C==null?void 0:C.data)??C;x({sending:!1,sent:!0,sessionId:(E==null?void 0:E.sessionId)??"",status:(E==null?void 0:E.status)??"pending"})}catch(C){x(E=>({...E,sending:!1})),i(C.message??"Request failed")}},A=(o==null?void 0:o.doorOptions)??[],g=A.find(P=>P.id===w)??null,L=l.useMemo(()=>`${Math.floor(d/60)}:${String(d%60).padStart(2,"0")}`,[d]);function M(){R(!0)}function q(P){c.sessionId&&(R(!1),a(`/session/${c.sessionId}/${P}`))}return e.jsxs("div",{className:"grid min-h-screen place-items-center bg-slate-50 p-4 dark:bg-slate-950",children:[e.jsxs("article",{className:"w-full max-w-lg rounded-3xl border border-slate-200 bg-white/90 p-7 shadow-soft dark:border-slate-800 dark:bg-slate-900/80",children:[e.jsx("h1",{className:"font-heading text-3xl font-bold",children:"Qring Visitor Access"}),e.jsxs("p",{className:"mt-2 text-sm text-slate-500",children:["QR ID: ",t]}),s?e.jsx("p",{className:"mt-5 text-sm",children:"Resolving secure QR route..."}):null,n?e.jsx("p",{className:"mt-5 text-sm text-danger",children:n}):null,!s&&o&&!c.sent?e.jsxs("form",{onSubmit:f,className:"mt-6 space-y-4",children:[e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:"Select the door and submit your entry request."}),e.jsxs("label",{className:"block text-sm",children:[e.jsx("span",{className:"mb-1 block font-medium",children:"Your Name"}),e.jsx("input",{type:"text",value:m.name,onChange:P=>N(C=>({...C,name:P.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-3 dark:border-slate-700 dark:bg-slate-900",placeholder:"e.g. John Doe",required:!0})]}),e.jsxs("label",{className:"block text-sm",children:[e.jsx("span",{className:"mb-1 block font-medium",children:"Purpose of Visit"}),e.jsx("textarea",{value:m.purpose,onChange:P=>N(C=>({...C,purpose:P.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-3 dark:border-slate-700 dark:bg-slate-900",placeholder:"e.g. Package delivery",rows:3,required:!0})]}),e.jsxs("label",{className:"block text-sm",children:[e.jsx("span",{className:"mb-1 block font-medium",children:"Door"}),e.jsx("select",{value:w,onChange:P=>p(P.target.value),className:"w-full rounded-xl border border-slate-300 px-3 py-3 dark:border-slate-700 dark:bg-slate-900",children:(A.length?A:(o.doors??[]).map(P=>({id:P,name:P}))).map(P=>e.jsx("option",{value:P.id,children:P.name},P.id))})]}),g?e.jsxs("p",{className:"text-xs text-slate-500",children:["Home: ",g.homeName||"N/A"," | Homeowner: ",g.homeownerName||"N/A"]}):null,e.jsx("button",{type:"submit",disabled:c.sending,className:"w-full rounded-xl bg-brand-500 px-4 py-3 text-sm font-semibold text-white disabled:opacity-50",children:c.sending?"Submitting...":"Request Access"})]}):null,c.sent?e.jsxs("div",{className:"mt-6 rounded-2xl bg-slate-100 p-4 dark:bg-slate-800",children:[e.jsx("p",{className:"text-sm font-semibold",children:c.status==="approved"?"Request approved":c.status==="rejected"?"Request rejected by homeowner":"Waiting for homeowner approval"}),e.jsxs("p",{className:"mt-1 text-xs text-slate-500",children:["Timer: ",L]}),c.sessionId&&c.status==="approved"?e.jsx("button",{type:"button",onClick:M,className:"mt-4 inline-block rounded-lg bg-brand-500 px-4 py-2 text-xs font-semibold text-white",children:"Open Session"}):null,c.status==="rejected"?e.jsx("p",{className:"mt-3 text-xs font-semibold text-danger",children:"You can retry another request or contact the resident."}):null]}):null]}),e.jsx(Lt,{open:v,sessionId:c.sessionId,onClose:()=>R(!1),onSelect:q})]})}const kt=[{key:"message",label:"Messages"},{key:"audio",label:"Audio"},{key:"video",label:"Video"}];function hr({sessionId:t}){return e.jsxs(e.Fragment,{children:[e.jsx("aside",{className:"hidden lg:col-span-3 lg:block",children:e.jsxs("section",{className:"sticky top-6 rounded-3xl border border-slate-200/80 bg-white/85 p-4 shadow-soft backdrop-blur",children:[e.jsx("p",{className:"mb-2 text-xs font-semibold uppercase tracking-[0.15em] text-slate-500",children:"Session Pages"}),e.jsx("nav",{className:"space-y-2",children:kt.map(a=>e.jsx(Me,{to:`/session/${t}/${a.key}`,className:({isActive:s})=>`block rounded-xl px-3 py-2 text-sm font-semibold transition ${s?"bg-slate-900 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:a.label},a.key))})]})}),e.jsx("nav",{className:"fixed bottom-3 left-1/2 z-30 w-[min(96vw,520px)] -translate-x-1/2 rounded-2xl border border-slate-200 bg-white/95 p-2 shadow-soft backdrop-blur lg:hidden",children:e.jsx("div",{className:"grid grid-cols-3 gap-2",children:kt.map(a=>e.jsx(Me,{to:`/session/${t}/${a.key}`,className:({isActive:s})=>`rounded-xl px-2 py-2 text-center text-xs font-semibold ${s?"bg-slate-900 text-white":"bg-slate-100 text-slate-700"}`,children:a.label},a.key))})})]})}const ur={iceServers:[{urls:"stun:stun.l.google.com:19302"}]};function Ke(t){var D;const a=localStorage.getItem("qring_access_token"),s=l.useMemo(()=>{try{return JSON.parse(localStorage.getItem("qring_user")||"null")}catch{return null}},[]),r=(s==null?void 0:s.fullName)||"Visitor",[n,i]=l.useState(!1),[o,j]=l.useState(!1),[w,p]=l.useState("idle"),[c,x]=l.useState(!1),[d,b]=l.useState(!1),[m,N]=l.useState([]),[v,R]=l.useState(""),f=l.useRef(null),A=l.useRef(null),g=l.useRef(null),L=l.useRef(null),M=l.useRef(null),q=l.useRef([]),P=l.useRef(!1),C=typeof window<"u"&&typeof window.RTCPeerConnection<"u",E=typeof navigator<"u"&&typeof((D=navigator.mediaDevices)==null?void 0:D.getUserMedia)=="function",O=typeof window>"u"?!0:window.isSecureContext,_=l.useMemo(()=>C?O?E?"":"Camera/microphone APIs are unavailable in this browser.":"Camera and microphone require HTTPS on network devices. Open the app with HTTPS or localhost.":"This browser does not support WebRTC calls.",[O,E,C]);function B(k){return(s==null?void 0:s.role)==="homeowner"?k==="homeowner":s!=null&&s.role?k===s.role:k!=="homeowner"}function Y(k){const y=(k==null?void 0:k.senderType)||null;return{id:(k==null?void 0:k.id)||null,text:(k==null?void 0:k.text)||"",displayName:(k==null?void 0:k.displayName)||"Participant",senderType:y,at:(k==null?void 0:k.at)||new Date().toISOString(),mine:y!==null?B(y):(k==null?void 0:k.displayName)===r}}function G(){if(A.current)return A.current;const k=new RTCPeerConnection(ur);return k.ontrack=y=>{M.current&&(M.current.srcObject=y.streams[0],M.current.play().catch(()=>{}))},k.onicecandidate=y=>{!y.candidate||!f.current||f.current.emit("webrtc.ice",{sessionId:t,candidate:y.candidate})},k.onconnectionstatechange=()=>{const y=k.connectionState;y==="connected"&&p("connected"),(y==="failed"||y==="disconnected"||y==="closed")&&p("ended")},A.current=k,k}async function S({video:k}){if(_)throw new Error(_);if(g.current){const X=!!k;if(g.current.getVideoTracks().length>0===X)return g.current;g.current.getTracks().forEach(pe=>pe.stop()),g.current=null}const y=await navigator.mediaDevices.getUserMedia({audio:!0,video:!!k});g.current=y,L.current&&(L.current.srcObject=y,L.current.muted=!0,L.current.play().catch(()=>{}));const H=G();return H.getSenders().forEach(X=>{X.track&&H.removeTrack(X)}),y.getTracks().forEach(X=>H.addTrack(X,y)),b(!!k),p("ready"),y}async function Q({video:k}){var y;try{if(R(""),_){R(_);return}if(!o){R("Joining session room...");return}await S({video:k});const H=G();P.current=!0;const V=await H.createOffer();await H.setLocalDescription(V),(y=f.current)==null||y.emit("webrtc.offer",{sessionId:t,sdp:V}),p("ringing")}catch(H){R((H==null?void 0:H.message)??"Unable to start call")}finally{P.current=!1}}function z(){Q({video:!1})}function U(){Q({video:!0})}async function F(k){const y=G();await y.setRemoteDescription(new RTCSessionDescription(k));for(const H of q.current)try{await y.addIceCandidate(new RTCIceCandidate(H))}catch{}q.current=[]}function K(k){const y=(k||"").trim();return!y||!f.current||!o?!1:(f.current.emit("chat.message",{sessionId:t,text:y,displayName:r}),!0)}function h(){var y;if(!g.current)return;const k=!c;g.current.getAudioTracks().forEach(H=>{H.enabled=!k}),x(k),(y=f.current)==null||y.emit("session.control",{sessionId:t,action:k?"mute":"unmute"})}function I(k=!0){var y;k&&((y=f.current)==null||y.emit("session.control",{sessionId:t,action:"end"})),A.current&&(A.current.getSenders().forEach(H=>{H.track&&H.track.stop()}),A.current.close(),A.current=null),g.current&&(g.current.getTracks().forEach(H=>H.stop()),g.current=null),L.current&&(L.current.srcObject=null),M.current&&(M.current.srcObject=null),p("ended"),b(!1),x(!1)}return l.useEffect(()=>{let k=!0;return(async()=>{try{const H=await ra(t);if(!k)return;N(H.map(V=>Y(V)))}catch{k&&R(H=>H||"Unable to load message history")}})(),()=>{k=!1}},[t]),l.useEffect(()=>{const k=Je(`${ee.socketUrl}${ee.signalingNamespace}`,{path:ee.socketPath,transports:["websocket","polling"],auth:a?{token:a}:void 0,withCredentials:!0});return f.current=k,k.on("connect",()=>{i(!0),k.emit("session.join",{sessionId:t,displayName:r})}),k.on("disconnect",()=>{i(!1),j(!1)}),k.on("connect_error",y=>{R((y==null?void 0:y.message)??"Socket connection failed")}),k.on("session.joined",y=>{y!=null&&y.sid&&(j(!0),R("Session connected"))}),k.on("session.participant_joined",async()=>{var y;if(!P.current&&(R("Participant joined"),g.current&&((y=A.current)==null?void 0:y.signalingState)==="stable"))try{P.current=!0;const H=await A.current.createOffer();await A.current.setLocalDescription(H),k.emit("webrtc.offer",{sessionId:t,sdp:H}),p("ringing")}catch{}finally{P.current=!1}}),k.on("session.participant_left",()=>R("Participant left")),k.on("webrtc.offer",async y=>{var H;if((y==null?void 0:y.sessionId)===t)try{const V=typeof((H=y==null?void 0:y.sdp)==null?void 0:H.sdp)=="string"&&y.sdp.sdp.includes("m=video");try{await S({video:V})}catch{G()}await F(y.sdp);const X=G(),se=await X.createAnswer();await X.setLocalDescription(se),k.emit("webrtc.answer",{sessionId:t,sdp:se}),p("connected")}catch(V){R((V==null?void 0:V.message)??"Failed to handle incoming call")}}),k.on("webrtc.answer",async y=>{if((y==null?void 0:y.sessionId)===t)try{await F(y.sdp),p("connected")}catch(H){R((H==null?void 0:H.message)??"Failed to establish call")}}),k.on("webrtc.ice",async y=>{if((y==null?void 0:y.sessionId)!==t)return;const H=y==null?void 0:y.candidate;if(!H)return;const V=G();if(V.remoteDescription)try{await V.addIceCandidate(new RTCIceCandidate(H))}catch{}else q.current.push(H)}),k.on("chat.message",y=>{if((y==null?void 0:y.sessionId)!==t)return;const H=Y(y);N(V=>H.id&&V.some(X=>X.id&&X.id===H.id)?V:[...V,H])}),k.on("session.control",y=>{if((y==null?void 0:y.sessionId)!==t)return;const H=y==null?void 0:y.action;H==="mute"&&R("Other participant muted microphone"),H==="unmute"&&R("Other participant unmuted microphone"),H==="end"&&(R("Call ended by participant"),I(!1))}),()=>{k.disconnect(),I(!1)}},[t,r,a]),{connected:n,joined:o,callState:w,muted:c,cameraOn:d,messages:m,status:v,featureError:_,localVideoRef:L,remoteVideoRef:M,localStreamRef:g,sendMessage:K,toggleMute:h,endCall:I,startAudioCall:z,startVideoCall:U}}function br(){const{sessionId:t}=Te(),[a,s]=l.useState(""),{connected:r,joined:n,callState:i,messages:o,status:j,featureError:w,sendMessage:p}=Ke(t);function c(x){x.preventDefault(),p(a)&&s("")}return e.jsx("div",{className:"min-h-screen bg-[radial-gradient(circle_at_top_left,_#fef3c7_0,_#f8fafc_38%,_#e0f2fe_72%,_#dbeafe_100%)] p-4 text-slate-900",children:e.jsxs("div",{className:"mx-auto w-full max-w-7xl py-6",children:[e.jsxs("header",{className:"mb-4 rounded-3xl border border-slate-200/80 bg-white/80 p-5 shadow-soft backdrop-blur",children:[e.jsx("h1",{className:"font-heading text-2xl font-black md:text-3xl",children:"Session Messages"}),e.jsxs("p",{className:"mt-1 text-xs text-slate-500",children:["Session ",t," | ",r?"Signaling Online":"Connecting"," |"," ",n?"Room Joined":"Waiting Room"," | Call: ",i]}),w?e.jsx("p",{className:"mt-2 text-sm text-rose-700",children:w}):null,j?e.jsx("p",{className:"mt-2 text-sm text-amber-700",children:j}):null]}),e.jsxs("div",{className:"grid gap-4 lg:grid-cols-12",children:[e.jsx(hr,{sessionId:t}),e.jsx("section",{className:"space-y-4 lg:col-span-9",children:e.jsxs("article",{className:"rounded-3xl border border-slate-200/80 bg-white/90 p-4 shadow-soft",children:[e.jsx("h2",{className:"font-heading text-lg font-bold",children:"Conversation"}),e.jsxs("div",{className:"mt-3 max-h-[28rem] space-y-2 overflow-y-auto rounded-2xl bg-slate-100/90 p-3",children:[o.map(x=>e.jsxs("div",{className:`max-w-[85%] rounded-xl px-3 py-2 text-sm ${x.mine?"ml-auto bg-cyan-600 text-white":"bg-white text-slate-700"}`,children:[e.jsx("p",{className:"text-[11px] font-semibold",children:x.displayName}),e.jsx("p",{children:x.text})]},x.id||`${x.at}-${x.text}`)),o.length===0?e.jsx("p",{className:"text-xs text-slate-500",children:"No messages yet."}):null]}),e.jsxs("form",{onSubmit:c,className:"mt-3 flex gap-2",children:[e.jsx("input",{value:a,onChange:x=>s(x.target.value),className:"w-full rounded-xl border border-slate-300 bg-white px-3 py-3 text-sm",placeholder:"Type a message"}),e.jsx("button",{type:"submit",className:"rounded-xl bg-slate-900 px-4 py-3 text-sm font-semibold text-white",children:"Send"})]})]})})]})]})})}function gr(){const{sessionId:t}=Te(),{connected:a,joined:s,callState:r,muted:n,localStreamRef:i,status:o,featureError:j,toggleMute:w,endCall:p,startAudioCall:c}=Ke(t);return e.jsx("div",{className:"min-h-screen bg-[radial-gradient(circle_at_top,_#dcfce7_0,_#f8fafc_48%,_#e2e8f0_100%)] p-4 text-slate-900",children:e.jsxs("div",{className:"mx-auto w-full max-w-4xl py-6",children:[e.jsxs("header",{className:"mb-4 flex items-center justify-between rounded-3xl border border-slate-200/80 bg-white/85 p-4 shadow-soft",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"font-heading text-2xl font-black",children:"Audio Call"}),e.jsxs("p",{className:"text-xs text-slate-500",children:["Session ",t]})]}),e.jsx(u,{to:"/dashboard",className:"rounded-xl bg-slate-900 px-4 py-2 text-xs font-semibold text-white",children:"Go Back Home"})]}),e.jsxs("section",{className:"rounded-3xl border border-slate-200/80 bg-white/90 p-6 shadow-soft",children:[e.jsxs("div",{className:"rounded-2xl bg-slate-900 p-8 text-center text-white",children:[e.jsx("div",{className:"mx-auto h-32 w-32 rounded-full bg-emerald-500/20 p-2",children:e.jsx("div",{className:"grid h-full place-items-center rounded-full bg-emerald-500 text-lg font-bold",children:"AUDIO"})}),e.jsx("p",{className:"mt-4 text-sm font-semibold",children:n?"Microphone Muted":"Microphone Active"}),e.jsxs("p",{className:"mt-1 text-xs text-slate-300",children:[a?"Signaling Online":"Connecting"," | ",s?"Room Joined":"Waiting Room"," | Call:"," ",r]}),e.jsx("p",{className:"mt-1 text-xs text-slate-300",children:i.current?"Audio stream connected":"Start call to connect microphone"})]}),j?e.jsx("p",{className:"mt-3 text-sm text-rose-700",children:j}):null,o?e.jsx("p",{className:"mt-2 text-sm text-amber-700",children:o}):null,e.jsxs("div",{className:"mt-5 grid grid-cols-3 gap-3",children:[e.jsx("button",{type:"button",onClick:c,disabled:!!j,className:"rounded-xl bg-emerald-600 px-3 py-3 text-xs font-semibold text-white disabled:opacity-50",children:"Start"}),e.jsx("button",{type:"button",onClick:w,disabled:!i.current,className:"rounded-xl bg-amber-500 px-3 py-3 text-xs font-semibold text-white disabled:opacity-50",children:n?"Unmute":"Mute"}),e.jsx("button",{type:"button",onClick:p,className:"rounded-xl bg-rose-600 px-3 py-3 text-xs font-semibold text-white",children:"End"})]})]})]})})}function pr(){const{sessionId:t}=Te(),{connected:a,joined:s,callState:r,muted:n,localStreamRef:i,status:o,featureError:j,localVideoRef:w,remoteVideoRef:p,toggleMute:c,endCall:x,startVideoCall:d}=Ke(t);return e.jsx("div",{className:"min-h-screen bg-[radial-gradient(circle_at_top_left,_#dbeafe_0,_#f8fafc_42%,_#e2e8f0_100%)] p-4 text-slate-900",children:e.jsxs("div",{className:"mx-auto w-full max-w-6xl py-6",children:[e.jsxs("header",{className:"mb-4 flex items-center justify-between rounded-3xl border border-slate-200/80 bg-white/85 p-4 shadow-soft",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"font-heading text-2xl font-black",children:"Video Call"}),e.jsxs("p",{className:"text-xs text-slate-500",children:["Session ",t]})]}),e.jsx(u,{to:"/dashboard",className:"rounded-xl bg-slate-900 px-4 py-2 text-xs font-semibold text-white",children:"Go Back Home"})]}),e.jsxs("section",{className:"rounded-3xl border border-slate-200/80 bg-white/90 p-3 shadow-soft",children:[e.jsxs("article",{className:"relative overflow-hidden rounded-2xl bg-black",children:[e.jsx("video",{ref:p,autoPlay:!0,playsInline:!0,className:"h-[480px] w-full rounded-2xl bg-slate-950 object-cover"}),e.jsx("video",{ref:w,autoPlay:!0,playsInline:!0,className:"absolute bottom-4 right-4 h-32 w-48 rounded-xl border-2 border-white/70 bg-slate-900 object-cover shadow-lg"})]}),e.jsxs("div",{className:"mt-3 rounded-2xl bg-slate-900 px-4 py-3 text-xs text-slate-200",children:[a?"Signaling Online":"Connecting"," | ",s?"Room Joined":"Waiting Room"," | Call:"," ",r," | ",i.current?"Media ready":"Media not started"]}),j?e.jsx("p",{className:"mt-2 text-sm text-rose-700",children:j}):null,o?e.jsx("p",{className:"mt-2 text-sm text-amber-700",children:o}):null,e.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-3",children:[e.jsx("button",{type:"button",onClick:d,disabled:!!j,className:"rounded-xl bg-cyan-600 px-3 py-3 text-xs font-semibold text-white disabled:opacity-50",children:"Start Video"}),e.jsx("button",{type:"button",onClick:c,disabled:!i.current,className:"rounded-xl bg-amber-500 px-3 py-3 text-xs font-semibold text-white disabled:opacity-50",children:n?"Unmute":"Mute"}),e.jsx("button",{type:"button",onClick:x,className:"rounded-xl bg-rose-600 px-3 py-3 text-xs font-semibold text-white",children:"End"})]})]})]})})}function fr(){return e.jsx("div",{className:"grid min-h-screen place-items-center bg-slate-50 p-4 dark:bg-slate-950",children:e.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-8 text-center shadow-soft dark:border-slate-800 dark:bg-slate-900",children:[e.jsx("h1",{className:"font-heading text-3xl font-bold",children:"Access Restricted"}),e.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"You do not have permission to view this route."}),e.jsx(u,{to:"/",className:"mt-5 inline-block rounded-xl bg-brand-500 px-5 py-2 text-sm font-semibold text-white",children:"Return Home"})]})})}function jr(){return e.jsx("div",{className:"grid min-h-screen place-items-center bg-slate-50 p-4 dark:bg-slate-950",children:e.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-8 text-center shadow-soft dark:border-slate-800 dark:bg-slate-900",children:[e.jsx("h1",{className:"font-heading text-3xl font-bold",children:"404"}),e.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Page not found."}),e.jsx(u,{to:"/",className:"mt-5 inline-block rounded-xl bg-brand-500 px-5 py-2 text-sm font-semibold text-white",children:"Go to Landing Page"})]})})}function kr(){const{isAuthenticated:t}=re(),a=Ge(),s=!!localStorage.getItem("qring_access_token");return!t||!s?e.jsx(be,{to:"/login",replace:!0,state:{from:a}}):e.jsx(Nt,{})}function Ee({allowedRoles:t}){const{user:a}=re();return!(a!=null&&a.role)||!t.includes(a.role)?e.jsx(be,{to:"/unauthorized",replace:!0}):e.jsx(Nt,{})}function wr(){return e.jsx(es,{children:e.jsx(Us,{children:e.jsx(_t,{children:e.jsxs(Ht,{children:[e.jsx($,{path:"/",element:e.jsx(cs,{})}),e.jsx($,{path:"/about",element:e.jsx(us,{})}),e.jsx($,{path:"/pricing",element:e.jsx(ps,{})}),e.jsx($,{path:"/contact",element:e.jsx(js,{})}),e.jsx($,{path:"/platform",element:e.jsx(ks,{})}),e.jsx($,{path:"/security",element:e.jsx(ws,{})}),e.jsx($,{path:"/api-docs",element:e.jsx(Ns,{})}),e.jsx($,{path:"/company",element:e.jsx(ys,{})}),e.jsx($,{path:"/blog",element:e.jsx(vs,{})}),e.jsx($,{path:"/careers",element:e.jsx(Ss,{})}),e.jsx($,{path:"/legal",element:e.jsx(Cs,{})}),e.jsx($,{path:"/privacy",element:e.jsx(Ps,{})}),e.jsx($,{path:"/terms",element:e.jsx(As,{})}),e.jsx($,{path:"/compliance",element:e.jsx(Es,{})}),e.jsx($,{path:"/login",element:e.jsx(Fs,{})}),e.jsx($,{path:"/admin/login",element:e.jsx(Vs,{})}),e.jsx($,{path:"/admin/signup",element:e.jsx(zs,{})}),e.jsx($,{path:"/signup",element:e.jsx(Ws,{})}),e.jsx($,{path:"/forgot-password",element:e.jsx(Gs,{})}),e.jsx($,{path:"/scan/:qrId",element:e.jsx(mr,{})}),e.jsx($,{path:"/session/:sessionId",element:e.jsx(be,{to:"message",replace:!0})}),e.jsx($,{path:"/session/:sessionId/message",element:e.jsx(br,{})}),e.jsx($,{path:"/session/:sessionId/audio",element:e.jsx(gr,{})}),e.jsx($,{path:"/session/:sessionId/video",element:e.jsx(pr,{})}),e.jsxs($,{element:e.jsx(kr,{}),children:[e.jsxs($,{element:e.jsx(Ee,{allowedRoles:["homeowner","estate"]}),children:[e.jsx($,{path:"/billing/paywall",element:e.jsx(Ia,{})}),e.jsx($,{path:"/billing/callback",element:e.jsx(Da,{})})]}),e.jsxs($,{element:e.jsx(Ee,{allowedRoles:["homeowner"]}),children:[e.jsx($,{path:"/dashboard/homeowner",element:e.jsx(be,{to:"/dashboard/homeowner/overview",replace:!0})}),e.jsx($,{path:"/dashboard/homeowner/overview",element:e.jsx(wa,{})}),e.jsx($,{path:"/dashboard/homeowner/visits",element:e.jsx(Sa,{})}),e.jsx($,{path:"/dashboard/homeowner/messages",element:e.jsx(Ca,{})}),e.jsx($,{path:"/dashboard/homeowner/doors",element:e.jsx(Pa,{})}),e.jsx($,{path:"/dashboard/homeowner/settings",element:e.jsx(Ma,{})})]}),e.jsxs($,{element:e.jsx(Ee,{allowedRoles:["estate"]}),children:[e.jsx($,{path:"/dashboard/estate",element:e.jsx(Va,{})}),e.jsx($,{path:"/dashboard/estate/create",element:e.jsx(Wa,{})}),e.jsx($,{path:"/dashboard/estate/doors",element:e.jsx(Ja,{})}),e.jsx($,{path:"/dashboard/estate/assign",element:e.jsx(Ya,{})}),e.jsx($,{path:"/dashboard/estate/invites",element:e.jsx(Ka,{})}),e.jsx($,{path:"/dashboard/estate/mappings",element:e.jsx(Za,{})}),e.jsx($,{path:"/dashboard/estate/logs",element:e.jsx(Xa,{})}),e.jsx($,{path:"/dashboard/estate/plan",element:e.jsx(er,{})}),e.jsx($,{path:"/dashboard/estate/homes",element:e.jsx(tr,{})})]}),e.jsxs($,{element:e.jsx(Ee,{allowedRoles:["admin"]}),children:[e.jsx($,{path:"/dashboard/admin",element:e.jsx(sr,{})}),e.jsx($,{path:"/dashboard/admin/users",element:e.jsx(lr,{})}),e.jsx($,{path:"/dashboard/admin/sessions",element:e.jsx(or,{})}),e.jsx($,{path:"/dashboard/admin/payments",element:e.jsx(ar,{})}),e.jsx($,{path:"/dashboard/admin/config",element:e.jsx(ir,{})}),e.jsx($,{path:"/dashboard/admin/audit",element:e.jsx(dr,{})})]})]}),e.jsx($,{path:"/unauthorized",element:e.jsx(fr,{})}),e.jsx($,{path:"/dashboard",element:e.jsx(be,{to:"/dashboard/homeowner/overview",replace:!0})}),e.jsx($,{path:"*",element:e.jsx(jr,{})})]})})})})}We.createRoot(document.getElementById("root")).render(e.jsx(Bt.StrictMode,{children:e.jsx(wr,{})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js")});
