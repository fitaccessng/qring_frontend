function wh(e,t){for(var s=0;s<t.length;s++){const n=t[s];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const l=Object.getOwnPropertyDescriptor(n,a);l&&Object.defineProperty(e,a,l.get?l:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function s(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(a){if(a.ep)return;a.ep=!0;const l=s(a);fetch(a.href,l)}})();function jh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Cc={exports:{}},ka={},Ec={exports:{}},J={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vr=Symbol.for("react.element"),Nh=Symbol.for("react.portal"),Sh=Symbol.for("react.fragment"),Ch=Symbol.for("react.strict_mode"),Eh=Symbol.for("react.profiler"),Ph=Symbol.for("react.provider"),_h=Symbol.for("react.context"),Rh=Symbol.for("react.forward_ref"),Th=Symbol.for("react.suspense"),Ah=Symbol.for("react.memo"),Lh=Symbol.for("react.lazy"),Ii=Symbol.iterator;function Oh(e){return e===null||typeof e!="object"?null:(e=Ii&&e[Ii]||e["@@iterator"],typeof e=="function"?e:null)}var Pc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_c=Object.assign,Rc={};function Hs(e,t,s){this.props=e,this.context=t,this.refs=Rc,this.updater=s||Pc}Hs.prototype.isReactComponent={};Hs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Hs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Tc(){}Tc.prototype=Hs.prototype;function Oo(e,t,s){this.props=e,this.context=t,this.refs=Rc,this.updater=s||Pc}var Mo=Oo.prototype=new Tc;Mo.constructor=Oo;_c(Mo,Hs.prototype);Mo.isPureReactComponent=!0;var Bi=Array.isArray,Ac=Object.prototype.hasOwnProperty,Do={current:null},Lc={key:!0,ref:!0,__self:!0,__source:!0};function Oc(e,t,s){var n,a={},l=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(l=""+t.key),t)Ac.call(t,n)&&!Lc.hasOwnProperty(n)&&(a[n]=t[n]);var i=arguments.length-2;if(i===1)a.children=s;else if(1<i){for(var d=Array(i),c=0;c<i;c++)d[c]=arguments[c+2];a.children=d}if(e&&e.defaultProps)for(n in i=e.defaultProps,i)a[n]===void 0&&(a[n]=i[n]);return{$$typeof:Vr,type:e,key:l,ref:o,props:a,_owner:Do.current}}function Mh(e,t){return{$$typeof:Vr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Io(e){return typeof e=="object"&&e!==null&&e.$$typeof===Vr}function Dh(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return t[s]})}var zi=/\/+/g;function Qa(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Dh(""+e.key):t.toString(36)}function Tn(e,t,s,n,a){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(l){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Vr:case Nh:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+Qa(o,0):n,Bi(a)?(s="",e!=null&&(s=e.replace(zi,"$&/")+"/"),Tn(a,t,s,"",function(c){return c})):a!=null&&(Io(a)&&(a=Mh(a,s+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(zi,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",Bi(e))for(var i=0;i<e.length;i++){l=e[i];var d=n+Qa(l,i);o+=Tn(l,t,s,d,a)}else if(d=Oh(e),typeof d=="function")for(e=d.call(e),i=0;!(l=e.next()).done;)l=l.value,d=n+Qa(l,i++),o+=Tn(l,t,s,d,a);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Zr(e,t,s){if(e==null)return e;var n=[],a=0;return Tn(e,n,"","",function(l){return t.call(s,l,a++)}),n}function Ih(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var _e={current:null},An={transition:null},Bh={ReactCurrentDispatcher:_e,ReactCurrentBatchConfig:An,ReactCurrentOwner:Do};function Mc(){throw Error("act(...) is not supported in production builds of React.")}J.Children={map:Zr,forEach:function(e,t,s){Zr(e,function(){t.apply(this,arguments)},s)},count:function(e){var t=0;return Zr(e,function(){t++}),t},toArray:function(e){return Zr(e,function(t){return t})||[]},only:function(e){if(!Io(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};J.Component=Hs;J.Fragment=Sh;J.Profiler=Eh;J.PureComponent=Oo;J.StrictMode=Ch;J.Suspense=Th;J.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Bh;J.act=Mc;J.cloneElement=function(e,t,s){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=_c({},e.props),a=e.key,l=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,o=Do.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var i=e.type.defaultProps;for(d in t)Ac.call(t,d)&&!Lc.hasOwnProperty(d)&&(n[d]=t[d]===void 0&&i!==void 0?i[d]:t[d])}var d=arguments.length-2;if(d===1)n.children=s;else if(1<d){i=Array(d);for(var c=0;c<d;c++)i[c]=arguments[c+2];n.children=i}return{$$typeof:Vr,type:e.type,key:a,ref:l,props:n,_owner:o}};J.createContext=function(e){return e={$$typeof:_h,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Ph,_context:e},e.Consumer=e};J.createElement=Oc;J.createFactory=function(e){var t=Oc.bind(null,e);return t.type=e,t};J.createRef=function(){return{current:null}};J.forwardRef=function(e){return{$$typeof:Rh,render:e}};J.isValidElement=Io;J.lazy=function(e){return{$$typeof:Lh,_payload:{_status:-1,_result:e},_init:Ih}};J.memo=function(e,t){return{$$typeof:Ah,type:e,compare:t===void 0?null:t}};J.startTransition=function(e){var t=An.transition;An.transition={};try{e()}finally{An.transition=t}};J.unstable_act=Mc;J.useCallback=function(e,t){return _e.current.useCallback(e,t)};J.useContext=function(e){return _e.current.useContext(e)};J.useDebugValue=function(){};J.useDeferredValue=function(e){return _e.current.useDeferredValue(e)};J.useEffect=function(e,t){return _e.current.useEffect(e,t)};J.useId=function(){return _e.current.useId()};J.useImperativeHandle=function(e,t,s){return _e.current.useImperativeHandle(e,t,s)};J.useInsertionEffect=function(e,t){return _e.current.useInsertionEffect(e,t)};J.useLayoutEffect=function(e,t){return _e.current.useLayoutEffect(e,t)};J.useMemo=function(e,t){return _e.current.useMemo(e,t)};J.useReducer=function(e,t,s){return _e.current.useReducer(e,t,s)};J.useRef=function(e){return _e.current.useRef(e)};J.useState=function(e){return _e.current.useState(e)};J.useSyncExternalStore=function(e,t,s){return _e.current.useSyncExternalStore(e,t,s)};J.useTransition=function(){return _e.current.useTransition()};J.version="18.3.1";Ec.exports=J;var u=Ec.exports;const Dc=jh(u),zh=wh({__proto__:null,default:Dc},[u]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uh=u,$h=Symbol.for("react.element"),Fh=Symbol.for("react.fragment"),qh=Object.prototype.hasOwnProperty,Qh=Uh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Hh={key:!0,ref:!0,__self:!0,__source:!0};function Ic(e,t,s){var n,a={},l=null,o=null;s!==void 0&&(l=""+s),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)qh.call(t,n)&&!Hh.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:$h,type:e,key:l,ref:o,props:a,_owner:Qh.current}}ka.Fragment=Fh;ka.jsx=Ic;ka.jsxs=Ic;Cc.exports=ka;var r=Cc.exports,_l={},Bc={exports:{}},Fe={},zc={exports:{}},Uc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(M,D){var z=M.length;M.push(D);e:for(;0<z;){var Y=z-1>>>1,w=M[Y];if(0<a(w,D))M[Y]=D,M[z]=w,z=Y;else break e}}function s(M){return M.length===0?null:M[0]}function n(M){if(M.length===0)return null;var D=M[0],z=M.pop();if(z!==D){M[0]=z;e:for(var Y=0,w=M.length,$=w>>>1;Y<$;){var U=2*(Y+1)-1,E=M[U],R=U+1,V=M[R];if(0>a(E,z))R<w&&0>a(V,E)?(M[Y]=V,M[R]=z,Y=R):(M[Y]=E,M[U]=z,Y=U);else if(R<w&&0>a(V,z))M[Y]=V,M[R]=z,Y=R;else break e}}return D}function a(M,D){var z=M.sortIndex-D.sortIndex;return z!==0?z:M.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var o=Date,i=o.now();e.unstable_now=function(){return o.now()-i}}var d=[],c=[],f=1,x=null,m=3,y=!1,v=!1,k=!1,S=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(M){for(var D=s(c);D!==null;){if(D.callback===null)n(c);else if(D.startTime<=M)n(c),D.sortIndex=D.expirationTime,t(d,D);else break;D=s(c)}}function b(M){if(k=!1,p(M),!v)if(s(d)!==null)v=!0,L(C);else{var D=s(c);D!==null&&H(b,D.startTime-M)}}function C(M,D){v=!1,k&&(k=!1,g(N),N=-1),y=!0;var z=m;try{for(p(D),x=s(d);x!==null&&(!(x.expirationTime>D)||M&&!I());){var Y=x.callback;if(typeof Y=="function"){x.callback=null,m=x.priorityLevel;var w=Y(x.expirationTime<=D);D=e.unstable_now(),typeof w=="function"?x.callback=w:x===s(d)&&n(d),p(D)}else n(d);x=s(d)}if(x!==null)var $=!0;else{var U=s(c);U!==null&&H(b,U.startTime-D),$=!1}return $}finally{x=null,m=z,y=!1}}var P=!1,_=null,N=-1,T=5,A=-1;function I(){return!(e.unstable_now()-A<T)}function Q(){if(_!==null){var M=e.unstable_now();A=M;var D=!0;try{D=_(!0,M)}finally{D?W():(P=!1,_=null)}}else P=!1}var W;if(typeof h=="function")W=function(){h(Q)};else if(typeof MessageChannel<"u"){var pe=new MessageChannel,he=pe.port2;pe.port1.onmessage=Q,W=function(){he.postMessage(null)}}else W=function(){S(Q,0)};function L(M){_=M,P||(P=!0,W())}function H(M,D){N=S(function(){M(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){v||y||(v=!0,L(C))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return s(d)},e.unstable_next=function(M){switch(m){case 1:case 2:case 3:var D=3;break;default:D=m}var z=m;m=D;try{return M()}finally{m=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,D){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var z=m;m=M;try{return D()}finally{m=z}},e.unstable_scheduleCallback=function(M,D,z){var Y=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?Y+z:Y):z=Y,M){case 1:var w=-1;break;case 2:w=250;break;case 5:w=1073741823;break;case 4:w=1e4;break;default:w=5e3}return w=z+w,M={id:f++,callback:D,priorityLevel:M,startTime:z,expirationTime:w,sortIndex:-1},z>Y?(M.sortIndex=z,t(c,M),s(d)===null&&M===s(c)&&(k?(g(N),N=-1):k=!0,H(b,z-Y))):(M.sortIndex=w,t(d,M),v||y||(v=!0,L(C))),M},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(M){var D=m;return function(){var z=m;m=D;try{return M.apply(this,arguments)}finally{m=z}}}})(Uc);zc.exports=Uc;var Vh=zc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wh=u,$e=Vh;function O(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var $c=new Set,Er={};function ms(e,t){Is(e,t),Is(e+"Capture",t)}function Is(e,t){for(Er[e]=t,e=0;e<t.length;e++)$c.add(t[e])}var kt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rl=Object.prototype.hasOwnProperty,Yh=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ui={},$i={};function Jh(e){return Rl.call($i,e)?!0:Rl.call(Ui,e)?!1:Yh.test(e)?$i[e]=!0:(Ui[e]=!0,!1)}function Kh(e,t,s,n){if(s!==null&&s.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Gh(e,t,s,n){if(t===null||typeof t>"u"||Kh(e,t,s,n))return!0;if(n)return!1;if(s!==null)switch(s.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Re(e,t,s,n,a,l,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=o}var ke={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ke[e]=new Re(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ke[t]=new Re(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ke[e]=new Re(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ke[e]=new Re(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ke[e]=new Re(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ke[e]=new Re(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ke[e]=new Re(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ke[e]=new Re(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ke[e]=new Re(e,5,!1,e.toLowerCase(),null,!1,!1)});var Bo=/[\-:]([a-z])/g;function zo(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Bo,zo);ke[t]=new Re(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Bo,zo);ke[t]=new Re(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Bo,zo);ke[t]=new Re(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ke[e]=new Re(e,1,!1,e.toLowerCase(),null,!1,!1)});ke.xlinkHref=new Re("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ke[e]=new Re(e,1,!1,e.toLowerCase(),null,!0,!0)});function Uo(e,t,s,n){var a=ke.hasOwnProperty(t)?ke[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Gh(t,s,a,n)&&(s=null),n||a===null?Jh(t)&&(s===null?e.removeAttribute(t):e.setAttribute(t,""+s)):a.mustUseProperty?e[a.propertyName]=s===null?a.type===3?!1:"":s:(t=a.attributeName,n=a.attributeNamespace,s===null?e.removeAttribute(t):(a=a.type,s=a===3||a===4&&s===!0?"":""+s,n?e.setAttributeNS(n,t,s):e.setAttribute(t,s))))}var St=Wh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,en=Symbol.for("react.element"),bs=Symbol.for("react.portal"),ys=Symbol.for("react.fragment"),$o=Symbol.for("react.strict_mode"),Tl=Symbol.for("react.profiler"),Fc=Symbol.for("react.provider"),qc=Symbol.for("react.context"),Fo=Symbol.for("react.forward_ref"),Al=Symbol.for("react.suspense"),Ll=Symbol.for("react.suspense_list"),qo=Symbol.for("react.memo"),Rt=Symbol.for("react.lazy"),Qc=Symbol.for("react.offscreen"),Fi=Symbol.iterator;function Zs(e){return e===null||typeof e!="object"?null:(e=Fi&&e[Fi]||e["@@iterator"],typeof e=="function"?e:null)}var oe=Object.assign,Ha;function mr(e){if(Ha===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);Ha=t&&t[1]||""}return`
`+Ha+e}var Va=!1;function Wa(e,t){if(!e||Va)return"";Va=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var a=c.stack.split(`
`),l=n.stack.split(`
`),o=a.length-1,i=l.length-1;1<=o&&0<=i&&a[o]!==l[i];)i--;for(;1<=o&&0<=i;o--,i--)if(a[o]!==l[i]){if(o!==1||i!==1)do if(o--,i--,0>i||a[o]!==l[i]){var d=`
`+a[o].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=o&&0<=i);break}}}finally{Va=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?mr(e):""}function Xh(e){switch(e.tag){case 5:return mr(e.type);case 16:return mr("Lazy");case 13:return mr("Suspense");case 19:return mr("SuspenseList");case 0:case 2:case 15:return e=Wa(e.type,!1),e;case 11:return e=Wa(e.type.render,!1),e;case 1:return e=Wa(e.type,!0),e;default:return""}}function Ol(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ys:return"Fragment";case bs:return"Portal";case Tl:return"Profiler";case $o:return"StrictMode";case Al:return"Suspense";case Ll:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case qc:return(e.displayName||"Context")+".Consumer";case Fc:return(e._context.displayName||"Context")+".Provider";case Fo:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case qo:return t=e.displayName||null,t!==null?t:Ol(e.type)||"Memo";case Rt:t=e._payload,e=e._init;try{return Ol(e(t))}catch{}}return null}function Zh(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ol(t);case 8:return t===$o?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Wt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Hc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ef(e){var t=Hc(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var a=s.get,l=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,l.call(this,o)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function tn(e){e._valueTracker||(e._valueTracker=ef(e))}function Vc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),n="";return e&&(n=Hc(e)?e.checked?"true":"false":e.value),e=n,e!==s?(t.setValue(e),!0):!1}function Wn(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ml(e,t){var s=t.checked;return oe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function qi(e,t){var s=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;s=Wt(t.value!=null?t.value:s),e._wrapperState={initialChecked:n,initialValue:s,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Wc(e,t){t=t.checked,t!=null&&Uo(e,"checked",t,!1)}function Dl(e,t){Wc(e,t);var s=Wt(t.value),n=t.type;if(s!=null)n==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Il(e,t.type,s):t.hasOwnProperty("defaultValue")&&Il(e,t.type,Wt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Qi(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function Il(e,t,s){(t!=="number"||Wn(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var hr=Array.isArray;function Rs(e,t,s,n){if(e=e.options,t){t={};for(var a=0;a<s.length;a++)t["$"+s[a]]=!0;for(s=0;s<e.length;s++)a=t.hasOwnProperty("$"+e[s].value),e[s].selected!==a&&(e[s].selected=a),a&&n&&(e[s].defaultSelected=!0)}else{for(s=""+Wt(s),t=null,a=0;a<e.length;a++){if(e[a].value===s){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Bl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(O(91));return oe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Hi(e,t){var s=t.value;if(s==null){if(s=t.children,t=t.defaultValue,s!=null){if(t!=null)throw Error(O(92));if(hr(s)){if(1<s.length)throw Error(O(93));s=s[0]}t=s}t==null&&(t=""),s=t}e._wrapperState={initialValue:Wt(s)}}function Yc(e,t){var s=Wt(t.value),n=Wt(t.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),t.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),n!=null&&(e.defaultValue=""+n)}function Vi(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Jc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Jc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var sn,Kc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,s,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,s,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(sn=sn||document.createElement("div"),sn.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=sn.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Pr(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var gr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tf=["Webkit","ms","Moz","O"];Object.keys(gr).forEach(function(e){tf.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),gr[t]=gr[e]})});function Gc(e,t,s){return t==null||typeof t=="boolean"||t===""?"":s||typeof t!="number"||t===0||gr.hasOwnProperty(e)&&gr[e]?(""+t).trim():t+"px"}function Xc(e,t){e=e.style;for(var s in t)if(t.hasOwnProperty(s)){var n=s.indexOf("--")===0,a=Gc(s,t[s],n);s==="float"&&(s="cssFloat"),n?e.setProperty(s,a):e[s]=a}}var sf=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ul(e,t){if(t){if(sf[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(O(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(O(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(O(61))}if(t.style!=null&&typeof t.style!="object")throw Error(O(62))}}function $l(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fl=null;function Qo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ql=null,Ts=null,As=null;function Wi(e){if(e=Jr(e)){if(typeof ql!="function")throw Error(O(280));var t=e.stateNode;t&&(t=Ca(t),ql(e.stateNode,e.type,t))}}function Zc(e){Ts?As?As.push(e):As=[e]:Ts=e}function eu(){if(Ts){var e=Ts,t=As;if(As=Ts=null,Wi(e),t)for(e=0;e<t.length;e++)Wi(t[e])}}function tu(e,t){return e(t)}function su(){}var Ya=!1;function ru(e,t,s){if(Ya)return e(t,s);Ya=!0;try{return tu(e,t,s)}finally{Ya=!1,(Ts!==null||As!==null)&&(su(),eu())}}function _r(e,t){var s=e.stateNode;if(s===null)return null;var n=Ca(s);if(n===null)return null;s=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(O(231,t,typeof s));return s}var Ql=!1;if(kt)try{var er={};Object.defineProperty(er,"passive",{get:function(){Ql=!0}}),window.addEventListener("test",er,er),window.removeEventListener("test",er,er)}catch{Ql=!1}function rf(e,t,s,n,a,l,o,i,d){var c=Array.prototype.slice.call(arguments,3);try{t.apply(s,c)}catch(f){this.onError(f)}}var br=!1,Yn=null,Jn=!1,Hl=null,nf={onError:function(e){br=!0,Yn=e}};function af(e,t,s,n,a,l,o,i,d){br=!1,Yn=null,rf.apply(nf,arguments)}function lf(e,t,s,n,a,l,o,i,d){if(af.apply(this,arguments),br){if(br){var c=Yn;br=!1,Yn=null}else throw Error(O(198));Jn||(Jn=!0,Hl=c)}}function hs(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function nu(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Yi(e){if(hs(e)!==e)throw Error(O(188))}function of(e){var t=e.alternate;if(!t){if(t=hs(e),t===null)throw Error(O(188));return t!==e?null:e}for(var s=e,n=t;;){var a=s.return;if(a===null)break;var l=a.alternate;if(l===null){if(n=a.return,n!==null){s=n;continue}break}if(a.child===l.child){for(l=a.child;l;){if(l===s)return Yi(a),e;if(l===n)return Yi(a),t;l=l.sibling}throw Error(O(188))}if(s.return!==n.return)s=a,n=l;else{for(var o=!1,i=a.child;i;){if(i===s){o=!0,s=a,n=l;break}if(i===n){o=!0,n=a,s=l;break}i=i.sibling}if(!o){for(i=l.child;i;){if(i===s){o=!0,s=l,n=a;break}if(i===n){o=!0,n=l,s=a;break}i=i.sibling}if(!o)throw Error(O(189))}}if(s.alternate!==n)throw Error(O(190))}if(s.tag!==3)throw Error(O(188));return s.stateNode.current===s?e:t}function au(e){return e=of(e),e!==null?lu(e):null}function lu(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=lu(e);if(t!==null)return t;e=e.sibling}return null}var ou=$e.unstable_scheduleCallback,Ji=$e.unstable_cancelCallback,df=$e.unstable_shouldYield,cf=$e.unstable_requestPaint,de=$e.unstable_now,uf=$e.unstable_getCurrentPriorityLevel,Ho=$e.unstable_ImmediatePriority,iu=$e.unstable_UserBlockingPriority,Kn=$e.unstable_NormalPriority,mf=$e.unstable_LowPriority,du=$e.unstable_IdlePriority,wa=null,ct=null;function hf(e){if(ct&&typeof ct.onCommitFiberRoot=="function")try{ct.onCommitFiberRoot(wa,e,void 0,(e.current.flags&128)===128)}catch{}}var rt=Math.clz32?Math.clz32:pf,ff=Math.log,xf=Math.LN2;function pf(e){return e>>>=0,e===0?32:31-(ff(e)/xf|0)|0}var rn=64,nn=4194304;function fr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Gn(e,t){var s=e.pendingLanes;if(s===0)return 0;var n=0,a=e.suspendedLanes,l=e.pingedLanes,o=s&268435455;if(o!==0){var i=o&~a;i!==0?n=fr(i):(l&=o,l!==0&&(n=fr(l)))}else o=s&~a,o!==0?n=fr(o):l!==0&&(n=fr(l));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,l=t&-t,a>=l||a===16&&(l&4194240)!==0))return t;if(n&4&&(n|=s&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)s=31-rt(t),a=1<<s,n|=e[s],t&=~a;return n}function gf(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bf(e,t){for(var s=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,l=e.pendingLanes;0<l;){var o=31-rt(l),i=1<<o,d=a[o];d===-1?(!(i&s)||i&n)&&(a[o]=gf(i,t)):d<=t&&(e.expiredLanes|=i),l&=~i}}function Vl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function cu(){var e=rn;return rn<<=1,!(rn&4194240)&&(rn=64),e}function Ja(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function Wr(e,t,s){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-rt(t),e[t]=s}function yf(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<s;){var a=31-rt(s),l=1<<a;t[a]=0,n[a]=-1,e[a]=-1,s&=~l}}function Vo(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var n=31-rt(s),a=1<<n;a&t|e[n]&t&&(e[n]|=t),s&=~a}}var X=0;function uu(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var mu,Wo,hu,fu,xu,Wl=!1,an=[],It=null,Bt=null,zt=null,Rr=new Map,Tr=new Map,At=[],vf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ki(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":Bt=null;break;case"mouseover":case"mouseout":zt=null;break;case"pointerover":case"pointerout":Rr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tr.delete(t.pointerId)}}function tr(e,t,s,n,a,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:s,eventSystemFlags:n,nativeEvent:l,targetContainers:[a]},t!==null&&(t=Jr(t),t!==null&&Wo(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function kf(e,t,s,n,a){switch(t){case"focusin":return It=tr(It,e,t,s,n,a),!0;case"dragenter":return Bt=tr(Bt,e,t,s,n,a),!0;case"mouseover":return zt=tr(zt,e,t,s,n,a),!0;case"pointerover":var l=a.pointerId;return Rr.set(l,tr(Rr.get(l)||null,e,t,s,n,a)),!0;case"gotpointercapture":return l=a.pointerId,Tr.set(l,tr(Tr.get(l)||null,e,t,s,n,a)),!0}return!1}function pu(e){var t=ts(e.target);if(t!==null){var s=hs(t);if(s!==null){if(t=s.tag,t===13){if(t=nu(s),t!==null){e.blockedOn=t,xu(e.priority,function(){hu(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ln(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=Yl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var n=new s.constructor(s.type,s);Fl=n,s.target.dispatchEvent(n),Fl=null}else return t=Jr(s),t!==null&&Wo(t),e.blockedOn=s,!1;t.shift()}return!0}function Gi(e,t,s){Ln(e)&&s.delete(t)}function wf(){Wl=!1,It!==null&&Ln(It)&&(It=null),Bt!==null&&Ln(Bt)&&(Bt=null),zt!==null&&Ln(zt)&&(zt=null),Rr.forEach(Gi),Tr.forEach(Gi)}function sr(e,t){e.blockedOn===t&&(e.blockedOn=null,Wl||(Wl=!0,$e.unstable_scheduleCallback($e.unstable_NormalPriority,wf)))}function Ar(e){function t(a){return sr(a,e)}if(0<an.length){sr(an[0],e);for(var s=1;s<an.length;s++){var n=an[s];n.blockedOn===e&&(n.blockedOn=null)}}for(It!==null&&sr(It,e),Bt!==null&&sr(Bt,e),zt!==null&&sr(zt,e),Rr.forEach(t),Tr.forEach(t),s=0;s<At.length;s++)n=At[s],n.blockedOn===e&&(n.blockedOn=null);for(;0<At.length&&(s=At[0],s.blockedOn===null);)pu(s),s.blockedOn===null&&At.shift()}var Ls=St.ReactCurrentBatchConfig,Xn=!0;function jf(e,t,s,n){var a=X,l=Ls.transition;Ls.transition=null;try{X=1,Yo(e,t,s,n)}finally{X=a,Ls.transition=l}}function Nf(e,t,s,n){var a=X,l=Ls.transition;Ls.transition=null;try{X=4,Yo(e,t,s,n)}finally{X=a,Ls.transition=l}}function Yo(e,t,s,n){if(Xn){var a=Yl(e,t,s,n);if(a===null)al(e,t,n,Zn,s),Ki(e,n);else if(kf(a,e,t,s,n))n.stopPropagation();else if(Ki(e,n),t&4&&-1<vf.indexOf(e)){for(;a!==null;){var l=Jr(a);if(l!==null&&mu(l),l=Yl(e,t,s,n),l===null&&al(e,t,n,Zn,s),l===a)break;a=l}a!==null&&n.stopPropagation()}else al(e,t,n,null,s)}}var Zn=null;function Yl(e,t,s,n){if(Zn=null,e=Qo(n),e=ts(e),e!==null)if(t=hs(e),t===null)e=null;else if(s=t.tag,s===13){if(e=nu(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Zn=e,null}function gu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(uf()){case Ho:return 1;case iu:return 4;case Kn:case mf:return 16;case du:return 536870912;default:return 16}default:return 16}}var Ot=null,Jo=null,On=null;function bu(){if(On)return On;var e,t=Jo,s=t.length,n,a="value"in Ot?Ot.value:Ot.textContent,l=a.length;for(e=0;e<s&&t[e]===a[e];e++);var o=s-e;for(n=1;n<=o&&t[s-n]===a[l-n];n++);return On=a.slice(e,1<n?1-n:void 0)}function Mn(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ln(){return!0}function Xi(){return!1}function qe(e){function t(s,n,a,l,o){this._reactName=s,this._targetInst=a,this.type=n,this.nativeEvent=l,this.target=o,this.currentTarget=null;for(var i in e)e.hasOwnProperty(i)&&(s=e[i],this[i]=s?s(l):l[i]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?ln:Xi,this.isPropagationStopped=Xi,this}return oe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ln)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ln)},persist:function(){},isPersistent:ln}),t}var Vs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ko=qe(Vs),Yr=oe({},Vs,{view:0,detail:0}),Sf=qe(Yr),Ka,Ga,rr,ja=oe({},Yr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Go,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==rr&&(rr&&e.type==="mousemove"?(Ka=e.screenX-rr.screenX,Ga=e.screenY-rr.screenY):Ga=Ka=0,rr=e),Ka)},movementY:function(e){return"movementY"in e?e.movementY:Ga}}),Zi=qe(ja),Cf=oe({},ja,{dataTransfer:0}),Ef=qe(Cf),Pf=oe({},Yr,{relatedTarget:0}),Xa=qe(Pf),_f=oe({},Vs,{animationName:0,elapsedTime:0,pseudoElement:0}),Rf=qe(_f),Tf=oe({},Vs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Af=qe(Tf),Lf=oe({},Vs,{data:0}),ed=qe(Lf),Of={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Df={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function If(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Df[e])?!!t[e]:!1}function Go(){return If}var Bf=oe({},Yr,{key:function(e){if(e.key){var t=Of[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Mn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Mf[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Go,charCode:function(e){return e.type==="keypress"?Mn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Mn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),zf=qe(Bf),Uf=oe({},ja,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),td=qe(Uf),$f=oe({},Yr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Go}),Ff=qe($f),qf=oe({},Vs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qf=qe(qf),Hf=oe({},ja,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Vf=qe(Hf),Wf=[9,13,27,32],Xo=kt&&"CompositionEvent"in window,yr=null;kt&&"documentMode"in document&&(yr=document.documentMode);var Yf=kt&&"TextEvent"in window&&!yr,yu=kt&&(!Xo||yr&&8<yr&&11>=yr),sd=" ",rd=!1;function vu(e,t){switch(e){case"keyup":return Wf.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ku(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var vs=!1;function Jf(e,t){switch(e){case"compositionend":return ku(t);case"keypress":return t.which!==32?null:(rd=!0,sd);case"textInput":return e=t.data,e===sd&&rd?null:e;default:return null}}function Kf(e,t){if(vs)return e==="compositionend"||!Xo&&vu(e,t)?(e=bu(),On=Jo=Ot=null,vs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return yu&&t.locale!=="ko"?null:t.data;default:return null}}var Gf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Gf[e.type]:t==="textarea"}function wu(e,t,s,n){Zc(n),t=ea(t,"onChange"),0<t.length&&(s=new Ko("onChange","change",null,s,n),e.push({event:s,listeners:t}))}var vr=null,Lr=null;function Xf(e){Lu(e,0)}function Na(e){var t=js(e);if(Vc(t))return e}function Zf(e,t){if(e==="change")return t}var ju=!1;if(kt){var Za;if(kt){var el="oninput"in document;if(!el){var ad=document.createElement("div");ad.setAttribute("oninput","return;"),el=typeof ad.oninput=="function"}Za=el}else Za=!1;ju=Za&&(!document.documentMode||9<document.documentMode)}function ld(){vr&&(vr.detachEvent("onpropertychange",Nu),Lr=vr=null)}function Nu(e){if(e.propertyName==="value"&&Na(Lr)){var t=[];wu(t,Lr,e,Qo(e)),ru(Xf,t)}}function e0(e,t,s){e==="focusin"?(ld(),vr=t,Lr=s,vr.attachEvent("onpropertychange",Nu)):e==="focusout"&&ld()}function t0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Na(Lr)}function s0(e,t){if(e==="click")return Na(t)}function r0(e,t){if(e==="input"||e==="change")return Na(t)}function n0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var lt=typeof Object.is=="function"?Object.is:n0;function Or(e,t){if(lt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),n=Object.keys(t);if(s.length!==n.length)return!1;for(n=0;n<s.length;n++){var a=s[n];if(!Rl.call(t,a)||!lt(e[a],t[a]))return!1}return!0}function od(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function id(e,t){var s=od(e);e=0;for(var n;s;){if(s.nodeType===3){if(n=e+s.textContent.length,e<=t&&n>=t)return{node:s,offset:t-e};e=n}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=od(s)}}function Su(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Su(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Cu(){for(var e=window,t=Wn();t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=Wn(e.document)}return t}function Zo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function a0(e){var t=Cu(),s=e.focusedElem,n=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&Su(s.ownerDocument.documentElement,s)){if(n!==null&&Zo(s)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if(e=(t=s.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=s.textContent.length,l=Math.min(n.start,a);n=n.end===void 0?l:Math.min(n.end,a),!e.extend&&l>n&&(a=n,n=l,l=a),a=id(s,l);var o=id(s,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),l>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=s;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<t.length;s++)e=t[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var l0=kt&&"documentMode"in document&&11>=document.documentMode,ks=null,Jl=null,kr=null,Kl=!1;function dd(e,t,s){var n=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Kl||ks==null||ks!==Wn(n)||(n=ks,"selectionStart"in n&&Zo(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),kr&&Or(kr,n)||(kr=n,n=ea(Jl,"onSelect"),0<n.length&&(t=new Ko("onSelect","select",null,t,s),e.push({event:t,listeners:n}),t.target=ks)))}function on(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var ws={animationend:on("Animation","AnimationEnd"),animationiteration:on("Animation","AnimationIteration"),animationstart:on("Animation","AnimationStart"),transitionend:on("Transition","TransitionEnd")},tl={},Eu={};kt&&(Eu=document.createElement("div").style,"AnimationEvent"in window||(delete ws.animationend.animation,delete ws.animationiteration.animation,delete ws.animationstart.animation),"TransitionEvent"in window||delete ws.transitionend.transition);function Sa(e){if(tl[e])return tl[e];if(!ws[e])return e;var t=ws[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in Eu)return tl[e]=t[s];return e}var Pu=Sa("animationend"),_u=Sa("animationiteration"),Ru=Sa("animationstart"),Tu=Sa("transitionend"),Au=new Map,cd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Jt(e,t){Au.set(e,t),ms(t,[e])}for(var sl=0;sl<cd.length;sl++){var rl=cd[sl],o0=rl.toLowerCase(),i0=rl[0].toUpperCase()+rl.slice(1);Jt(o0,"on"+i0)}Jt(Pu,"onAnimationEnd");Jt(_u,"onAnimationIteration");Jt(Ru,"onAnimationStart");Jt("dblclick","onDoubleClick");Jt("focusin","onFocus");Jt("focusout","onBlur");Jt(Tu,"onTransitionEnd");Is("onMouseEnter",["mouseout","mouseover"]);Is("onMouseLeave",["mouseout","mouseover"]);Is("onPointerEnter",["pointerout","pointerover"]);Is("onPointerLeave",["pointerout","pointerover"]);ms("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ms("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ms("onBeforeInput",["compositionend","keypress","textInput","paste"]);ms("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ms("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ms("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),d0=new Set("cancel close invalid load scroll toggle".split(" ").concat(xr));function ud(e,t,s){var n=e.type||"unknown-event";e.currentTarget=s,lf(n,t,void 0,e),e.currentTarget=null}function Lu(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var n=e[s],a=n.event;n=n.listeners;e:{var l=void 0;if(t)for(var o=n.length-1;0<=o;o--){var i=n[o],d=i.instance,c=i.currentTarget;if(i=i.listener,d!==l&&a.isPropagationStopped())break e;ud(a,i,c),l=d}else for(o=0;o<n.length;o++){if(i=n[o],d=i.instance,c=i.currentTarget,i=i.listener,d!==l&&a.isPropagationStopped())break e;ud(a,i,c),l=d}}}if(Jn)throw e=Hl,Jn=!1,Hl=null,e}function te(e,t){var s=t[to];s===void 0&&(s=t[to]=new Set);var n=e+"__bubble";s.has(n)||(Ou(t,e,2,!1),s.add(n))}function nl(e,t,s){var n=0;t&&(n|=4),Ou(s,e,n,t)}var dn="_reactListening"+Math.random().toString(36).slice(2);function Mr(e){if(!e[dn]){e[dn]=!0,$c.forEach(function(s){s!=="selectionchange"&&(d0.has(s)||nl(s,!1,e),nl(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[dn]||(t[dn]=!0,nl("selectionchange",!1,t))}}function Ou(e,t,s,n){switch(gu(t)){case 1:var a=jf;break;case 4:a=Nf;break;default:a=Yo}s=a.bind(null,t,s,e),a=void 0,!Ql||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,s,{capture:!0,passive:a}):e.addEventListener(t,s,!0):a!==void 0?e.addEventListener(t,s,{passive:a}):e.addEventListener(t,s,!1)}function al(e,t,s,n,a){var l=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var i=n.stateNode.containerInfo;if(i===a||i.nodeType===8&&i.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var d=o.tag;if((d===3||d===4)&&(d=o.stateNode.containerInfo,d===a||d.nodeType===8&&d.parentNode===a))return;o=o.return}for(;i!==null;){if(o=ts(i),o===null)return;if(d=o.tag,d===5||d===6){n=l=o;continue e}i=i.parentNode}}n=n.return}ru(function(){var c=l,f=Qo(s),x=[];e:{var m=Au.get(e);if(m!==void 0){var y=Ko,v=e;switch(e){case"keypress":if(Mn(s)===0)break e;case"keydown":case"keyup":y=zf;break;case"focusin":v="focus",y=Xa;break;case"focusout":v="blur",y=Xa;break;case"beforeblur":case"afterblur":y=Xa;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Zi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Ef;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=Ff;break;case Pu:case _u:case Ru:y=Rf;break;case Tu:y=Qf;break;case"scroll":y=Sf;break;case"wheel":y=Vf;break;case"copy":case"cut":case"paste":y=Af;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=td}var k=(t&4)!==0,S=!k&&e==="scroll",g=k?m!==null?m+"Capture":null:m;k=[];for(var h=c,p;h!==null;){p=h;var b=p.stateNode;if(p.tag===5&&b!==null&&(p=b,g!==null&&(b=_r(h,g),b!=null&&k.push(Dr(h,b,p)))),S)break;h=h.return}0<k.length&&(m=new y(m,v,null,s,f),x.push({event:m,listeners:k}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",m&&s!==Fl&&(v=s.relatedTarget||s.fromElement)&&(ts(v)||v[wt]))break e;if((y||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,y?(v=s.relatedTarget||s.toElement,y=c,v=v?ts(v):null,v!==null&&(S=hs(v),v!==S||v.tag!==5&&v.tag!==6)&&(v=null)):(y=null,v=c),y!==v)){if(k=Zi,b="onMouseLeave",g="onMouseEnter",h="mouse",(e==="pointerout"||e==="pointerover")&&(k=td,b="onPointerLeave",g="onPointerEnter",h="pointer"),S=y==null?m:js(y),p=v==null?m:js(v),m=new k(b,h+"leave",y,s,f),m.target=S,m.relatedTarget=p,b=null,ts(f)===c&&(k=new k(g,h+"enter",v,s,f),k.target=p,k.relatedTarget=S,b=k),S=b,y&&v)t:{for(k=y,g=v,h=0,p=k;p;p=xs(p))h++;for(p=0,b=g;b;b=xs(b))p++;for(;0<h-p;)k=xs(k),h--;for(;0<p-h;)g=xs(g),p--;for(;h--;){if(k===g||g!==null&&k===g.alternate)break t;k=xs(k),g=xs(g)}k=null}else k=null;y!==null&&md(x,m,y,k,!1),v!==null&&S!==null&&md(x,S,v,k,!0)}}e:{if(m=c?js(c):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var C=Zf;else if(nd(m))if(ju)C=r0;else{C=t0;var P=e0}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(C=s0);if(C&&(C=C(e,c))){wu(x,C,s,f);break e}P&&P(e,m,c),e==="focusout"&&(P=m._wrapperState)&&P.controlled&&m.type==="number"&&Il(m,"number",m.value)}switch(P=c?js(c):window,e){case"focusin":(nd(P)||P.contentEditable==="true")&&(ks=P,Jl=c,kr=null);break;case"focusout":kr=Jl=ks=null;break;case"mousedown":Kl=!0;break;case"contextmenu":case"mouseup":case"dragend":Kl=!1,dd(x,s,f);break;case"selectionchange":if(l0)break;case"keydown":case"keyup":dd(x,s,f)}var _;if(Xo)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else vs?vu(e,s)&&(N="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(N="onCompositionStart");N&&(yu&&s.locale!=="ko"&&(vs||N!=="onCompositionStart"?N==="onCompositionEnd"&&vs&&(_=bu()):(Ot=f,Jo="value"in Ot?Ot.value:Ot.textContent,vs=!0)),P=ea(c,N),0<P.length&&(N=new ed(N,e,null,s,f),x.push({event:N,listeners:P}),_?N.data=_:(_=ku(s),_!==null&&(N.data=_)))),(_=Yf?Jf(e,s):Kf(e,s))&&(c=ea(c,"onBeforeInput"),0<c.length&&(f=new ed("onBeforeInput","beforeinput",null,s,f),x.push({event:f,listeners:c}),f.data=_))}Lu(x,t)})}function Dr(e,t,s){return{instance:e,listener:t,currentTarget:s}}function ea(e,t){for(var s=t+"Capture",n=[];e!==null;){var a=e,l=a.stateNode;a.tag===5&&l!==null&&(a=l,l=_r(e,s),l!=null&&n.unshift(Dr(e,l,a)),l=_r(e,t),l!=null&&n.push(Dr(e,l,a))),e=e.return}return n}function xs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function md(e,t,s,n,a){for(var l=t._reactName,o=[];s!==null&&s!==n;){var i=s,d=i.alternate,c=i.stateNode;if(d!==null&&d===n)break;i.tag===5&&c!==null&&(i=c,a?(d=_r(s,l),d!=null&&o.unshift(Dr(s,d,i))):a||(d=_r(s,l),d!=null&&o.push(Dr(s,d,i)))),s=s.return}o.length!==0&&e.push({event:t,listeners:o})}var c0=/\r\n?/g,u0=/\u0000|\uFFFD/g;function hd(e){return(typeof e=="string"?e:""+e).replace(c0,`
`).replace(u0,"")}function cn(e,t,s){if(t=hd(t),hd(e)!==t&&s)throw Error(O(425))}function ta(){}var Gl=null,Xl=null;function Zl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var eo=typeof setTimeout=="function"?setTimeout:void 0,m0=typeof clearTimeout=="function"?clearTimeout:void 0,fd=typeof Promise=="function"?Promise:void 0,h0=typeof queueMicrotask=="function"?queueMicrotask:typeof fd<"u"?function(e){return fd.resolve(null).then(e).catch(f0)}:eo;function f0(e){setTimeout(function(){throw e})}function ll(e,t){var s=t,n=0;do{var a=s.nextSibling;if(e.removeChild(s),a&&a.nodeType===8)if(s=a.data,s==="/$"){if(n===0){e.removeChild(a),Ar(t);return}n--}else s!=="$"&&s!=="$?"&&s!=="$!"||n++;s=a}while(s);Ar(t)}function Ut(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function xd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(t===0)return e;t--}else s==="/$"&&t++}e=e.previousSibling}return null}var Ws=Math.random().toString(36).slice(2),dt="__reactFiber$"+Ws,Ir="__reactProps$"+Ws,wt="__reactContainer$"+Ws,to="__reactEvents$"+Ws,x0="__reactListeners$"+Ws,p0="__reactHandles$"+Ws;function ts(e){var t=e[dt];if(t)return t;for(var s=e.parentNode;s;){if(t=s[wt]||s[dt]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=xd(e);e!==null;){if(s=e[dt])return s;e=xd(e)}return t}e=s,s=e.parentNode}return null}function Jr(e){return e=e[dt]||e[wt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function js(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(O(33))}function Ca(e){return e[Ir]||null}var so=[],Ns=-1;function Kt(e){return{current:e}}function se(e){0>Ns||(e.current=so[Ns],so[Ns]=null,Ns--)}function ee(e,t){Ns++,so[Ns]=e.current,e.current=t}var Yt={},Se=Kt(Yt),Me=Kt(!1),os=Yt;function Bs(e,t){var s=e.type.contextTypes;if(!s)return Yt;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},l;for(l in s)a[l]=t[l];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function De(e){return e=e.childContextTypes,e!=null}function sa(){se(Me),se(Se)}function pd(e,t,s){if(Se.current!==Yt)throw Error(O(168));ee(Se,t),ee(Me,s)}function Mu(e,t,s){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return s;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(O(108,Zh(e)||"Unknown",a));return oe({},s,n)}function ra(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Yt,os=Se.current,ee(Se,e),ee(Me,Me.current),!0}function gd(e,t,s){var n=e.stateNode;if(!n)throw Error(O(169));s?(e=Mu(e,t,os),n.__reactInternalMemoizedMergedChildContext=e,se(Me),se(Se),ee(Se,e)):se(Me),ee(Me,s)}var gt=null,Ea=!1,ol=!1;function Du(e){gt===null?gt=[e]:gt.push(e)}function g0(e){Ea=!0,Du(e)}function Gt(){if(!ol&&gt!==null){ol=!0;var e=0,t=X;try{var s=gt;for(X=1;e<s.length;e++){var n=s[e];do n=n(!0);while(n!==null)}gt=null,Ea=!1}catch(a){throw gt!==null&&(gt=gt.slice(e+1)),ou(Ho,Gt),a}finally{X=t,ol=!1}}return null}var Ss=[],Cs=0,na=null,aa=0,Qe=[],He=0,is=null,bt=1,yt="";function Zt(e,t){Ss[Cs++]=aa,Ss[Cs++]=na,na=e,aa=t}function Iu(e,t,s){Qe[He++]=bt,Qe[He++]=yt,Qe[He++]=is,is=e;var n=bt;e=yt;var a=32-rt(n)-1;n&=~(1<<a),s+=1;var l=32-rt(t)+a;if(30<l){var o=a-a%5;l=(n&(1<<o)-1).toString(32),n>>=o,a-=o,bt=1<<32-rt(t)+a|s<<a|n,yt=l+e}else bt=1<<l|s<<a|n,yt=e}function ei(e){e.return!==null&&(Zt(e,1),Iu(e,1,0))}function ti(e){for(;e===na;)na=Ss[--Cs],Ss[Cs]=null,aa=Ss[--Cs],Ss[Cs]=null;for(;e===is;)is=Qe[--He],Qe[He]=null,yt=Qe[--He],Qe[He]=null,bt=Qe[--He],Qe[He]=null}var Ue=null,ze=null,re=!1,st=null;function Bu(e,t){var s=We(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,t=e.deletions,t===null?(e.deletions=[s],e.flags|=16):t.push(s)}function bd(e,t){switch(e.tag){case 5:var s=e.type;return t=t.nodeType!==1||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ue=e,ze=Ut(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ue=e,ze=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(s=is!==null?{id:bt,overflow:yt}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},s=We(18,null,null,0),s.stateNode=t,s.return=e,e.child=s,Ue=e,ze=null,!0):!1;default:return!1}}function ro(e){return(e.mode&1)!==0&&(e.flags&128)===0}function no(e){if(re){var t=ze;if(t){var s=t;if(!bd(e,t)){if(ro(e))throw Error(O(418));t=Ut(s.nextSibling);var n=Ue;t&&bd(e,t)?Bu(n,s):(e.flags=e.flags&-4097|2,re=!1,Ue=e)}}else{if(ro(e))throw Error(O(418));e.flags=e.flags&-4097|2,re=!1,Ue=e}}}function yd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ue=e}function un(e){if(e!==Ue)return!1;if(!re)return yd(e),re=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Zl(e.type,e.memoizedProps)),t&&(t=ze)){if(ro(e))throw zu(),Error(O(418));for(;t;)Bu(e,t),t=Ut(t.nextSibling)}if(yd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(O(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(t===0){ze=Ut(e.nextSibling);break e}t--}else s!=="$"&&s!=="$!"&&s!=="$?"||t++}e=e.nextSibling}ze=null}}else ze=Ue?Ut(e.stateNode.nextSibling):null;return!0}function zu(){for(var e=ze;e;)e=Ut(e.nextSibling)}function zs(){ze=Ue=null,re=!1}function si(e){st===null?st=[e]:st.push(e)}var b0=St.ReactCurrentBatchConfig;function nr(e,t,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(O(309));var n=s.stateNode}if(!n)throw Error(O(147,e));var a=n,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(o){var i=a.refs;o===null?delete i[l]:i[l]=o},t._stringRef=l,t)}if(typeof e!="string")throw Error(O(284));if(!s._owner)throw Error(O(290,e))}return e}function mn(e,t){throw e=Object.prototype.toString.call(t),Error(O(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vd(e){var t=e._init;return t(e._payload)}function Uu(e){function t(g,h){if(e){var p=g.deletions;p===null?(g.deletions=[h],g.flags|=16):p.push(h)}}function s(g,h){if(!e)return null;for(;h!==null;)t(g,h),h=h.sibling;return null}function n(g,h){for(g=new Map;h!==null;)h.key!==null?g.set(h.key,h):g.set(h.index,h),h=h.sibling;return g}function a(g,h){return g=Qt(g,h),g.index=0,g.sibling=null,g}function l(g,h,p){return g.index=p,e?(p=g.alternate,p!==null?(p=p.index,p<h?(g.flags|=2,h):p):(g.flags|=2,h)):(g.flags|=1048576,h)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function i(g,h,p,b){return h===null||h.tag!==6?(h=fl(p,g.mode,b),h.return=g,h):(h=a(h,p),h.return=g,h)}function d(g,h,p,b){var C=p.type;return C===ys?f(g,h,p.props.children,b,p.key):h!==null&&(h.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Rt&&vd(C)===h.type)?(b=a(h,p.props),b.ref=nr(g,h,p),b.return=g,b):(b=Fn(p.type,p.key,p.props,null,g.mode,b),b.ref=nr(g,h,p),b.return=g,b)}function c(g,h,p,b){return h===null||h.tag!==4||h.stateNode.containerInfo!==p.containerInfo||h.stateNode.implementation!==p.implementation?(h=xl(p,g.mode,b),h.return=g,h):(h=a(h,p.children||[]),h.return=g,h)}function f(g,h,p,b,C){return h===null||h.tag!==7?(h=ls(p,g.mode,b,C),h.return=g,h):(h=a(h,p),h.return=g,h)}function x(g,h,p){if(typeof h=="string"&&h!==""||typeof h=="number")return h=fl(""+h,g.mode,p),h.return=g,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case en:return p=Fn(h.type,h.key,h.props,null,g.mode,p),p.ref=nr(g,null,h),p.return=g,p;case bs:return h=xl(h,g.mode,p),h.return=g,h;case Rt:var b=h._init;return x(g,b(h._payload),p)}if(hr(h)||Zs(h))return h=ls(h,g.mode,p,null),h.return=g,h;mn(g,h)}return null}function m(g,h,p,b){var C=h!==null?h.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return C!==null?null:i(g,h,""+p,b);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case en:return p.key===C?d(g,h,p,b):null;case bs:return p.key===C?c(g,h,p,b):null;case Rt:return C=p._init,m(g,h,C(p._payload),b)}if(hr(p)||Zs(p))return C!==null?null:f(g,h,p,b,null);mn(g,p)}return null}function y(g,h,p,b,C){if(typeof b=="string"&&b!==""||typeof b=="number")return g=g.get(p)||null,i(h,g,""+b,C);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case en:return g=g.get(b.key===null?p:b.key)||null,d(h,g,b,C);case bs:return g=g.get(b.key===null?p:b.key)||null,c(h,g,b,C);case Rt:var P=b._init;return y(g,h,p,P(b._payload),C)}if(hr(b)||Zs(b))return g=g.get(p)||null,f(h,g,b,C,null);mn(h,b)}return null}function v(g,h,p,b){for(var C=null,P=null,_=h,N=h=0,T=null;_!==null&&N<p.length;N++){_.index>N?(T=_,_=null):T=_.sibling;var A=m(g,_,p[N],b);if(A===null){_===null&&(_=T);break}e&&_&&A.alternate===null&&t(g,_),h=l(A,h,N),P===null?C=A:P.sibling=A,P=A,_=T}if(N===p.length)return s(g,_),re&&Zt(g,N),C;if(_===null){for(;N<p.length;N++)_=x(g,p[N],b),_!==null&&(h=l(_,h,N),P===null?C=_:P.sibling=_,P=_);return re&&Zt(g,N),C}for(_=n(g,_);N<p.length;N++)T=y(_,g,N,p[N],b),T!==null&&(e&&T.alternate!==null&&_.delete(T.key===null?N:T.key),h=l(T,h,N),P===null?C=T:P.sibling=T,P=T);return e&&_.forEach(function(I){return t(g,I)}),re&&Zt(g,N),C}function k(g,h,p,b){var C=Zs(p);if(typeof C!="function")throw Error(O(150));if(p=C.call(p),p==null)throw Error(O(151));for(var P=C=null,_=h,N=h=0,T=null,A=p.next();_!==null&&!A.done;N++,A=p.next()){_.index>N?(T=_,_=null):T=_.sibling;var I=m(g,_,A.value,b);if(I===null){_===null&&(_=T);break}e&&_&&I.alternate===null&&t(g,_),h=l(I,h,N),P===null?C=I:P.sibling=I,P=I,_=T}if(A.done)return s(g,_),re&&Zt(g,N),C;if(_===null){for(;!A.done;N++,A=p.next())A=x(g,A.value,b),A!==null&&(h=l(A,h,N),P===null?C=A:P.sibling=A,P=A);return re&&Zt(g,N),C}for(_=n(g,_);!A.done;N++,A=p.next())A=y(_,g,N,A.value,b),A!==null&&(e&&A.alternate!==null&&_.delete(A.key===null?N:A.key),h=l(A,h,N),P===null?C=A:P.sibling=A,P=A);return e&&_.forEach(function(Q){return t(g,Q)}),re&&Zt(g,N),C}function S(g,h,p,b){if(typeof p=="object"&&p!==null&&p.type===ys&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case en:e:{for(var C=p.key,P=h;P!==null;){if(P.key===C){if(C=p.type,C===ys){if(P.tag===7){s(g,P.sibling),h=a(P,p.props.children),h.return=g,g=h;break e}}else if(P.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Rt&&vd(C)===P.type){s(g,P.sibling),h=a(P,p.props),h.ref=nr(g,P,p),h.return=g,g=h;break e}s(g,P);break}else t(g,P);P=P.sibling}p.type===ys?(h=ls(p.props.children,g.mode,b,p.key),h.return=g,g=h):(b=Fn(p.type,p.key,p.props,null,g.mode,b),b.ref=nr(g,h,p),b.return=g,g=b)}return o(g);case bs:e:{for(P=p.key;h!==null;){if(h.key===P)if(h.tag===4&&h.stateNode.containerInfo===p.containerInfo&&h.stateNode.implementation===p.implementation){s(g,h.sibling),h=a(h,p.children||[]),h.return=g,g=h;break e}else{s(g,h);break}else t(g,h);h=h.sibling}h=xl(p,g.mode,b),h.return=g,g=h}return o(g);case Rt:return P=p._init,S(g,h,P(p._payload),b)}if(hr(p))return v(g,h,p,b);if(Zs(p))return k(g,h,p,b);mn(g,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,h!==null&&h.tag===6?(s(g,h.sibling),h=a(h,p),h.return=g,g=h):(s(g,h),h=fl(p,g.mode,b),h.return=g,g=h),o(g)):s(g,h)}return S}var Us=Uu(!0),$u=Uu(!1),la=Kt(null),oa=null,Es=null,ri=null;function ni(){ri=Es=oa=null}function ai(e){var t=la.current;se(la),e._currentValue=t}function ao(e,t,s){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===s)break;e=e.return}}function Os(e,t){oa=e,ri=Es=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Oe=!0),e.firstContext=null)}function Je(e){var t=e._currentValue;if(ri!==e)if(e={context:e,memoizedValue:t,next:null},Es===null){if(oa===null)throw Error(O(308));Es=e,oa.dependencies={lanes:0,firstContext:e}}else Es=Es.next=e;return t}var ss=null;function li(e){ss===null?ss=[e]:ss.push(e)}function Fu(e,t,s,n){var a=t.interleaved;return a===null?(s.next=s,li(t)):(s.next=a.next,a.next=s),t.interleaved=s,jt(e,n)}function jt(e,t){e.lanes|=t;var s=e.alternate;for(s!==null&&(s.lanes|=t),s=e,e=e.return;e!==null;)e.childLanes|=t,s=e.alternate,s!==null&&(s.childLanes|=t),s=e,e=e.return;return s.tag===3?s.stateNode:null}var Tt=!1;function oi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function vt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function $t(e,t,s){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,G&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,jt(e,s)}return a=n.interleaved,a===null?(t.next=t,li(n)):(t.next=a.next,a.next=t),n.interleaved=t,jt(e,s)}function Dn(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,s|=n,t.lanes=s,Vo(e,s)}}function kd(e,t){var s=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,s===n)){var a=null,l=null;if(s=s.firstBaseUpdate,s!==null){do{var o={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};l===null?a=l=o:l=l.next=o,s=s.next}while(s!==null);l===null?a=l=t:l=l.next=t}else a=l=t;s={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:l,shared:n.shared,effects:n.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function ia(e,t,s,n){var a=e.updateQueue;Tt=!1;var l=a.firstBaseUpdate,o=a.lastBaseUpdate,i=a.shared.pending;if(i!==null){a.shared.pending=null;var d=i,c=d.next;d.next=null,o===null?l=c:o.next=c,o=d;var f=e.alternate;f!==null&&(f=f.updateQueue,i=f.lastBaseUpdate,i!==o&&(i===null?f.firstBaseUpdate=c:i.next=c,f.lastBaseUpdate=d))}if(l!==null){var x=a.baseState;o=0,f=c=d=null,i=l;do{var m=i.lane,y=i.eventTime;if((n&m)===m){f!==null&&(f=f.next={eventTime:y,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var v=e,k=i;switch(m=t,y=s,k.tag){case 1:if(v=k.payload,typeof v=="function"){x=v.call(y,x,m);break e}x=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=k.payload,m=typeof v=="function"?v.call(y,x,m):v,m==null)break e;x=oe({},x,m);break e;case 2:Tt=!0}}i.callback!==null&&i.lane!==0&&(e.flags|=64,m=a.effects,m===null?a.effects=[i]:m.push(i))}else y={eventTime:y,lane:m,tag:i.tag,payload:i.payload,callback:i.callback,next:null},f===null?(c=f=y,d=x):f=f.next=y,o|=m;if(i=i.next,i===null){if(i=a.shared.pending,i===null)break;m=i,i=m.next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}while(!0);if(f===null&&(d=x),a.baseState=d,a.firstBaseUpdate=c,a.lastBaseUpdate=f,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else l===null&&(a.shared.lanes=0);cs|=o,e.lanes=o,e.memoizedState=x}}function wd(e,t,s){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=s,typeof a!="function")throw Error(O(191,a));a.call(n)}}}var Kr={},ut=Kt(Kr),Br=Kt(Kr),zr=Kt(Kr);function rs(e){if(e===Kr)throw Error(O(174));return e}function ii(e,t){switch(ee(zr,t),ee(Br,e),ee(ut,Kr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:zl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=zl(t,e)}se(ut),ee(ut,t)}function $s(){se(ut),se(Br),se(zr)}function Qu(e){rs(zr.current);var t=rs(ut.current),s=zl(t,e.type);t!==s&&(ee(Br,e),ee(ut,s))}function di(e){Br.current===e&&(se(ut),se(Br))}var ne=Kt(0);function da(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var il=[];function ci(){for(var e=0;e<il.length;e++)il[e]._workInProgressVersionPrimary=null;il.length=0}var In=St.ReactCurrentDispatcher,dl=St.ReactCurrentBatchConfig,ds=0,ae=null,fe=null,ge=null,ca=!1,wr=!1,Ur=0,y0=0;function we(){throw Error(O(321))}function ui(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!lt(e[s],t[s]))return!1;return!0}function mi(e,t,s,n,a,l){if(ds=l,ae=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,In.current=e===null||e.memoizedState===null?j0:N0,e=s(n,a),wr){l=0;do{if(wr=!1,Ur=0,25<=l)throw Error(O(301));l+=1,ge=fe=null,t.updateQueue=null,In.current=S0,e=s(n,a)}while(wr)}if(In.current=ua,t=fe!==null&&fe.next!==null,ds=0,ge=fe=ae=null,ca=!1,t)throw Error(O(300));return e}function hi(){var e=Ur!==0;return Ur=0,e}function it(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ge===null?ae.memoizedState=ge=e:ge=ge.next=e,ge}function Ke(){if(fe===null){var e=ae.alternate;e=e!==null?e.memoizedState:null}else e=fe.next;var t=ge===null?ae.memoizedState:ge.next;if(t!==null)ge=t,fe=e;else{if(e===null)throw Error(O(310));fe=e,e={memoizedState:fe.memoizedState,baseState:fe.baseState,baseQueue:fe.baseQueue,queue:fe.queue,next:null},ge===null?ae.memoizedState=ge=e:ge=ge.next=e}return ge}function $r(e,t){return typeof t=="function"?t(e):t}function cl(e){var t=Ke(),s=t.queue;if(s===null)throw Error(O(311));s.lastRenderedReducer=e;var n=fe,a=n.baseQueue,l=s.pending;if(l!==null){if(a!==null){var o=a.next;a.next=l.next,l.next=o}n.baseQueue=a=l,s.pending=null}if(a!==null){l=a.next,n=n.baseState;var i=o=null,d=null,c=l;do{var f=c.lane;if((ds&f)===f)d!==null&&(d=d.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var x={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};d===null?(i=d=x,o=n):d=d.next=x,ae.lanes|=f,cs|=f}c=c.next}while(c!==null&&c!==l);d===null?o=n:d.next=i,lt(n,t.memoizedState)||(Oe=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=d,s.lastRenderedState=n}if(e=s.interleaved,e!==null){a=e;do l=a.lane,ae.lanes|=l,cs|=l,a=a.next;while(a!==e)}else a===null&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function ul(e){var t=Ke(),s=t.queue;if(s===null)throw Error(O(311));s.lastRenderedReducer=e;var n=s.dispatch,a=s.pending,l=t.memoizedState;if(a!==null){s.pending=null;var o=a=a.next;do l=e(l,o.action),o=o.next;while(o!==a);lt(l,t.memoizedState)||(Oe=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),s.lastRenderedState=l}return[l,n]}function Hu(){}function Vu(e,t){var s=ae,n=Ke(),a=t(),l=!lt(n.memoizedState,a);if(l&&(n.memoizedState=a,Oe=!0),n=n.queue,fi(Ju.bind(null,s,n,e),[e]),n.getSnapshot!==t||l||ge!==null&&ge.memoizedState.tag&1){if(s.flags|=2048,Fr(9,Yu.bind(null,s,n,a,t),void 0,null),be===null)throw Error(O(349));ds&30||Wu(s,t,a)}return a}function Wu(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=ae.updateQueue,t===null?(t={lastEffect:null,stores:null},ae.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function Yu(e,t,s,n){t.value=s,t.getSnapshot=n,Ku(t)&&Gu(e)}function Ju(e,t,s){return s(function(){Ku(t)&&Gu(e)})}function Ku(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!lt(e,s)}catch{return!0}}function Gu(e){var t=jt(e,1);t!==null&&nt(t,e,1,-1)}function jd(e){var t=it();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$r,lastRenderedState:e},t.queue=e,e=e.dispatch=w0.bind(null,ae,e),[t.memoizedState,e]}function Fr(e,t,s,n){return e={tag:e,create:t,destroy:s,deps:n,next:null},t=ae.updateQueue,t===null?(t={lastEffect:null,stores:null},ae.updateQueue=t,t.lastEffect=e.next=e):(s=t.lastEffect,s===null?t.lastEffect=e.next=e:(n=s.next,s.next=e,e.next=n,t.lastEffect=e)),e}function Xu(){return Ke().memoizedState}function Bn(e,t,s,n){var a=it();ae.flags|=e,a.memoizedState=Fr(1|t,s,void 0,n===void 0?null:n)}function Pa(e,t,s,n){var a=Ke();n=n===void 0?null:n;var l=void 0;if(fe!==null){var o=fe.memoizedState;if(l=o.destroy,n!==null&&ui(n,o.deps)){a.memoizedState=Fr(t,s,l,n);return}}ae.flags|=e,a.memoizedState=Fr(1|t,s,l,n)}function Nd(e,t){return Bn(8390656,8,e,t)}function fi(e,t){return Pa(2048,8,e,t)}function Zu(e,t){return Pa(4,2,e,t)}function em(e,t){return Pa(4,4,e,t)}function tm(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function sm(e,t,s){return s=s!=null?s.concat([e]):null,Pa(4,4,tm.bind(null,t,e),s)}function xi(){}function rm(e,t){var s=Ke();t=t===void 0?null:t;var n=s.memoizedState;return n!==null&&t!==null&&ui(t,n[1])?n[0]:(s.memoizedState=[e,t],e)}function nm(e,t){var s=Ke();t=t===void 0?null:t;var n=s.memoizedState;return n!==null&&t!==null&&ui(t,n[1])?n[0]:(e=e(),s.memoizedState=[e,t],e)}function am(e,t,s){return ds&21?(lt(s,t)||(s=cu(),ae.lanes|=s,cs|=s,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Oe=!0),e.memoizedState=s)}function v0(e,t){var s=X;X=s!==0&&4>s?s:4,e(!0);var n=dl.transition;dl.transition={};try{e(!1),t()}finally{X=s,dl.transition=n}}function lm(){return Ke().memoizedState}function k0(e,t,s){var n=qt(e);if(s={lane:n,action:s,hasEagerState:!1,eagerState:null,next:null},om(e))im(t,s);else if(s=Fu(e,t,s,n),s!==null){var a=Pe();nt(s,e,n,a),dm(s,t,n)}}function w0(e,t,s){var n=qt(e),a={lane:n,action:s,hasEagerState:!1,eagerState:null,next:null};if(om(e))im(t,a);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var o=t.lastRenderedState,i=l(o,s);if(a.hasEagerState=!0,a.eagerState=i,lt(i,o)){var d=t.interleaved;d===null?(a.next=a,li(t)):(a.next=d.next,d.next=a),t.interleaved=a;return}}catch{}finally{}s=Fu(e,t,a,n),s!==null&&(a=Pe(),nt(s,e,n,a),dm(s,t,n))}}function om(e){var t=e.alternate;return e===ae||t!==null&&t===ae}function im(e,t){wr=ca=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function dm(e,t,s){if(s&4194240){var n=t.lanes;n&=e.pendingLanes,s|=n,t.lanes=s,Vo(e,s)}}var ua={readContext:Je,useCallback:we,useContext:we,useEffect:we,useImperativeHandle:we,useInsertionEffect:we,useLayoutEffect:we,useMemo:we,useReducer:we,useRef:we,useState:we,useDebugValue:we,useDeferredValue:we,useTransition:we,useMutableSource:we,useSyncExternalStore:we,useId:we,unstable_isNewReconciler:!1},j0={readContext:Je,useCallback:function(e,t){return it().memoizedState=[e,t===void 0?null:t],e},useContext:Je,useEffect:Nd,useImperativeHandle:function(e,t,s){return s=s!=null?s.concat([e]):null,Bn(4194308,4,tm.bind(null,t,e),s)},useLayoutEffect:function(e,t){return Bn(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bn(4,2,e,t)},useMemo:function(e,t){var s=it();return t=t===void 0?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var n=it();return t=s!==void 0?s(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=k0.bind(null,ae,e),[n.memoizedState,e]},useRef:function(e){var t=it();return e={current:e},t.memoizedState=e},useState:jd,useDebugValue:xi,useDeferredValue:function(e){return it().memoizedState=e},useTransition:function(){var e=jd(!1),t=e[0];return e=v0.bind(null,e[1]),it().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var n=ae,a=it();if(re){if(s===void 0)throw Error(O(407));s=s()}else{if(s=t(),be===null)throw Error(O(349));ds&30||Wu(n,t,s)}a.memoizedState=s;var l={value:s,getSnapshot:t};return a.queue=l,Nd(Ju.bind(null,n,l,e),[e]),n.flags|=2048,Fr(9,Yu.bind(null,n,l,s,t),void 0,null),s},useId:function(){var e=it(),t=be.identifierPrefix;if(re){var s=yt,n=bt;s=(n&~(1<<32-rt(n)-1)).toString(32)+s,t=":"+t+"R"+s,s=Ur++,0<s&&(t+="H"+s.toString(32)),t+=":"}else s=y0++,t=":"+t+"r"+s.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},N0={readContext:Je,useCallback:rm,useContext:Je,useEffect:fi,useImperativeHandle:sm,useInsertionEffect:Zu,useLayoutEffect:em,useMemo:nm,useReducer:cl,useRef:Xu,useState:function(){return cl($r)},useDebugValue:xi,useDeferredValue:function(e){var t=Ke();return am(t,fe.memoizedState,e)},useTransition:function(){var e=cl($r)[0],t=Ke().memoizedState;return[e,t]},useMutableSource:Hu,useSyncExternalStore:Vu,useId:lm,unstable_isNewReconciler:!1},S0={readContext:Je,useCallback:rm,useContext:Je,useEffect:fi,useImperativeHandle:sm,useInsertionEffect:Zu,useLayoutEffect:em,useMemo:nm,useReducer:ul,useRef:Xu,useState:function(){return ul($r)},useDebugValue:xi,useDeferredValue:function(e){var t=Ke();return fe===null?t.memoizedState=e:am(t,fe.memoizedState,e)},useTransition:function(){var e=ul($r)[0],t=Ke().memoizedState;return[e,t]},useMutableSource:Hu,useSyncExternalStore:Vu,useId:lm,unstable_isNewReconciler:!1};function Ze(e,t){if(e&&e.defaultProps){t=oe({},t),e=e.defaultProps;for(var s in e)t[s]===void 0&&(t[s]=e[s]);return t}return t}function lo(e,t,s,n){t=e.memoizedState,s=s(n,t),s=s==null?t:oe({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var _a={isMounted:function(e){return(e=e._reactInternals)?hs(e)===e:!1},enqueueSetState:function(e,t,s){e=e._reactInternals;var n=Pe(),a=qt(e),l=vt(n,a);l.payload=t,s!=null&&(l.callback=s),t=$t(e,l,a),t!==null&&(nt(t,e,a,n),Dn(t,e,a))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var n=Pe(),a=qt(e),l=vt(n,a);l.tag=1,l.payload=t,s!=null&&(l.callback=s),t=$t(e,l,a),t!==null&&(nt(t,e,a,n),Dn(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=Pe(),n=qt(e),a=vt(s,n);a.tag=2,t!=null&&(a.callback=t),t=$t(e,a,n),t!==null&&(nt(t,e,n,s),Dn(t,e,n))}};function Sd(e,t,s,n,a,l,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,l,o):t.prototype&&t.prototype.isPureReactComponent?!Or(s,n)||!Or(a,l):!0}function cm(e,t,s){var n=!1,a=Yt,l=t.contextType;return typeof l=="object"&&l!==null?l=Je(l):(a=De(t)?os:Se.current,n=t.contextTypes,l=(n=n!=null)?Bs(e,a):Yt),t=new t(s,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=_a,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=l),t}function Cd(e,t,s,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,n),t.state!==e&&_a.enqueueReplaceState(t,t.state,null)}function oo(e,t,s,n){var a=e.stateNode;a.props=s,a.state=e.memoizedState,a.refs={},oi(e);var l=t.contextType;typeof l=="object"&&l!==null?a.context=Je(l):(l=De(t)?os:Se.current,a.context=Bs(e,l)),a.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(lo(e,t,l,s),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&_a.enqueueReplaceState(a,a.state,null),ia(e,s,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Fs(e,t){try{var s="",n=t;do s+=Xh(n),n=n.return;while(n);var a=s}catch(l){a=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:a,digest:null}}function ml(e,t,s){return{value:e,source:null,stack:s??null,digest:t??null}}function io(e,t){try{console.error(t.value)}catch(s){setTimeout(function(){throw s})}}var C0=typeof WeakMap=="function"?WeakMap:Map;function um(e,t,s){s=vt(-1,s),s.tag=3,s.payload={element:null};var n=t.value;return s.callback=function(){ha||(ha=!0,yo=n),io(e,t)},s}function mm(e,t,s){s=vt(-1,s),s.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;s.payload=function(){return n(a)},s.callback=function(){io(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(s.callback=function(){io(e,t),typeof n!="function"&&(Ft===null?Ft=new Set([this]):Ft.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),s}function Ed(e,t,s){var n=e.pingCache;if(n===null){n=e.pingCache=new C0;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(s)||(a.add(s),e=U0.bind(null,e,t,s),t.then(e,e))}function Pd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function _d(e,t,s,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(t=vt(-1,1),t.tag=2,$t(s,t,1))),s.lanes|=1),e)}var E0=St.ReactCurrentOwner,Oe=!1;function Ee(e,t,s,n){t.child=e===null?$u(t,null,s,n):Us(t,e.child,s,n)}function Rd(e,t,s,n,a){s=s.render;var l=t.ref;return Os(t,a),n=mi(e,t,s,n,l,a),s=hi(),e!==null&&!Oe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Nt(e,t,a)):(re&&s&&ei(t),t.flags|=1,Ee(e,t,n,a),t.child)}function Td(e,t,s,n,a){if(e===null){var l=s.type;return typeof l=="function"&&!ji(l)&&l.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(t.tag=15,t.type=l,hm(e,t,l,n,a)):(e=Fn(s.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&a)){var o=l.memoizedProps;if(s=s.compare,s=s!==null?s:Or,s(o,n)&&e.ref===t.ref)return Nt(e,t,a)}return t.flags|=1,e=Qt(l,n),e.ref=t.ref,e.return=t,t.child=e}function hm(e,t,s,n,a){if(e!==null){var l=e.memoizedProps;if(Or(l,n)&&e.ref===t.ref)if(Oe=!1,t.pendingProps=n=l,(e.lanes&a)!==0)e.flags&131072&&(Oe=!0);else return t.lanes=e.lanes,Nt(e,t,a)}return co(e,t,s,n,a)}function fm(e,t,s){var n=t.pendingProps,a=n.children,l=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ee(_s,Be),Be|=s;else{if(!(s&1073741824))return e=l!==null?l.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ee(_s,Be),Be|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=l!==null?l.baseLanes:s,ee(_s,Be),Be|=n}else l!==null?(n=l.baseLanes|s,t.memoizedState=null):n=s,ee(_s,Be),Be|=n;return Ee(e,t,a,s),t.child}function xm(e,t){var s=t.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function co(e,t,s,n,a){var l=De(s)?os:Se.current;return l=Bs(t,l),Os(t,a),s=mi(e,t,s,n,l,a),n=hi(),e!==null&&!Oe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Nt(e,t,a)):(re&&n&&ei(t),t.flags|=1,Ee(e,t,s,a),t.child)}function Ad(e,t,s,n,a){if(De(s)){var l=!0;ra(t)}else l=!1;if(Os(t,a),t.stateNode===null)zn(e,t),cm(t,s,n),oo(t,s,n,a),n=!0;else if(e===null){var o=t.stateNode,i=t.memoizedProps;o.props=i;var d=o.context,c=s.contextType;typeof c=="object"&&c!==null?c=Je(c):(c=De(s)?os:Se.current,c=Bs(t,c));var f=s.getDerivedStateFromProps,x=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";x||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(i!==n||d!==c)&&Cd(t,o,n,c),Tt=!1;var m=t.memoizedState;o.state=m,ia(t,n,o,a),d=t.memoizedState,i!==n||m!==d||Me.current||Tt?(typeof f=="function"&&(lo(t,s,f,n),d=t.memoizedState),(i=Tt||Sd(t,s,i,n,m,d,c))?(x||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=d),o.props=n,o.state=d,o.context=c,n=i):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,qu(e,t),i=t.memoizedProps,c=t.type===t.elementType?i:Ze(t.type,i),o.props=c,x=t.pendingProps,m=o.context,d=s.contextType,typeof d=="object"&&d!==null?d=Je(d):(d=De(s)?os:Se.current,d=Bs(t,d));var y=s.getDerivedStateFromProps;(f=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(i!==x||m!==d)&&Cd(t,o,n,d),Tt=!1,m=t.memoizedState,o.state=m,ia(t,n,o,a);var v=t.memoizedState;i!==x||m!==v||Me.current||Tt?(typeof y=="function"&&(lo(t,s,y,n),v=t.memoizedState),(c=Tt||Sd(t,s,c,n,m,v,d)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,v,d),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,v,d)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=v),o.props=n,o.state=v,o.context=d,n=c):(typeof o.componentDidUpdate!="function"||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return uo(e,t,s,n,l,a)}function uo(e,t,s,n,a,l){xm(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&gd(t,s,!1),Nt(e,t,l);n=t.stateNode,E0.current=t;var i=o&&typeof s.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Us(t,e.child,null,l),t.child=Us(t,null,i,l)):Ee(e,t,i,l),t.memoizedState=n.state,a&&gd(t,s,!0),t.child}function pm(e){var t=e.stateNode;t.pendingContext?pd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&pd(e,t.context,!1),ii(e,t.containerInfo)}function Ld(e,t,s,n,a){return zs(),si(a),t.flags|=256,Ee(e,t,s,n),t.child}var mo={dehydrated:null,treeContext:null,retryLane:0};function ho(e){return{baseLanes:e,cachePool:null,transitions:null}}function gm(e,t,s){var n=t.pendingProps,a=ne.current,l=!1,o=(t.flags&128)!==0,i;if((i=o)||(i=e!==null&&e.memoizedState===null?!1:(a&2)!==0),i?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),ee(ne,a&1),e===null)return no(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,l?(n=t.mode,l=t.child,o={mode:"hidden",children:o},!(n&1)&&l!==null?(l.childLanes=0,l.pendingProps=o):l=Aa(o,n,0,null),e=ls(e,n,s,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=ho(s),t.memoizedState=mo,e):pi(t,o));if(a=e.memoizedState,a!==null&&(i=a.dehydrated,i!==null))return P0(e,t,o,n,i,a,s);if(l){l=n.fallback,o=t.mode,a=e.child,i=a.sibling;var d={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=d,t.deletions=null):(n=Qt(a,d),n.subtreeFlags=a.subtreeFlags&14680064),i!==null?l=Qt(i,l):(l=ls(l,o,s,null),l.flags|=2),l.return=t,n.return=t,n.sibling=l,t.child=n,n=l,l=t.child,o=e.child.memoizedState,o=o===null?ho(s):{baseLanes:o.baseLanes|s,cachePool:null,transitions:o.transitions},l.memoizedState=o,l.childLanes=e.childLanes&~s,t.memoizedState=mo,n}return l=e.child,e=l.sibling,n=Qt(l,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=s),n.return=t,n.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n}function pi(e,t){return t=Aa({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function hn(e,t,s,n){return n!==null&&si(n),Us(t,e.child,null,s),e=pi(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function P0(e,t,s,n,a,l,o){if(s)return t.flags&256?(t.flags&=-257,n=ml(Error(O(422))),hn(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=n.fallback,a=t.mode,n=Aa({mode:"visible",children:n.children},a,0,null),l=ls(l,a,o,null),l.flags|=2,n.return=t,l.return=t,n.sibling=l,t.child=n,t.mode&1&&Us(t,e.child,null,o),t.child.memoizedState=ho(o),t.memoizedState=mo,l);if(!(t.mode&1))return hn(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var i=n.dgst;return n=i,l=Error(O(419)),n=ml(l,n,void 0),hn(e,t,o,n)}if(i=(o&e.childLanes)!==0,Oe||i){if(n=be,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==l.retryLane&&(l.retryLane=a,jt(e,a),nt(n,e,a,-1))}return wi(),n=ml(Error(O(421))),hn(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=$0.bind(null,e),a._reactRetry=t,null):(e=l.treeContext,ze=Ut(a.nextSibling),Ue=t,re=!0,st=null,e!==null&&(Qe[He++]=bt,Qe[He++]=yt,Qe[He++]=is,bt=e.id,yt=e.overflow,is=t),t=pi(t,n.children),t.flags|=4096,t)}function Od(e,t,s){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),ao(e.return,t,s)}function hl(e,t,s,n,a){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:s,tailMode:a}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=n,l.tail=s,l.tailMode=a)}function bm(e,t,s){var n=t.pendingProps,a=n.revealOrder,l=n.tail;if(Ee(e,t,n.children,s),n=ne.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Od(e,s,t);else if(e.tag===19)Od(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ee(ne,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(s=t.child,a=null;s!==null;)e=s.alternate,e!==null&&da(e)===null&&(a=s),s=s.sibling;s=a,s===null?(a=t.child,t.child=null):(a=s.sibling,s.sibling=null),hl(t,!1,a,s,l);break;case"backwards":for(s=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&da(e)===null){t.child=a;break}e=a.sibling,a.sibling=s,s=a,a=e}hl(t,!0,s,null,l);break;case"together":hl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function zn(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Nt(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),cs|=t.lanes,!(s&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(O(153));if(t.child!==null){for(e=t.child,s=Qt(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=Qt(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function _0(e,t,s){switch(t.tag){case 3:pm(t),zs();break;case 5:Qu(t);break;case 1:De(t.type)&&ra(t);break;case 4:ii(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;ee(la,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(ee(ne,ne.current&1),t.flags|=128,null):s&t.child.childLanes?gm(e,t,s):(ee(ne,ne.current&1),e=Nt(e,t,s),e!==null?e.sibling:null);ee(ne,ne.current&1);break;case 19:if(n=(s&t.childLanes)!==0,e.flags&128){if(n)return bm(e,t,s);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),ee(ne,ne.current),n)break;return null;case 22:case 23:return t.lanes=0,fm(e,t,s)}return Nt(e,t,s)}var ym,fo,vm,km;ym=function(e,t){for(var s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};fo=function(){};vm=function(e,t,s,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,rs(ut.current);var l=null;switch(s){case"input":a=Ml(e,a),n=Ml(e,n),l=[];break;case"select":a=oe({},a,{value:void 0}),n=oe({},n,{value:void 0}),l=[];break;case"textarea":a=Bl(e,a),n=Bl(e,n),l=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=ta)}Ul(s,n);var o;s=null;for(c in a)if(!n.hasOwnProperty(c)&&a.hasOwnProperty(c)&&a[c]!=null)if(c==="style"){var i=a[c];for(o in i)i.hasOwnProperty(o)&&(s||(s={}),s[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Er.hasOwnProperty(c)?l||(l=[]):(l=l||[]).push(c,null));for(c in n){var d=n[c];if(i=a!=null?a[c]:void 0,n.hasOwnProperty(c)&&d!==i&&(d!=null||i!=null))if(c==="style")if(i){for(o in i)!i.hasOwnProperty(o)||d&&d.hasOwnProperty(o)||(s||(s={}),s[o]="");for(o in d)d.hasOwnProperty(o)&&i[o]!==d[o]&&(s||(s={}),s[o]=d[o])}else s||(l||(l=[]),l.push(c,s)),s=d;else c==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,i=i?i.__html:void 0,d!=null&&i!==d&&(l=l||[]).push(c,d)):c==="children"?typeof d!="string"&&typeof d!="number"||(l=l||[]).push(c,""+d):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Er.hasOwnProperty(c)?(d!=null&&c==="onScroll"&&te("scroll",e),l||i===d||(l=[])):(l=l||[]).push(c,d))}s&&(l=l||[]).push("style",s);var c=l;(t.updateQueue=c)&&(t.flags|=4)}};km=function(e,t,s,n){s!==n&&(t.flags|=4)};function ar(e,t){if(!re)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var n=null;s!==null;)s.alternate!==null&&(n=s),s=s.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function je(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,n=0;if(t)for(var a=e.child;a!==null;)s|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)s|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=s,t}function R0(e,t,s){var n=t.pendingProps;switch(ti(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return je(t),null;case 1:return De(t.type)&&sa(),je(t),null;case 3:return n=t.stateNode,$s(),se(Me),se(Se),ci(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(un(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,st!==null&&(wo(st),st=null))),fo(e,t),je(t),null;case 5:di(t);var a=rs(zr.current);if(s=t.type,e!==null&&t.stateNode!=null)vm(e,t,s,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(O(166));return je(t),null}if(e=rs(ut.current),un(t)){n=t.stateNode,s=t.type;var l=t.memoizedProps;switch(n[dt]=t,n[Ir]=l,e=(t.mode&1)!==0,s){case"dialog":te("cancel",n),te("close",n);break;case"iframe":case"object":case"embed":te("load",n);break;case"video":case"audio":for(a=0;a<xr.length;a++)te(xr[a],n);break;case"source":te("error",n);break;case"img":case"image":case"link":te("error",n),te("load",n);break;case"details":te("toggle",n);break;case"input":qi(n,l),te("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!l.multiple},te("invalid",n);break;case"textarea":Hi(n,l),te("invalid",n)}Ul(s,l),a=null;for(var o in l)if(l.hasOwnProperty(o)){var i=l[o];o==="children"?typeof i=="string"?n.textContent!==i&&(l.suppressHydrationWarning!==!0&&cn(n.textContent,i,e),a=["children",i]):typeof i=="number"&&n.textContent!==""+i&&(l.suppressHydrationWarning!==!0&&cn(n.textContent,i,e),a=["children",""+i]):Er.hasOwnProperty(o)&&i!=null&&o==="onScroll"&&te("scroll",n)}switch(s){case"input":tn(n),Qi(n,l,!0);break;case"textarea":tn(n),Vi(n);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(n.onclick=ta)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Jc(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(s,{is:n.is}):(e=o.createElement(s),s==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,s),e[dt]=t,e[Ir]=n,ym(e,t,!1,!1),t.stateNode=e;e:{switch(o=$l(s,n),s){case"dialog":te("cancel",e),te("close",e),a=n;break;case"iframe":case"object":case"embed":te("load",e),a=n;break;case"video":case"audio":for(a=0;a<xr.length;a++)te(xr[a],e);a=n;break;case"source":te("error",e),a=n;break;case"img":case"image":case"link":te("error",e),te("load",e),a=n;break;case"details":te("toggle",e),a=n;break;case"input":qi(e,n),a=Ml(e,n),te("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=oe({},n,{value:void 0}),te("invalid",e);break;case"textarea":Hi(e,n),a=Bl(e,n),te("invalid",e);break;default:a=n}Ul(s,a),i=a;for(l in i)if(i.hasOwnProperty(l)){var d=i[l];l==="style"?Xc(e,d):l==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&Kc(e,d)):l==="children"?typeof d=="string"?(s!=="textarea"||d!=="")&&Pr(e,d):typeof d=="number"&&Pr(e,""+d):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Er.hasOwnProperty(l)?d!=null&&l==="onScroll"&&te("scroll",e):d!=null&&Uo(e,l,d,o))}switch(s){case"input":tn(e),Qi(e,n,!1);break;case"textarea":tn(e),Vi(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Wt(n.value));break;case"select":e.multiple=!!n.multiple,l=n.value,l!=null?Rs(e,!!n.multiple,l,!1):n.defaultValue!=null&&Rs(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=ta)}switch(s){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return je(t),null;case 6:if(e&&t.stateNode!=null)km(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(O(166));if(s=rs(zr.current),rs(ut.current),un(t)){if(n=t.stateNode,s=t.memoizedProps,n[dt]=t,(l=n.nodeValue!==s)&&(e=Ue,e!==null))switch(e.tag){case 3:cn(n.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&cn(n.nodeValue,s,(e.mode&1)!==0)}l&&(t.flags|=4)}else n=(s.nodeType===9?s:s.ownerDocument).createTextNode(n),n[dt]=t,t.stateNode=n}return je(t),null;case 13:if(se(ne),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(re&&ze!==null&&t.mode&1&&!(t.flags&128))zu(),zs(),t.flags|=98560,l=!1;else if(l=un(t),n!==null&&n.dehydrated!==null){if(e===null){if(!l)throw Error(O(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(O(317));l[dt]=t}else zs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;je(t),l=!1}else st!==null&&(wo(st),st=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=s,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ne.current&1?xe===0&&(xe=3):wi())),t.updateQueue!==null&&(t.flags|=4),je(t),null);case 4:return $s(),fo(e,t),e===null&&Mr(t.stateNode.containerInfo),je(t),null;case 10:return ai(t.type._context),je(t),null;case 17:return De(t.type)&&sa(),je(t),null;case 19:if(se(ne),l=t.memoizedState,l===null)return je(t),null;if(n=(t.flags&128)!==0,o=l.rendering,o===null)if(n)ar(l,!1);else{if(xe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=da(e),o!==null){for(t.flags|=128,ar(l,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=s,s=t.child;s!==null;)l=s,e=n,l.flags&=14680066,o=l.alternate,o===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=o.childLanes,l.lanes=o.lanes,l.child=o.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=o.memoizedProps,l.memoizedState=o.memoizedState,l.updateQueue=o.updateQueue,l.type=o.type,e=o.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return ee(ne,ne.current&1|2),t.child}e=e.sibling}l.tail!==null&&de()>qs&&(t.flags|=128,n=!0,ar(l,!1),t.lanes=4194304)}else{if(!n)if(e=da(o),e!==null){if(t.flags|=128,n=!0,s=e.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),ar(l,!0),l.tail===null&&l.tailMode==="hidden"&&!o.alternate&&!re)return je(t),null}else 2*de()-l.renderingStartTime>qs&&s!==1073741824&&(t.flags|=128,n=!0,ar(l,!1),t.lanes=4194304);l.isBackwards?(o.sibling=t.child,t.child=o):(s=l.last,s!==null?s.sibling=o:t.child=o,l.last=o)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=de(),t.sibling=null,s=ne.current,ee(ne,n?s&1|2:s&1),t):(je(t),null);case 22:case 23:return ki(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Be&1073741824&&(je(t),t.subtreeFlags&6&&(t.flags|=8192)):je(t),null;case 24:return null;case 25:return null}throw Error(O(156,t.tag))}function T0(e,t){switch(ti(t),t.tag){case 1:return De(t.type)&&sa(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return $s(),se(Me),se(Se),ci(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return di(t),null;case 13:if(se(ne),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(O(340));zs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return se(ne),null;case 4:return $s(),null;case 10:return ai(t.type._context),null;case 22:case 23:return ki(),null;case 24:return null;default:return null}}var fn=!1,Ne=!1,A0=typeof WeakSet=="function"?WeakSet:Set,B=null;function Ps(e,t){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(n){ie(e,t,n)}else s.current=null}function xo(e,t,s){try{s()}catch(n){ie(e,t,n)}}var Md=!1;function L0(e,t){if(Gl=Xn,e=Cu(),Zo(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var n=s.getSelection&&s.getSelection();if(n&&n.rangeCount!==0){s=n.anchorNode;var a=n.anchorOffset,l=n.focusNode;n=n.focusOffset;try{s.nodeType,l.nodeType}catch{s=null;break e}var o=0,i=-1,d=-1,c=0,f=0,x=e,m=null;t:for(;;){for(var y;x!==s||a!==0&&x.nodeType!==3||(i=o+a),x!==l||n!==0&&x.nodeType!==3||(d=o+n),x.nodeType===3&&(o+=x.nodeValue.length),(y=x.firstChild)!==null;)m=x,x=y;for(;;){if(x===e)break t;if(m===s&&++c===a&&(i=o),m===l&&++f===n&&(d=o),(y=x.nextSibling)!==null)break;x=m,m=x.parentNode}x=y}s=i===-1||d===-1?null:{start:i,end:d}}else s=null}s=s||{start:0,end:0}}else s=null;for(Xl={focusedElem:e,selectionRange:s},Xn=!1,B=t;B!==null;)if(t=B,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,B=e;else for(;B!==null;){t=B;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var k=v.memoizedProps,S=v.memoizedState,g=t.stateNode,h=g.getSnapshotBeforeUpdate(t.elementType===t.type?k:Ze(t.type,k),S);g.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var p=t.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(O(163))}}catch(b){ie(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,B=e;break}B=t.return}return v=Md,Md=!1,v}function jr(e,t,s){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var l=a.destroy;a.destroy=void 0,l!==void 0&&xo(t,s,l)}a=a.next}while(a!==n)}}function Ra(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var s=t=t.next;do{if((s.tag&e)===e){var n=s.create;s.destroy=n()}s=s.next}while(s!==t)}}function po(e){var t=e.ref;if(t!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof t=="function"?t(e):t.current=e}}function wm(e){var t=e.alternate;t!==null&&(e.alternate=null,wm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[dt],delete t[Ir],delete t[to],delete t[x0],delete t[p0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function jm(e){return e.tag===5||e.tag===3||e.tag===4}function Dd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||jm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function go(e,t,s){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?s.nodeType===8?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(s.nodeType===8?(t=s.parentNode,t.insertBefore(e,s)):(t=s,t.appendChild(e)),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=ta));else if(n!==4&&(e=e.child,e!==null))for(go(e,t,s),e=e.sibling;e!==null;)go(e,t,s),e=e.sibling}function bo(e,t,s){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(bo(e,t,s),e=e.sibling;e!==null;)bo(e,t,s),e=e.sibling}var ye=null,et=!1;function Pt(e,t,s){for(s=s.child;s!==null;)Nm(e,t,s),s=s.sibling}function Nm(e,t,s){if(ct&&typeof ct.onCommitFiberUnmount=="function")try{ct.onCommitFiberUnmount(wa,s)}catch{}switch(s.tag){case 5:Ne||Ps(s,t);case 6:var n=ye,a=et;ye=null,Pt(e,t,s),ye=n,et=a,ye!==null&&(et?(e=ye,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):ye.removeChild(s.stateNode));break;case 18:ye!==null&&(et?(e=ye,s=s.stateNode,e.nodeType===8?ll(e.parentNode,s):e.nodeType===1&&ll(e,s),Ar(e)):ll(ye,s.stateNode));break;case 4:n=ye,a=et,ye=s.stateNode.containerInfo,et=!0,Pt(e,t,s),ye=n,et=a;break;case 0:case 11:case 14:case 15:if(!Ne&&(n=s.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var l=a,o=l.destroy;l=l.tag,o!==void 0&&(l&2||l&4)&&xo(s,t,o),a=a.next}while(a!==n)}Pt(e,t,s);break;case 1:if(!Ne&&(Ps(s,t),n=s.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=s.memoizedProps,n.state=s.memoizedState,n.componentWillUnmount()}catch(i){ie(s,t,i)}Pt(e,t,s);break;case 21:Pt(e,t,s);break;case 22:s.mode&1?(Ne=(n=Ne)||s.memoizedState!==null,Pt(e,t,s),Ne=n):Pt(e,t,s);break;default:Pt(e,t,s)}}function Id(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new A0),t.forEach(function(n){var a=F0.bind(null,e,n);s.has(n)||(s.add(n),n.then(a,a))})}}function Xe(e,t){var s=t.deletions;if(s!==null)for(var n=0;n<s.length;n++){var a=s[n];try{var l=e,o=t,i=o;e:for(;i!==null;){switch(i.tag){case 5:ye=i.stateNode,et=!1;break e;case 3:ye=i.stateNode.containerInfo,et=!0;break e;case 4:ye=i.stateNode.containerInfo,et=!0;break e}i=i.return}if(ye===null)throw Error(O(160));Nm(l,o,a),ye=null,et=!1;var d=a.alternate;d!==null&&(d.return=null),a.return=null}catch(c){ie(a,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Sm(t,e),t=t.sibling}function Sm(e,t){var s=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Xe(t,e),ot(e),n&4){try{jr(3,e,e.return),Ra(3,e)}catch(k){ie(e,e.return,k)}try{jr(5,e,e.return)}catch(k){ie(e,e.return,k)}}break;case 1:Xe(t,e),ot(e),n&512&&s!==null&&Ps(s,s.return);break;case 5:if(Xe(t,e),ot(e),n&512&&s!==null&&Ps(s,s.return),e.flags&32){var a=e.stateNode;try{Pr(a,"")}catch(k){ie(e,e.return,k)}}if(n&4&&(a=e.stateNode,a!=null)){var l=e.memoizedProps,o=s!==null?s.memoizedProps:l,i=e.type,d=e.updateQueue;if(e.updateQueue=null,d!==null)try{i==="input"&&l.type==="radio"&&l.name!=null&&Wc(a,l),$l(i,o);var c=$l(i,l);for(o=0;o<d.length;o+=2){var f=d[o],x=d[o+1];f==="style"?Xc(a,x):f==="dangerouslySetInnerHTML"?Kc(a,x):f==="children"?Pr(a,x):Uo(a,f,x,c)}switch(i){case"input":Dl(a,l);break;case"textarea":Yc(a,l);break;case"select":var m=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!l.multiple;var y=l.value;y!=null?Rs(a,!!l.multiple,y,!1):m!==!!l.multiple&&(l.defaultValue!=null?Rs(a,!!l.multiple,l.defaultValue,!0):Rs(a,!!l.multiple,l.multiple?[]:"",!1))}a[Ir]=l}catch(k){ie(e,e.return,k)}}break;case 6:if(Xe(t,e),ot(e),n&4){if(e.stateNode===null)throw Error(O(162));a=e.stateNode,l=e.memoizedProps;try{a.nodeValue=l}catch(k){ie(e,e.return,k)}}break;case 3:if(Xe(t,e),ot(e),n&4&&s!==null&&s.memoizedState.isDehydrated)try{Ar(t.containerInfo)}catch(k){ie(e,e.return,k)}break;case 4:Xe(t,e),ot(e);break;case 13:Xe(t,e),ot(e),a=e.child,a.flags&8192&&(l=a.memoizedState!==null,a.stateNode.isHidden=l,!l||a.alternate!==null&&a.alternate.memoizedState!==null||(yi=de())),n&4&&Id(e);break;case 22:if(f=s!==null&&s.memoizedState!==null,e.mode&1?(Ne=(c=Ne)||f,Xe(t,e),Ne=c):Xe(t,e),ot(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!f&&e.mode&1)for(B=e,f=e.child;f!==null;){for(x=B=f;B!==null;){switch(m=B,y=m.child,m.tag){case 0:case 11:case 14:case 15:jr(4,m,m.return);break;case 1:Ps(m,m.return);var v=m.stateNode;if(typeof v.componentWillUnmount=="function"){n=m,s=m.return;try{t=n,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(k){ie(n,s,k)}}break;case 5:Ps(m,m.return);break;case 22:if(m.memoizedState!==null){zd(x);continue}}y!==null?(y.return=m,B=y):zd(x)}f=f.sibling}e:for(f=null,x=e;;){if(x.tag===5){if(f===null){f=x;try{a=x.stateNode,c?(l=a.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(i=x.stateNode,d=x.memoizedProps.style,o=d!=null&&d.hasOwnProperty("display")?d.display:null,i.style.display=Gc("display",o))}catch(k){ie(e,e.return,k)}}}else if(x.tag===6){if(f===null)try{x.stateNode.nodeValue=c?"":x.memoizedProps}catch(k){ie(e,e.return,k)}}else if((x.tag!==22&&x.tag!==23||x.memoizedState===null||x===e)&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===e)break e;for(;x.sibling===null;){if(x.return===null||x.return===e)break e;f===x&&(f=null),x=x.return}f===x&&(f=null),x.sibling.return=x.return,x=x.sibling}}break;case 19:Xe(t,e),ot(e),n&4&&Id(e);break;case 21:break;default:Xe(t,e),ot(e)}}function ot(e){var t=e.flags;if(t&2){try{e:{for(var s=e.return;s!==null;){if(jm(s)){var n=s;break e}s=s.return}throw Error(O(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Pr(a,""),n.flags&=-33);var l=Dd(e);bo(e,l,a);break;case 3:case 4:var o=n.stateNode.containerInfo,i=Dd(e);go(e,i,o);break;default:throw Error(O(161))}}catch(d){ie(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function O0(e,t,s){B=e,Cm(e)}function Cm(e,t,s){for(var n=(e.mode&1)!==0;B!==null;){var a=B,l=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||fn;if(!o){var i=a.alternate,d=i!==null&&i.memoizedState!==null||Ne;i=fn;var c=Ne;if(fn=o,(Ne=d)&&!c)for(B=a;B!==null;)o=B,d=o.child,o.tag===22&&o.memoizedState!==null?Ud(a):d!==null?(d.return=o,B=d):Ud(a);for(;l!==null;)B=l,Cm(l),l=l.sibling;B=a,fn=i,Ne=c}Bd(e)}else a.subtreeFlags&8772&&l!==null?(l.return=a,B=l):Bd(e)}}function Bd(e){for(;B!==null;){var t=B;if(t.flags&8772){var s=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ne||Ra(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Ne)if(s===null)n.componentDidMount();else{var a=t.elementType===t.type?s.memoizedProps:Ze(t.type,s.memoizedProps);n.componentDidUpdate(a,s.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&wd(t,l,n);break;case 3:var o=t.updateQueue;if(o!==null){if(s=null,t.child!==null)switch(t.child.tag){case 5:s=t.child.stateNode;break;case 1:s=t.child.stateNode}wd(t,o,s)}break;case 5:var i=t.stateNode;if(s===null&&t.flags&4){s=i;var d=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&s.focus();break;case"img":d.src&&(s.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var x=f.dehydrated;x!==null&&Ar(x)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(O(163))}Ne||t.flags&512&&po(t)}catch(m){ie(t,t.return,m)}}if(t===e){B=null;break}if(s=t.sibling,s!==null){s.return=t.return,B=s;break}B=t.return}}function zd(e){for(;B!==null;){var t=B;if(t===e){B=null;break}var s=t.sibling;if(s!==null){s.return=t.return,B=s;break}B=t.return}}function Ud(e){for(;B!==null;){var t=B;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{Ra(4,t)}catch(d){ie(t,s,d)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(d){ie(t,a,d)}}var l=t.return;try{po(t)}catch(d){ie(t,l,d)}break;case 5:var o=t.return;try{po(t)}catch(d){ie(t,o,d)}}}catch(d){ie(t,t.return,d)}if(t===e){B=null;break}var i=t.sibling;if(i!==null){i.return=t.return,B=i;break}B=t.return}}var M0=Math.ceil,ma=St.ReactCurrentDispatcher,gi=St.ReactCurrentOwner,Ye=St.ReactCurrentBatchConfig,G=0,be=null,ue=null,ve=0,Be=0,_s=Kt(0),xe=0,qr=null,cs=0,Ta=0,bi=0,Nr=null,Le=null,yi=0,qs=1/0,pt=null,ha=!1,yo=null,Ft=null,xn=!1,Mt=null,fa=0,Sr=0,vo=null,Un=-1,$n=0;function Pe(){return G&6?de():Un!==-1?Un:Un=de()}function qt(e){return e.mode&1?G&2&&ve!==0?ve&-ve:b0.transition!==null?($n===0&&($n=cu()),$n):(e=X,e!==0||(e=window.event,e=e===void 0?16:gu(e.type)),e):1}function nt(e,t,s,n){if(50<Sr)throw Sr=0,vo=null,Error(O(185));Wr(e,s,n),(!(G&2)||e!==be)&&(e===be&&(!(G&2)&&(Ta|=s),xe===4&&Lt(e,ve)),Ie(e,n),s===1&&G===0&&!(t.mode&1)&&(qs=de()+500,Ea&&Gt()))}function Ie(e,t){var s=e.callbackNode;bf(e,t);var n=Gn(e,e===be?ve:0);if(n===0)s!==null&&Ji(s),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(s!=null&&Ji(s),t===1)e.tag===0?g0($d.bind(null,e)):Du($d.bind(null,e)),h0(function(){!(G&6)&&Gt()}),s=null;else{switch(uu(n)){case 1:s=Ho;break;case 4:s=iu;break;case 16:s=Kn;break;case 536870912:s=du;break;default:s=Kn}s=Om(s,Em.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function Em(e,t){if(Un=-1,$n=0,G&6)throw Error(O(327));var s=e.callbackNode;if(Ms()&&e.callbackNode!==s)return null;var n=Gn(e,e===be?ve:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=xa(e,n);else{t=n;var a=G;G|=2;var l=_m();(be!==e||ve!==t)&&(pt=null,qs=de()+500,as(e,t));do try{B0();break}catch(i){Pm(e,i)}while(!0);ni(),ma.current=l,G=a,ue!==null?t=0:(be=null,ve=0,t=xe)}if(t!==0){if(t===2&&(a=Vl(e),a!==0&&(n=a,t=ko(e,a))),t===1)throw s=qr,as(e,0),Lt(e,n),Ie(e,de()),s;if(t===6)Lt(e,n);else{if(a=e.current.alternate,!(n&30)&&!D0(a)&&(t=xa(e,n),t===2&&(l=Vl(e),l!==0&&(n=l,t=ko(e,l))),t===1))throw s=qr,as(e,0),Lt(e,n),Ie(e,de()),s;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(O(345));case 2:es(e,Le,pt);break;case 3:if(Lt(e,n),(n&130023424)===n&&(t=yi+500-de(),10<t)){if(Gn(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Pe(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=eo(es.bind(null,e,Le,pt),t);break}es(e,Le,pt);break;case 4:if(Lt(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-rt(n);l=1<<o,o=t[o],o>a&&(a=o),n&=~l}if(n=a,n=de()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*M0(n/1960))-n,10<n){e.timeoutHandle=eo(es.bind(null,e,Le,pt),n);break}es(e,Le,pt);break;case 5:es(e,Le,pt);break;default:throw Error(O(329))}}}return Ie(e,de()),e.callbackNode===s?Em.bind(null,e):null}function ko(e,t){var s=Nr;return e.current.memoizedState.isDehydrated&&(as(e,t).flags|=256),e=xa(e,t),e!==2&&(t=Le,Le=s,t!==null&&wo(t)),e}function wo(e){Le===null?Le=e:Le.push.apply(Le,e)}function D0(e){for(var t=e;;){if(t.flags&16384){var s=t.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var n=0;n<s.length;n++){var a=s[n],l=a.getSnapshot;a=a.value;try{if(!lt(l(),a))return!1}catch{return!1}}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Lt(e,t){for(t&=~bi,t&=~Ta,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-rt(t),n=1<<s;e[s]=-1,t&=~n}}function $d(e){if(G&6)throw Error(O(327));Ms();var t=Gn(e,0);if(!(t&1))return Ie(e,de()),null;var s=xa(e,t);if(e.tag!==0&&s===2){var n=Vl(e);n!==0&&(t=n,s=ko(e,n))}if(s===1)throw s=qr,as(e,0),Lt(e,t),Ie(e,de()),s;if(s===6)throw Error(O(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,es(e,Le,pt),Ie(e,de()),null}function vi(e,t){var s=G;G|=1;try{return e(t)}finally{G=s,G===0&&(qs=de()+500,Ea&&Gt())}}function us(e){Mt!==null&&Mt.tag===0&&!(G&6)&&Ms();var t=G;G|=1;var s=Ye.transition,n=X;try{if(Ye.transition=null,X=1,e)return e()}finally{X=n,Ye.transition=s,G=t,!(G&6)&&Gt()}}function ki(){Be=_s.current,se(_s)}function as(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,m0(s)),ue!==null)for(s=ue.return;s!==null;){var n=s;switch(ti(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&sa();break;case 3:$s(),se(Me),se(Se),ci();break;case 5:di(n);break;case 4:$s();break;case 13:se(ne);break;case 19:se(ne);break;case 10:ai(n.type._context);break;case 22:case 23:ki()}s=s.return}if(be=e,ue=e=Qt(e.current,null),ve=Be=t,xe=0,qr=null,bi=Ta=cs=0,Le=Nr=null,ss!==null){for(t=0;t<ss.length;t++)if(s=ss[t],n=s.interleaved,n!==null){s.interleaved=null;var a=n.next,l=s.pending;if(l!==null){var o=l.next;l.next=a,n.next=o}s.pending=n}ss=null}return e}function Pm(e,t){do{var s=ue;try{if(ni(),In.current=ua,ca){for(var n=ae.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}ca=!1}if(ds=0,ge=fe=ae=null,wr=!1,Ur=0,gi.current=null,s===null||s.return===null){xe=1,qr=t,ue=null;break}e:{var l=e,o=s.return,i=s,d=t;if(t=ve,i.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var c=d,f=i,x=f.tag;if(!(f.mode&1)&&(x===0||x===11||x===15)){var m=f.alternate;m?(f.updateQueue=m.updateQueue,f.memoizedState=m.memoizedState,f.lanes=m.lanes):(f.updateQueue=null,f.memoizedState=null)}var y=Pd(o);if(y!==null){y.flags&=-257,_d(y,o,i,l,t),y.mode&1&&Ed(l,c,t),t=y,d=c;var v=t.updateQueue;if(v===null){var k=new Set;k.add(d),t.updateQueue=k}else v.add(d);break e}else{if(!(t&1)){Ed(l,c,t),wi();break e}d=Error(O(426))}}else if(re&&i.mode&1){var S=Pd(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),_d(S,o,i,l,t),si(Fs(d,i));break e}}l=d=Fs(d,i),xe!==4&&(xe=2),Nr===null?Nr=[l]:Nr.push(l),l=o;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var g=um(l,d,t);kd(l,g);break e;case 1:i=d;var h=l.type,p=l.stateNode;if(!(l.flags&128)&&(typeof h.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Ft===null||!Ft.has(p)))){l.flags|=65536,t&=-t,l.lanes|=t;var b=mm(l,i,t);kd(l,b);break e}}l=l.return}while(l!==null)}Tm(s)}catch(C){t=C,ue===s&&s!==null&&(ue=s=s.return);continue}break}while(!0)}function _m(){var e=ma.current;return ma.current=ua,e===null?ua:e}function wi(){(xe===0||xe===3||xe===2)&&(xe=4),be===null||!(cs&268435455)&&!(Ta&268435455)||Lt(be,ve)}function xa(e,t){var s=G;G|=2;var n=_m();(be!==e||ve!==t)&&(pt=null,as(e,t));do try{I0();break}catch(a){Pm(e,a)}while(!0);if(ni(),G=s,ma.current=n,ue!==null)throw Error(O(261));return be=null,ve=0,xe}function I0(){for(;ue!==null;)Rm(ue)}function B0(){for(;ue!==null&&!df();)Rm(ue)}function Rm(e){var t=Lm(e.alternate,e,Be);e.memoizedProps=e.pendingProps,t===null?Tm(e):ue=t,gi.current=null}function Tm(e){var t=e;do{var s=t.alternate;if(e=t.return,t.flags&32768){if(s=T0(s,t),s!==null){s.flags&=32767,ue=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{xe=6,ue=null;return}}else if(s=R0(s,t,Be),s!==null){ue=s;return}if(t=t.sibling,t!==null){ue=t;return}ue=t=e}while(t!==null);xe===0&&(xe=5)}function es(e,t,s){var n=X,a=Ye.transition;try{Ye.transition=null,X=1,z0(e,t,s,n)}finally{Ye.transition=a,X=n}return null}function z0(e,t,s,n){do Ms();while(Mt!==null);if(G&6)throw Error(O(327));s=e.finishedWork;var a=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(O(177));e.callbackNode=null,e.callbackPriority=0;var l=s.lanes|s.childLanes;if(yf(e,l),e===be&&(ue=be=null,ve=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||xn||(xn=!0,Om(Kn,function(){return Ms(),null})),l=(s.flags&15990)!==0,s.subtreeFlags&15990||l){l=Ye.transition,Ye.transition=null;var o=X;X=1;var i=G;G|=4,gi.current=null,L0(e,s),Sm(s,e),a0(Xl),Xn=!!Gl,Xl=Gl=null,e.current=s,O0(s),cf(),G=i,X=o,Ye.transition=l}else e.current=s;if(xn&&(xn=!1,Mt=e,fa=a),l=e.pendingLanes,l===0&&(Ft=null),hf(s.stateNode),Ie(e,de()),t!==null)for(n=e.onRecoverableError,s=0;s<t.length;s++)a=t[s],n(a.value,{componentStack:a.stack,digest:a.digest});if(ha)throw ha=!1,e=yo,yo=null,e;return fa&1&&e.tag!==0&&Ms(),l=e.pendingLanes,l&1?e===vo?Sr++:(Sr=0,vo=e):Sr=0,Gt(),null}function Ms(){if(Mt!==null){var e=uu(fa),t=Ye.transition,s=X;try{if(Ye.transition=null,X=16>e?16:e,Mt===null)var n=!1;else{if(e=Mt,Mt=null,fa=0,G&6)throw Error(O(331));var a=G;for(G|=4,B=e.current;B!==null;){var l=B,o=l.child;if(B.flags&16){var i=l.deletions;if(i!==null){for(var d=0;d<i.length;d++){var c=i[d];for(B=c;B!==null;){var f=B;switch(f.tag){case 0:case 11:case 15:jr(8,f,l)}var x=f.child;if(x!==null)x.return=f,B=x;else for(;B!==null;){f=B;var m=f.sibling,y=f.return;if(wm(f),f===c){B=null;break}if(m!==null){m.return=y,B=m;break}B=y}}}var v=l.alternate;if(v!==null){var k=v.child;if(k!==null){v.child=null;do{var S=k.sibling;k.sibling=null,k=S}while(k!==null)}}B=l}}if(l.subtreeFlags&2064&&o!==null)o.return=l,B=o;else e:for(;B!==null;){if(l=B,l.flags&2048)switch(l.tag){case 0:case 11:case 15:jr(9,l,l.return)}var g=l.sibling;if(g!==null){g.return=l.return,B=g;break e}B=l.return}}var h=e.current;for(B=h;B!==null;){o=B;var p=o.child;if(o.subtreeFlags&2064&&p!==null)p.return=o,B=p;else e:for(o=h;B!==null;){if(i=B,i.flags&2048)try{switch(i.tag){case 0:case 11:case 15:Ra(9,i)}}catch(C){ie(i,i.return,C)}if(i===o){B=null;break e}var b=i.sibling;if(b!==null){b.return=i.return,B=b;break e}B=i.return}}if(G=a,Gt(),ct&&typeof ct.onPostCommitFiberRoot=="function")try{ct.onPostCommitFiberRoot(wa,e)}catch{}n=!0}return n}finally{X=s,Ye.transition=t}}return!1}function Fd(e,t,s){t=Fs(s,t),t=um(e,t,1),e=$t(e,t,1),t=Pe(),e!==null&&(Wr(e,1,t),Ie(e,t))}function ie(e,t,s){if(e.tag===3)Fd(e,e,s);else for(;t!==null;){if(t.tag===3){Fd(t,e,s);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ft===null||!Ft.has(n))){e=Fs(s,e),e=mm(t,e,1),t=$t(t,e,1),e=Pe(),t!==null&&(Wr(t,1,e),Ie(t,e));break}}t=t.return}}function U0(e,t,s){var n=e.pingCache;n!==null&&n.delete(t),t=Pe(),e.pingedLanes|=e.suspendedLanes&s,be===e&&(ve&s)===s&&(xe===4||xe===3&&(ve&130023424)===ve&&500>de()-yi?as(e,0):bi|=s),Ie(e,t)}function Am(e,t){t===0&&(e.mode&1?(t=nn,nn<<=1,!(nn&130023424)&&(nn=4194304)):t=1);var s=Pe();e=jt(e,t),e!==null&&(Wr(e,t,s),Ie(e,s))}function $0(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),Am(e,s)}function F0(e,t){var s=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(s=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(O(314))}n!==null&&n.delete(t),Am(e,s)}var Lm;Lm=function(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps||Me.current)Oe=!0;else{if(!(e.lanes&s)&&!(t.flags&128))return Oe=!1,_0(e,t,s);Oe=!!(e.flags&131072)}else Oe=!1,re&&t.flags&1048576&&Iu(t,aa,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;zn(e,t),e=t.pendingProps;var a=Bs(t,Se.current);Os(t,s),a=mi(null,t,n,e,a,s);var l=hi();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,De(n)?(l=!0,ra(t)):l=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,oi(t),a.updater=_a,t.stateNode=a,a._reactInternals=t,oo(t,n,e,s),t=uo(null,t,n,!0,l,s)):(t.tag=0,re&&l&&ei(t),Ee(null,t,a,s),t=t.child),t;case 16:n=t.elementType;e:{switch(zn(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=Q0(n),e=Ze(n,e),a){case 0:t=co(null,t,n,e,s);break e;case 1:t=Ad(null,t,n,e,s);break e;case 11:t=Rd(null,t,n,e,s);break e;case 14:t=Td(null,t,n,Ze(n.type,e),s);break e}throw Error(O(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Ze(n,a),co(e,t,n,a,s);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Ze(n,a),Ad(e,t,n,a,s);case 3:e:{if(pm(t),e===null)throw Error(O(387));n=t.pendingProps,l=t.memoizedState,a=l.element,qu(e,t),ia(t,n,null,s);var o=t.memoizedState;if(n=o.element,l.isDehydrated)if(l={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){a=Fs(Error(O(423)),t),t=Ld(e,t,n,s,a);break e}else if(n!==a){a=Fs(Error(O(424)),t),t=Ld(e,t,n,s,a);break e}else for(ze=Ut(t.stateNode.containerInfo.firstChild),Ue=t,re=!0,st=null,s=$u(t,null,n,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(zs(),n===a){t=Nt(e,t,s);break e}Ee(e,t,n,s)}t=t.child}return t;case 5:return Qu(t),e===null&&no(t),n=t.type,a=t.pendingProps,l=e!==null?e.memoizedProps:null,o=a.children,Zl(n,a)?o=null:l!==null&&Zl(n,l)&&(t.flags|=32),xm(e,t),Ee(e,t,o,s),t.child;case 6:return e===null&&no(t),null;case 13:return gm(e,t,s);case 4:return ii(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Us(t,null,n,s):Ee(e,t,n,s),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Ze(n,a),Rd(e,t,n,a,s);case 7:return Ee(e,t,t.pendingProps,s),t.child;case 8:return Ee(e,t,t.pendingProps.children,s),t.child;case 12:return Ee(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,l=t.memoizedProps,o=a.value,ee(la,n._currentValue),n._currentValue=o,l!==null)if(lt(l.value,o)){if(l.children===a.children&&!Me.current){t=Nt(e,t,s);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var i=l.dependencies;if(i!==null){o=l.child;for(var d=i.firstContext;d!==null;){if(d.context===n){if(l.tag===1){d=vt(-1,s&-s),d.tag=2;var c=l.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?d.next=d:(d.next=f.next,f.next=d),c.pending=d}}l.lanes|=s,d=l.alternate,d!==null&&(d.lanes|=s),ao(l.return,s,t),i.lanes|=s;break}d=d.next}}else if(l.tag===10)o=l.type===t.type?null:l.child;else if(l.tag===18){if(o=l.return,o===null)throw Error(O(341));o.lanes|=s,i=o.alternate,i!==null&&(i.lanes|=s),ao(o,s,t),o=l.sibling}else o=l.child;if(o!==null)o.return=l;else for(o=l;o!==null;){if(o===t){o=null;break}if(l=o.sibling,l!==null){l.return=o.return,o=l;break}o=o.return}l=o}Ee(e,t,a.children,s),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Os(t,s),a=Je(a),n=n(a),t.flags|=1,Ee(e,t,n,s),t.child;case 14:return n=t.type,a=Ze(n,t.pendingProps),a=Ze(n.type,a),Td(e,t,n,a,s);case 15:return hm(e,t,t.type,t.pendingProps,s);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Ze(n,a),zn(e,t),t.tag=1,De(n)?(e=!0,ra(t)):e=!1,Os(t,s),cm(t,n,a),oo(t,n,a,s),uo(null,t,n,!0,e,s);case 19:return bm(e,t,s);case 22:return fm(e,t,s)}throw Error(O(156,t.tag))};function Om(e,t){return ou(e,t)}function q0(e,t,s,n){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function We(e,t,s,n){return new q0(e,t,s,n)}function ji(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Q0(e){if(typeof e=="function")return ji(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Fo)return 11;if(e===qo)return 14}return 2}function Qt(e,t){var s=e.alternate;return s===null?(s=We(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function Fn(e,t,s,n,a,l){var o=2;if(n=e,typeof e=="function")ji(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case ys:return ls(s.children,a,l,t);case $o:o=8,a|=8;break;case Tl:return e=We(12,s,t,a|2),e.elementType=Tl,e.lanes=l,e;case Al:return e=We(13,s,t,a),e.elementType=Al,e.lanes=l,e;case Ll:return e=We(19,s,t,a),e.elementType=Ll,e.lanes=l,e;case Qc:return Aa(s,a,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Fc:o=10;break e;case qc:o=9;break e;case Fo:o=11;break e;case qo:o=14;break e;case Rt:o=16,n=null;break e}throw Error(O(130,e==null?e:typeof e,""))}return t=We(o,s,t,a),t.elementType=e,t.type=n,t.lanes=l,t}function ls(e,t,s,n){return e=We(7,e,n,t),e.lanes=s,e}function Aa(e,t,s,n){return e=We(22,e,n,t),e.elementType=Qc,e.lanes=s,e.stateNode={isHidden:!1},e}function fl(e,t,s){return e=We(6,e,null,t),e.lanes=s,e}function xl(e,t,s){return t=We(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function H0(e,t,s,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ja(0),this.expirationTimes=Ja(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ja(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Ni(e,t,s,n,a,l,o,i,d){return e=new H0(e,t,s,i,d),t===1?(t=1,l===!0&&(t|=8)):t=0,l=We(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:n,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},oi(l),e}function V0(e,t,s){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bs,key:n==null?null:""+n,children:e,containerInfo:t,implementation:s}}function Mm(e){if(!e)return Yt;e=e._reactInternals;e:{if(hs(e)!==e||e.tag!==1)throw Error(O(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(De(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(O(171))}if(e.tag===1){var s=e.type;if(De(s))return Mu(e,s,t)}return t}function Dm(e,t,s,n,a,l,o,i,d){return e=Ni(s,n,!0,e,a,l,o,i,d),e.context=Mm(null),s=e.current,n=Pe(),a=qt(s),l=vt(n,a),l.callback=t??null,$t(s,l,a),e.current.lanes=a,Wr(e,a,n),Ie(e,n),e}function La(e,t,s,n){var a=t.current,l=Pe(),o=qt(a);return s=Mm(s),t.context===null?t.context=s:t.pendingContext=s,t=vt(l,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=$t(a,t,o),e!==null&&(nt(e,a,o,l),Dn(e,a,o)),o}function pa(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function qd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function Si(e,t){qd(e,t),(e=e.alternate)&&qd(e,t)}function W0(){return null}var Im=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ci(e){this._internalRoot=e}Oa.prototype.render=Ci.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(O(409));La(e,t,null,null)};Oa.prototype.unmount=Ci.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;us(function(){La(null,e,null,null)}),t[wt]=null}};function Oa(e){this._internalRoot=e}Oa.prototype.unstable_scheduleHydration=function(e){if(e){var t=fu();e={blockedOn:null,target:e,priority:t};for(var s=0;s<At.length&&t!==0&&t<At[s].priority;s++);At.splice(s,0,e),s===0&&pu(e)}};function Ei(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ma(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Qd(){}function Y0(e,t,s,n,a){if(a){if(typeof n=="function"){var l=n;n=function(){var c=pa(o);l.call(c)}}var o=Dm(t,n,e,0,null,!1,!1,"",Qd);return e._reactRootContainer=o,e[wt]=o.current,Mr(e.nodeType===8?e.parentNode:e),us(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var i=n;n=function(){var c=pa(d);i.call(c)}}var d=Ni(e,0,!1,null,null,!1,!1,"",Qd);return e._reactRootContainer=d,e[wt]=d.current,Mr(e.nodeType===8?e.parentNode:e),us(function(){La(t,d,s,n)}),d}function Da(e,t,s,n,a){var l=s._reactRootContainer;if(l){var o=l;if(typeof a=="function"){var i=a;a=function(){var d=pa(o);i.call(d)}}La(t,o,e,a)}else o=Y0(s,t,e,a,n);return pa(o)}mu=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=fr(t.pendingLanes);s!==0&&(Vo(t,s|1),Ie(t,de()),!(G&6)&&(qs=de()+500,Gt()))}break;case 13:us(function(){var n=jt(e,1);if(n!==null){var a=Pe();nt(n,e,1,a)}}),Si(e,1)}};Wo=function(e){if(e.tag===13){var t=jt(e,134217728);if(t!==null){var s=Pe();nt(t,e,134217728,s)}Si(e,134217728)}};hu=function(e){if(e.tag===13){var t=qt(e),s=jt(e,t);if(s!==null){var n=Pe();nt(s,e,t,n)}Si(e,t)}};fu=function(){return X};xu=function(e,t){var s=X;try{return X=e,t()}finally{X=s}};ql=function(e,t,s){switch(t){case"input":if(Dl(e,s),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var n=s[t];if(n!==e&&n.form===e.form){var a=Ca(n);if(!a)throw Error(O(90));Vc(n),Dl(n,a)}}}break;case"textarea":Yc(e,s);break;case"select":t=s.value,t!=null&&Rs(e,!!s.multiple,t,!1)}};tu=vi;su=us;var J0={usingClientEntryPoint:!1,Events:[Jr,js,Ca,Zc,eu,vi]},lr={findFiberByHostInstance:ts,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},K0={bundleType:lr.bundleType,version:lr.version,rendererPackageName:lr.rendererPackageName,rendererConfig:lr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:St.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=au(e),e===null?null:e.stateNode},findFiberByHostInstance:lr.findFiberByHostInstance||W0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pn=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pn.isDisabled&&pn.supportsFiber)try{wa=pn.inject(K0),ct=pn}catch{}}Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J0;Fe.createPortal=function(e,t){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ei(t))throw Error(O(200));return V0(e,t,null,s)};Fe.createRoot=function(e,t){if(!Ei(e))throw Error(O(299));var s=!1,n="",a=Im;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Ni(e,1,!1,null,null,s,!1,n,a),e[wt]=t.current,Mr(e.nodeType===8?e.parentNode:e),new Ci(t)};Fe.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(O(188)):(e=Object.keys(e).join(","),Error(O(268,e)));return e=au(t),e=e===null?null:e.stateNode,e};Fe.flushSync=function(e){return us(e)};Fe.hydrate=function(e,t,s){if(!Ma(t))throw Error(O(200));return Da(null,e,t,!0,s)};Fe.hydrateRoot=function(e,t,s){if(!Ei(e))throw Error(O(405));var n=s!=null&&s.hydratedSources||null,a=!1,l="",o=Im;if(s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onRecoverableError!==void 0&&(o=s.onRecoverableError)),t=Dm(t,null,e,1,s??null,a,!1,l,o),e[wt]=t.current,Mr(e),n)for(e=0;e<n.length;e++)s=n[e],a=s._getVersion,a=a(s._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[s,a]:t.mutableSourceEagerHydrationData.push(s,a);return new Oa(t)};Fe.render=function(e,t,s){if(!Ma(t))throw Error(O(200));return Da(null,e,t,!1,s)};Fe.unmountComponentAtNode=function(e){if(!Ma(e))throw Error(O(40));return e._reactRootContainer?(us(function(){Da(null,null,e,!1,function(){e._reactRootContainer=null,e[wt]=null})}),!0):!1};Fe.unstable_batchedUpdates=vi;Fe.unstable_renderSubtreeIntoContainer=function(e,t,s,n){if(!Ma(s))throw Error(O(200));if(e==null||e._reactInternals===void 0)throw Error(O(38));return Da(e,t,s,!1,n)};Fe.version="18.3.1-next-f1338f8080-20240426";function Bm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Bm)}catch(e){console.error(e)}}Bm(),Bc.exports=Fe;var G0=Bc.exports,Hd=G0;_l.createRoot=Hd.createRoot,_l.hydrateRoot=Hd.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qr(){return Qr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},Qr.apply(this,arguments)}var Dt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Dt||(Dt={}));const Vd="popstate";function X0(e){e===void 0&&(e={});function t(n,a){let{pathname:l,search:o,hash:i}=n.location;return jo("",{pathname:l,search:o,hash:i},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function s(n,a){return typeof a=="string"?a:ga(a)}return ex(t,s,null,e)}function le(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Pi(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Z0(){return Math.random().toString(36).substr(2,8)}function Wd(e,t){return{usr:e.state,key:e.key,idx:t}}function jo(e,t,s,n){return s===void 0&&(s=null),Qr({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ys(t):t,{state:s,key:t&&t.key||n||Z0()})}function ga(e){let{pathname:t="/",search:s="",hash:n=""}=e;return s&&s!=="?"&&(t+=s.charAt(0)==="?"?s:"?"+s),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ys(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substr(s),e=e.substr(0,s));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function ex(e,t,s,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:l=!1}=n,o=a.history,i=Dt.Pop,d=null,c=f();c==null&&(c=0,o.replaceState(Qr({},o.state,{idx:c}),""));function f(){return(o.state||{idx:null}).idx}function x(){i=Dt.Pop;let S=f(),g=S==null?null:S-c;c=S,d&&d({action:i,location:k.location,delta:g})}function m(S,g){i=Dt.Push;let h=jo(k.location,S,g);c=f()+1;let p=Wd(h,c),b=k.createHref(h);try{o.pushState(p,"",b)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;a.location.assign(b)}l&&d&&d({action:i,location:k.location,delta:1})}function y(S,g){i=Dt.Replace;let h=jo(k.location,S,g);c=f();let p=Wd(h,c),b=k.createHref(h);o.replaceState(p,"",b),l&&d&&d({action:i,location:k.location,delta:0})}function v(S){let g=a.location.origin!=="null"?a.location.origin:a.location.href,h=typeof S=="string"?S:ga(S);return h=h.replace(/ $/,"%20"),le(g,"No window.location.(origin|href) available to create URL for href: "+h),new URL(h,g)}let k={get action(){return i},get location(){return e(a,o)},listen(S){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(Vd,x),d=S,()=>{a.removeEventListener(Vd,x),d=null}},createHref(S){return t(a,S)},createURL:v,encodeLocation(S){let g=v(S);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:m,replace:y,go(S){return o.go(S)}};return k}var Yd;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Yd||(Yd={}));function tx(e,t,s){return s===void 0&&(s="/"),sx(e,t,s)}function sx(e,t,s,n){let a=typeof t=="string"?Ys(t):t,l=Qs(a.pathname||"/",s);if(l==null)return null;let o=zm(e);rx(o);let i=null;for(let d=0;i==null&&d<o.length;++d){let c=fx(l);i=mx(o[d],c)}return i}function zm(e,t,s,n){t===void 0&&(t=[]),s===void 0&&(s=[]),n===void 0&&(n="");let a=(l,o,i)=>{let d={relativePath:i===void 0?l.path||"":i,caseSensitive:l.caseSensitive===!0,childrenIndex:o,route:l};d.relativePath.startsWith("/")&&(le(d.relativePath.startsWith(n),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(n.length));let c=Ht([n,d.relativePath]),f=s.concat(d);l.children&&l.children.length>0&&(le(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),zm(l.children,t,f,c)),!(l.path==null&&!l.index)&&t.push({path:c,score:cx(c,l.index),routesMeta:f})};return e.forEach((l,o)=>{var i;if(l.path===""||!((i=l.path)!=null&&i.includes("?")))a(l,o);else for(let d of Um(l.path))a(l,o,d)}),t}function Um(e){let t=e.split("/");if(t.length===0)return[];let[s,...n]=t,a=s.endsWith("?"),l=s.replace(/\?$/,"");if(n.length===0)return a?[l,""]:[l];let o=Um(n.join("/")),i=[];return i.push(...o.map(d=>d===""?l:[l,d].join("/"))),a&&i.push(...o),i.map(d=>e.startsWith("/")&&d===""?"/":d)}function rx(e){e.sort((t,s)=>t.score!==s.score?s.score-t.score:ux(t.routesMeta.map(n=>n.childrenIndex),s.routesMeta.map(n=>n.childrenIndex)))}const nx=/^:[\w-]+$/,ax=3,lx=2,ox=1,ix=10,dx=-2,Jd=e=>e==="*";function cx(e,t){let s=e.split("/"),n=s.length;return s.some(Jd)&&(n+=dx),t&&(n+=lx),s.filter(a=>!Jd(a)).reduce((a,l)=>a+(nx.test(l)?ax:l===""?ox:ix),n)}function ux(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function mx(e,t,s){let{routesMeta:n}=e,a={},l="/",o=[];for(let i=0;i<n.length;++i){let d=n[i],c=i===n.length-1,f=l==="/"?t:t.slice(l.length)||"/",x=No({path:d.relativePath,caseSensitive:d.caseSensitive,end:c},f),m=d.route;if(!x)return null;Object.assign(a,x.params),o.push({params:a,pathname:Ht([l,x.pathname]),pathnameBase:yx(Ht([l,x.pathnameBase])),route:m}),x.pathnameBase!=="/"&&(l=Ht([l,x.pathnameBase]))}return o}function No(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,n]=hx(e.path,e.caseSensitive,e.end),a=t.match(s);if(!a)return null;let l=a[0],o=l.replace(/(.)\/+$/,"$1"),i=a.slice(1);return{params:n.reduce((c,f,x)=>{let{paramName:m,isOptional:y}=f;if(m==="*"){let k=i[x]||"";o=l.slice(0,l.length-k.length).replace(/(.)\/+$/,"$1")}const v=i[x];return y&&!v?c[m]=void 0:c[m]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:l,pathnameBase:o,pattern:e}}function hx(e,t,s){t===void 0&&(t=!1),s===void 0&&(s=!0),Pi(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,i,d)=>(n.push({paramName:i,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function fx(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Pi(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Qs(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,n=e.charAt(s);return n&&n!=="/"?null:e.slice(s)||"/"}const xx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,px=e=>xx.test(e);function gx(e,t){t===void 0&&(t="/");let{pathname:s,search:n="",hash:a=""}=typeof e=="string"?Ys(e):e,l;if(s)if(px(s))l=s;else{if(s.includes("//")){let o=s;s=s.replace(/\/\/+/g,"/"),Pi(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+s))}s.startsWith("/")?l=Kd(s.substring(1),"/"):l=Kd(s,t)}else l=t;return{pathname:l,search:vx(n),hash:kx(a)}}function Kd(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?s.length>1&&s.pop():a!=="."&&s.push(a)}),s.length>1?s.join("/"):"/"}function pl(e,t,s,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function bx(e){return e.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function _i(e,t){let s=bx(e);return t?s.map((n,a)=>a===s.length-1?n.pathname:n.pathnameBase):s.map(n=>n.pathnameBase)}function Ri(e,t,s,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=Ys(e):(a=Qr({},e),le(!a.pathname||!a.pathname.includes("?"),pl("?","pathname","search",a)),le(!a.pathname||!a.pathname.includes("#"),pl("#","pathname","hash",a)),le(!a.search||!a.search.includes("#"),pl("#","search","hash",a)));let l=e===""||a.pathname==="",o=l?"/":a.pathname,i;if(o==null)i=s;else{let x=t.length-1;if(!n&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),x-=1;a.pathname=m.join("/")}i=x>=0?t[x]:"/"}let d=gx(a,i),c=o&&o!=="/"&&o.endsWith("/"),f=(l||o===".")&&s.endsWith("/");return!d.pathname.endsWith("/")&&(c||f)&&(d.pathname+="/"),d}const Ht=e=>e.join("/").replace(/\/\/+/g,"/"),yx=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),vx=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,kx=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function wx(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const $m=["post","put","patch","delete"];new Set($m);const jx=["get",...$m];new Set(jx);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hr(){return Hr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},Hr.apply(this,arguments)}const Ia=u.createContext(null),Fm=u.createContext(null),Ct=u.createContext(null),Ba=u.createContext(null),ft=u.createContext({outlet:null,matches:[],isDataRoute:!1}),qm=u.createContext(null);function Nx(e,t){let{relative:s}=t===void 0?{}:t;Js()||le(!1);let{basename:n,navigator:a}=u.useContext(Ct),{hash:l,pathname:o,search:i}=Ua(e,{relative:s}),d=o;return n!=="/"&&(d=o==="/"?n:Ht([n,o])),a.createHref({pathname:d,search:i,hash:l})}function Js(){return u.useContext(Ba)!=null}function xt(){return Js()||le(!1),u.useContext(Ba).location}function Qm(e){u.useContext(Ct).static||u.useLayoutEffect(e)}function Ge(){let{isDataRoute:e}=u.useContext(ft);return e?zx():Sx()}function Sx(){Js()||le(!1);let e=u.useContext(Ia),{basename:t,future:s,navigator:n}=u.useContext(Ct),{matches:a}=u.useContext(ft),{pathname:l}=xt(),o=JSON.stringify(_i(a,s.v7_relativeSplatPath)),i=u.useRef(!1);return Qm(()=>{i.current=!0}),u.useCallback(function(c,f){if(f===void 0&&(f={}),!i.current)return;if(typeof c=="number"){n.go(c);return}let x=Ri(c,JSON.parse(o),l,f.relative==="path");e==null&&t!=="/"&&(x.pathname=x.pathname==="/"?t:Ht([t,x.pathname])),(f.replace?n.replace:n.push)(x,f.state,f)},[t,n,o,l,e])}const Cx=u.createContext(null);function Ex(e){let t=u.useContext(ft).outlet;return t&&u.createElement(Cx.Provider,{value:e},t)}function za(){let{matches:e}=u.useContext(ft),t=e[e.length-1];return t?t.params:{}}function Ua(e,t){let{relative:s}=t===void 0?{}:t,{future:n}=u.useContext(Ct),{matches:a}=u.useContext(ft),{pathname:l}=xt(),o=JSON.stringify(_i(a,n.v7_relativeSplatPath));return u.useMemo(()=>Ri(e,JSON.parse(o),l,s==="path"),[e,o,l,s])}function Px(e,t){return _x(e,t)}function _x(e,t,s,n){Js()||le(!1);let{navigator:a}=u.useContext(Ct),{matches:l}=u.useContext(ft),o=l[l.length-1],i=o?o.params:{};o&&o.pathname;let d=o?o.pathnameBase:"/";o&&o.route;let c=xt(),f;if(t){var x;let S=typeof t=="string"?Ys(t):t;d==="/"||(x=S.pathname)!=null&&x.startsWith(d)||le(!1),f=S}else f=c;let m=f.pathname||"/",y=m;if(d!=="/"){let S=d.replace(/^\//,"").split("/");y="/"+m.replace(/^\//,"").split("/").slice(S.length).join("/")}let v=tx(e,{pathname:y}),k=Ox(v&&v.map(S=>Object.assign({},S,{params:Object.assign({},i,S.params),pathname:Ht([d,a.encodeLocation?a.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?d:Ht([d,a.encodeLocation?a.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),l,s,n);return t&&k?u.createElement(Ba.Provider,{value:{location:Hr({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Dt.Pop}},k):k}function Rx(){let e=Bx(),t=wx(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return u.createElement(u.Fragment,null,u.createElement("h2",null,"Unexpected Application Error!"),u.createElement("h3",{style:{fontStyle:"italic"}},t),s?u.createElement("pre",{style:a},s):null,null)}const Tx=u.createElement(Rx,null);class Ax extends u.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,s){return s.location!==t.location||s.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:s.error,location:s.location,revalidation:t.revalidation||s.revalidation}}componentDidCatch(t,s){console.error("React Router caught the following error during render",t,s)}render(){return this.state.error!==void 0?u.createElement(ft.Provider,{value:this.props.routeContext},u.createElement(qm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Lx(e){let{routeContext:t,match:s,children:n}=e,a=u.useContext(Ia);return a&&a.static&&a.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=s.route.id),u.createElement(ft.Provider,{value:t},n)}function Ox(e,t,s,n){var a;if(t===void 0&&(t=[]),s===void 0&&(s=null),n===void 0&&(n=null),e==null){var l;if(!s)return null;if(s.errors)e=s.matches;else if((l=n)!=null&&l.v7_partialHydration&&t.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let o=e,i=(a=s)==null?void 0:a.errors;if(i!=null){let f=o.findIndex(x=>x.route.id&&(i==null?void 0:i[x.route.id])!==void 0);f>=0||le(!1),o=o.slice(0,Math.min(o.length,f+1))}let d=!1,c=-1;if(s&&n&&n.v7_partialHydration)for(let f=0;f<o.length;f++){let x=o[f];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(c=f),x.route.id){let{loaderData:m,errors:y}=s,v=x.route.loader&&m[x.route.id]===void 0&&(!y||y[x.route.id]===void 0);if(x.route.lazy||v){d=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((f,x,m)=>{let y,v=!1,k=null,S=null;s&&(y=i&&x.route.id?i[x.route.id]:void 0,k=x.route.errorElement||Tx,d&&(c<0&&m===0?(Ux("route-fallback"),v=!0,S=null):c===m&&(v=!0,S=x.route.hydrateFallbackElement||null)));let g=t.concat(o.slice(0,m+1)),h=()=>{let p;return y?p=k:v?p=S:x.route.Component?p=u.createElement(x.route.Component,null):x.route.element?p=x.route.element:p=f,u.createElement(Lx,{match:x,routeContext:{outlet:f,matches:g,isDataRoute:s!=null},children:p})};return s&&(x.route.ErrorBoundary||x.route.errorElement||m===0)?u.createElement(Ax,{location:s.location,revalidation:s.revalidation,component:k,error:y,children:h(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):h()},null)}var Hm=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Hm||{}),Vm=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Vm||{});function Mx(e){let t=u.useContext(Ia);return t||le(!1),t}function Dx(e){let t=u.useContext(Fm);return t||le(!1),t}function Ix(e){let t=u.useContext(ft);return t||le(!1),t}function Wm(e){let t=Ix(),s=t.matches[t.matches.length-1];return s.route.id||le(!1),s.route.id}function Bx(){var e;let t=u.useContext(qm),s=Dx(),n=Wm();return t!==void 0?t:(e=s.errors)==null?void 0:e[n]}function zx(){let{router:e}=Mx(Hm.UseNavigateStable),t=Wm(Vm.UseNavigateStable),s=u.useRef(!1);return Qm(()=>{s.current=!0}),u.useCallback(function(a,l){l===void 0&&(l={}),s.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Hr({fromRouteId:t},l)))},[e,t])}const Gd={};function Ux(e,t,s){Gd[e]||(Gd[e]=!0)}function $x(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Cr(e){let{to:t,replace:s,state:n,relative:a}=e;Js()||le(!1);let{future:l,static:o}=u.useContext(Ct),{matches:i}=u.useContext(ft),{pathname:d}=xt(),c=Ge(),f=Ri(t,_i(i,l.v7_relativeSplatPath),d,a==="path"),x=JSON.stringify(f);return u.useEffect(()=>c(JSON.parse(x),{replace:s,state:n,relative:a}),[c,x,a,s,n]),null}function Ym(e){return Ex(e.context)}function F(e){le(!1)}function Fx(e){let{basename:t="/",children:s=null,location:n,navigationType:a=Dt.Pop,navigator:l,static:o=!1,future:i}=e;Js()&&le(!1);let d=t.replace(/^\/*/,"/"),c=u.useMemo(()=>({basename:d,navigator:l,static:o,future:Hr({v7_relativeSplatPath:!1},i)}),[d,i,l,o]);typeof n=="string"&&(n=Ys(n));let{pathname:f="/",search:x="",hash:m="",state:y=null,key:v="default"}=n,k=u.useMemo(()=>{let S=Qs(f,d);return S==null?null:{location:{pathname:S,search:x,hash:m,state:y,key:v},navigationType:a}},[d,f,x,m,y,v,a]);return k==null?null:u.createElement(Ct.Provider,{value:c},u.createElement(Ba.Provider,{children:s,value:k}))}function qx(e){let{children:t,location:s}=e;return Px(So(t),s)}new Promise(()=>{});function So(e,t){t===void 0&&(t=[]);let s=[];return u.Children.forEach(e,(n,a)=>{if(!u.isValidElement(n))return;let l=[...t,a];if(n.type===u.Fragment){s.push.apply(s,So(n.props.children,l));return}n.type!==F&&le(!1),!n.props.index||!n.props.children||le(!1);let o={id:n.props.id||l.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=So(n.props.children,l)),s.push(o)}),s}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ba(){return ba=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},ba.apply(this,arguments)}function Jm(e,t){if(e==null)return{};var s={},n=Object.keys(e),a,l;for(l=0;l<n.length;l++)a=n[l],!(t.indexOf(a)>=0)&&(s[a]=e[a]);return s}function Qx(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Hx(e,t){return e.button===0&&(!t||t==="_self")&&!Qx(e)}function Co(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,s)=>{let n=e[s];return t.concat(Array.isArray(n)?n.map(a=>[s,a]):[[s,n]])},[]))}function Vx(e,t){let s=Co(e);return t&&t.forEach((n,a)=>{s.has(a)||t.getAll(a).forEach(l=>{s.append(a,l)})}),s}const Wx=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Yx=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Jx="6";try{window.__reactRouterVersion=Jx}catch{}const Kx=u.createContext({isTransitioning:!1}),Gx="startTransition",Xd=zh[Gx];function Xx(e){let{basename:t,children:s,future:n,window:a}=e,l=u.useRef();l.current==null&&(l.current=X0({window:a,v5Compat:!0}));let o=l.current,[i,d]=u.useState({action:o.action,location:o.location}),{v7_startTransition:c}=n||{},f=u.useCallback(x=>{c&&Xd?Xd(()=>d(x)):d(x)},[d,c]);return u.useLayoutEffect(()=>o.listen(f),[o,f]),u.useEffect(()=>$x(n),[n]),u.createElement(Fx,{basename:t,children:s,location:i.location,navigationType:i.action,navigator:o,future:n})}const Zx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ep=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,j=u.forwardRef(function(t,s){let{onClick:n,relative:a,reloadDocument:l,replace:o,state:i,target:d,to:c,preventScrollReset:f,viewTransition:x}=t,m=Jm(t,Wx),{basename:y}=u.useContext(Ct),v,k=!1;if(typeof c=="string"&&ep.test(c)&&(v=c,Zx))try{let p=new URL(window.location.href),b=c.startsWith("//")?new URL(p.protocol+c):new URL(c),C=Qs(b.pathname,y);b.origin===p.origin&&C!=null?c=C+b.search+b.hash:k=!0}catch{}let S=Nx(c,{relative:a}),g=sp(c,{replace:o,state:i,target:d,preventScrollReset:f,relative:a,viewTransition:x});function h(p){n&&n(p),p.defaultPrevented||g(p)}return u.createElement("a",ba({},m,{href:v||S,onClick:k||l?n:h,ref:s,target:d}))}),ya=u.forwardRef(function(t,s){let{"aria-current":n="page",caseSensitive:a=!1,className:l="",end:o=!1,style:i,to:d,viewTransition:c,children:f}=t,x=Jm(t,Yx),m=Ua(d,{relative:x.relative}),y=xt(),v=u.useContext(Fm),{navigator:k,basename:S}=u.useContext(Ct),g=v!=null&&rp(m)&&c===!0,h=k.encodeLocation?k.encodeLocation(m).pathname:m.pathname,p=y.pathname,b=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;a||(p=p.toLowerCase(),b=b?b.toLowerCase():null,h=h.toLowerCase()),b&&S&&(b=Qs(b,S)||b);const C=h!=="/"&&h.endsWith("/")?h.length-1:h.length;let P=p===h||!o&&p.startsWith(h)&&p.charAt(C)==="/",_=b!=null&&(b===h||!o&&b.startsWith(h)&&b.charAt(h.length)==="/"),N={isActive:P,isPending:_,isTransitioning:g},T=P?n:void 0,A;typeof l=="function"?A=l(N):A=[l,P?"active":null,_?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let I=typeof i=="function"?i(N):i;return u.createElement(j,ba({},x,{"aria-current":T,className:A,ref:s,style:I,to:d,viewTransition:c}),typeof f=="function"?f(N):f)});var Eo;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Eo||(Eo={}));var Zd;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Zd||(Zd={}));function tp(e){let t=u.useContext(Ia);return t||le(!1),t}function sp(e,t){let{target:s,replace:n,state:a,preventScrollReset:l,relative:o,viewTransition:i}=t===void 0?{}:t,d=Ge(),c=xt(),f=Ua(e,{relative:o});return u.useCallback(x=>{if(Hx(x,s)){x.preventDefault();let m=n!==void 0?n:ga(c)===ga(f);d(e,{replace:m,state:a,preventScrollReset:l,relative:o,viewTransition:i})}},[c,d,f,n,a,s,e,l,o,i])}function Km(e){let t=u.useRef(Co(e)),s=u.useRef(!1),n=xt(),a=u.useMemo(()=>Vx(n.search,s.current?null:t.current),[n.search]),l=Ge(),o=u.useCallback((i,d)=>{const c=Co(typeof i=="function"?i(a):i);s.current=!0,l("?"+c,d)},[l,a]);return[a,o]}function rp(e,t){t===void 0&&(t={});let s=u.useContext(Kx);s==null&&le(!1);let{basename:n}=tp(Eo.useViewTransitionState),a=Ua(e,{relative:t.relative});if(!s.isTransitioning)return!1;let l=Qs(s.currentLocation.pathname,n)||s.currentLocation.pathname,o=Qs(s.nextLocation.pathname,n)||s.nextLocation.pathname;return No(a.pathname,o)!=null||No(a.pathname,l)!=null}const Gm=u.createContext(null);function np({children:e}){const[t,s]=u.useState(()=>localStorage.getItem("qring_theme")??"light");u.useEffect(()=>{document.documentElement.classList.toggle("dark",t==="dark"),localStorage.setItem("qring_theme",t)},[t]);const n=u.useMemo(()=>({theme:t,isDark:t==="dark",toggleTheme:()=>s(a=>a==="dark"?"light":"dark")}),[t]);return r.jsx(Gm.Provider,{value:n,children:e})}function Te(){const e=u.useContext(Gm);if(!e)throw new Error("useTheme must be used inside ThemeProvider");return e}function _t(){const e=u.useRef(null),[t,s]=u.useState(!1);return u.useEffect(()=>{if(!e.current)return;const n=new IntersectionObserver(([a])=>s(a.isIntersecting),{threshold:.2});return n.observe(e.current),()=>n.disconnect()},[]),{ref:e,visible:t}}function Ce({className:e="",tone:t="dark",alt:s="Qring"}){const[n,a]=u.useState(!1),l=t==="light"?"invert":"";return n?r.jsx("span",{"aria-label":s,className:`grid place-items-center rounded-md bg-slate-900 text-white ${e}`,children:"Q"}):r.jsx("img",{src:"/qring_logo.png",alt:s,className:`${l} ${e}`,onError:()=>a(!0),draggable:!1})}const ec=e=>(e==null?void 0:e.replace(/\/+$/,""))??"",ap=typeof window<"u"?`${window.location.protocol}//${window.location.hostname}:8000/api/v1`:"http://localhost:8000/api/v1",lp=typeof window<"u"?`${window.location.protocol}//${window.location.hostname}:8000`:"http://localhost:8000",at={apiBaseUrl:ec(ap),socketUrl:ec(lp),socketPath:"/socket.io",dashboardNamespace:"/realtime/dashboard",signalingNamespace:"/realtime/signaling"};class fs extends Error{constructor(t,s,n){super(t),this.name="ApiError",this.status=s,this.payload=n}}let or=null;async function op(){if(or)return or;const e=localStorage.getItem("qring_refresh_token");if(!e)return null;or=(async()=>{const t=await fetch(`${at.apiBaseUrl}/auth/refresh-token`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refreshToken:e})}),s=await t.text();let n=null;if(s)try{n=JSON.parse(s)}catch{n={raw:s}}if(!t.ok)return null;const a=(n==null?void 0:n.data)??n;return a!=null&&a.accessToken?(localStorage.setItem("qring_access_token",a.accessToken),a!=null&&a.refreshToken&&localStorage.setItem("qring_refresh_token",a.refreshToken),a.accessToken):null})();try{return await or}finally{or=null}}function ip(){localStorage.removeItem("qring_access_token"),localStorage.removeItem("qring_refresh_token"),localStorage.removeItem("qring_user")}async function q(e,t={},s=0){const n=localStorage.getItem("qring_access_token"),a={"Content-Type":"application/json",...t.headers??{}};n&&(a.Authorization=`Bearer ${n}`);const l=await fetch(`${at.apiBaseUrl}${e}`,{...t,headers:a}),o=await l.text();let i=null;if(o)try{i=JSON.parse(o)}catch{i={raw:o}}if(!l.ok){if(l.status===401&&s===0){if(await op())return q(e,t,1);ip()}throw new fs((i==null?void 0:i.message)??(i==null?void 0:i.detail)??`Request failed (${l.status})`,l.status,i)}return i}async function dp(){const e=await q("/payment/subscription/me");return(e==null?void 0:e.data)??null}async function Xm(){const e=await q("/payment/plans");return Array.isArray(e==null?void 0:e.data)?e.data:[]}async function cp(){const e=await q("/payment/purposes");return Array.isArray(e==null?void 0:e.data)?e.data:[]}async function up(e){const t=await q("/payment/subscription/request",{method:"POST",body:JSON.stringify({plan:e})});return(t==null?void 0:t.data)??null}async function mp(e,t){const s=await q("/payment/paystack/initialize",{method:"POST",body:JSON.stringify({plan:e,callbackUrl:t})});return(s==null?void 0:s.data)??null}async function hp(e){const t=await q(`/payment/paystack/verify/${encodeURIComponent(e)}`);return(t==null?void 0:t.data)??null}const tc=[{title:"Home",href:"/"},{title:"About",href:"/about"},{title:"Pricing",href:"/pricing"},{title:"Contact",href:"/contact"}],ir=[{name:"Aisha Mohammed",role:"Estate Manager, Lekki Gardens",quote:"Reduced unauthorized entries by 87%. Our residents feel safer and love the convenience."},{name:"Chukwudi Okafor",role:"Homeowner, Abuja",quote:"No more missed deliveries. I approve visitors from anywhere, anytime. Game changer."},{name:"Jennifer Adebayo",role:"Property Developer",quote:"Deployed across 15 properties. The ROI is undeniable and tenants now expect this."}];function fp(){const{isDark:e,toggleTheme:t}=Te(),[s,n]=u.useState("monthly"),[a,l]=u.useState(0),[o,i]=u.useState(!1),[d,c]=u.useState([]),[f,x]=u.useState(""),m=_t(),y=_t(),v=_t(),k=_t(),S=_t();_t(),_t();const g=_t();return u.useEffect(()=>{const h=setInterval(()=>{l(p=>(p+1)%ir.length)},5e3);return()=>clearInterval(h)},[]),u.useEffect(()=>{let h=!0;async function p(){x("");try{const b=await Xm();if(!h)return;const C=xp(b);c(C)}catch(b){if(!h)return;c([]),x((b==null?void 0:b.message)??"Unable to load pricing plans.")}}return p(),()=>{h=!1}},[]),r.jsxs("div",{className:"min-h-screen bg-white text-slate-900 dark:bg-slate-950 dark:text-slate-100",children:[r.jsxs("header",{className:"sticky top-0 z-50 border-b border-slate-200 bg-white/95 backdrop-blur-sm dark:border-slate-800 dark:bg-slate-950/95",children:[r.jsxs("nav",{className:"mx-auto flex w-full max-w-7xl items-center justify-between px-4 py-4 sm:px-6 lg:px-10",children:[r.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[r.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-slate-900 sm:h-12 sm:w-12 dark:bg-white",children:r.jsx(Ce,{tone:"light",className:"h-6 w-6 sm:h-7 sm:w-7 dark:invert-0"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl font-black tracking-tight sm:text-2xl",children:"Qring"}),r.jsx("p",{className:"text-[10px] font-medium uppercase tracking-wider text-slate-500",children:"Smart Access Control"})]})]}),r.jsx("div",{className:"hidden items-center gap-8 md:flex lg:gap-10",children:tc.map(h=>r.jsx(j,{to:h.href,className:"text-sm font-semibold text-slate-600 transition hover:text-slate-900 dark:text-slate-300 dark:hover:text-white",children:h.title},h.href))}),r.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[r.jsx("button",{type:"button",onClick:t,className:"rounded-lg border border-slate-200 px-3 py-2 text-xs font-semibold text-slate-700 transition hover:bg-slate-50 sm:px-4 sm:text-sm dark:border-slate-700 dark:text-slate-200 dark:hover:bg-slate-900",children:e?"Light":"Dark"}),r.jsx(j,{to:"/login",className:"hidden rounded-lg bg-slate-900 px-4 py-2 text-xs font-semibold text-white transition hover:bg-slate-800 sm:px-6 sm:text-sm sm:inline-block dark:bg-white dark:text-slate-900 dark:hover:bg-slate-200",children:"Login"}),r.jsx("button",{type:"button",onClick:()=>i(!o),className:"md:hidden rounded-lg border border-slate-200 px-3 py-2 text-slate-700 transition hover:bg-slate-50 dark:border-slate-700 dark:text-slate-200 dark:hover:bg-slate-900",children:r.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:o?"M6 18L18 6M6 6l12 12":"M4 6h16M4 12h16M4 18h16"})})})]})]}),o&&r.jsx("div",{className:"border-t border-slate-200 bg-white dark:border-slate-800 dark:bg-slate-900 md:hidden",children:r.jsxs("div",{className:"space-y-1 px-4 py-4 sm:px-6",children:[tc.map(h=>r.jsx(j,{to:h.href,onClick:()=>i(!1),className:"block rounded-lg px-3 py-2 text-base font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white",children:h.title},h.href)),r.jsx(j,{to:"/login",onClick:()=>i(!1),className:"block rounded-lg bg-slate-900 px-3 py-2 text-base font-semibold text-white transition hover:bg-slate-800 dark:bg-white dark:text-slate-900 dark:hover:bg-slate-200",children:"Login"})]})})]}),r.jsxs("main",{children:[r.jsx("section",{ref:m.ref,className:`mx-auto w-full max-w-7xl px-4 py-12 transition-all duration-700 sm:px-6 sm:py-16 lg:px-10 lg:py-24 ${m.visible?"translate-y-0 opacity-100":"translate-y-8 opacity-0"}`,children:r.jsxs("div",{className:"grid gap-10 lg:grid-cols-2 lg:gap-14 xl:gap-20",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full border border-slate-200 bg-slate-50 px-3 py-2 dark:border-slate-700 dark:bg-slate-900",children:[r.jsxs("span",{className:"relative flex h-2 w-2",children:[r.jsx("span",{className:"absolute inline-flex h-2 w-2 animate-ping rounded-full bg-slate-400"}),r.jsx("span",{className:"relative inline-flex h-2 w-2 rounded-full bg-slate-900 dark:bg-white"})]}),r.jsx("span",{className:"text-[11px] font-semibold uppercase tracking-wider text-slate-700 dark:text-slate-200",children:"Live System"})]}),r.jsxs("h2",{className:"mt-6 text-4xl font-black leading-tight tracking-tight sm:text-5xl lg:mt-8 lg:text-6xl xl:text-7xl",children:["Modern Door",r.jsx("br",{}),"Access Control"]}),r.jsx("p",{className:"mt-5 text-base leading-relaxed text-slate-600 sm:text-lg lg:mt-6 lg:text-xl dark:text-slate-300",children:"Qring replaces outdated doorbells with QR-powered realtime communication, visitor verification, and secure video sessions."}),r.jsxs("div",{className:"mt-8 flex flex-wrap gap-3 sm:gap-4 lg:mt-10",children:[r.jsx(j,{to:"/signup",className:"rounded-lg bg-slate-900 px-6 py-3 text-sm font-semibold text-white transition hover:bg-slate-800 sm:px-8 sm:py-4 dark:bg-white dark:text-slate-900 dark:hover:bg-slate-200",children:"Start Free Trial"}),r.jsx(j,{to:"/contact",className:"rounded-lg border border-slate-200 bg-white px-6 py-3 text-sm font-semibold text-slate-900 transition hover:bg-slate-50 sm:px-8 sm:py-4 dark:border-slate-700 dark:bg-slate-950 dark:text-slate-100 dark:hover:bg-slate-900",children:"Book Demo"})]}),r.jsxs("div",{className:"mt-10 grid grid-cols-3 gap-4 sm:gap-6 lg:mt-12",children:[r.jsx(bl,{value:"99.9%",label:"Uptime"}),r.jsx(bl,{value:"<1s",label:"Response"}),r.jsx(bl,{value:"24/7",label:"Support"})]})]}),r.jsx("div",{className:"relative",children:r.jsxs("div",{className:"overflow-hidden rounded-2xl border border-slate-200 bg-white shadow-xl dark:border-slate-700 dark:bg-slate-900",children:[r.jsx("div",{className:"border-b border-slate-200 bg-slate-50 p-4 dark:border-slate-700 dark:bg-slate-800",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"h-3 w-3 rounded-full bg-slate-300 dark:bg-slate-500"}),r.jsx("div",{className:"h-3 w-3 rounded-full bg-slate-300 dark:bg-slate-500"}),r.jsx("div",{className:"h-3 w-3 rounded-full bg-slate-300 dark:bg-slate-500"}),r.jsx("span",{className:"ml-auto text-xs font-semibold text-slate-600 dark:text-slate-300",children:"Live Activity"})]})}),r.jsxs("div",{className:"p-4 sm:p-6",children:[r.jsxs("div",{className:"space-y-3",children:[r.jsx(gn,{title:"Visitor request at Gate A",time:"Just now",status:"active"}),r.jsx(gn,{title:"Access approved",time:"2m ago",status:"success"}),r.jsx(gn,{title:"Video call established",time:"4m ago",status:"complete"}),r.jsx(gn,{title:"Session ended",time:"8m ago",status:"complete"})]}),r.jsxs("div",{className:"mt-5 rounded-lg border border-slate-200 bg-slate-50 p-4 dark:border-slate-700 dark:bg-slate-800",children:[r.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[r.jsx("span",{className:"text-xs font-semibold uppercase tracking-wider text-slate-600 dark:text-slate-300",children:"Today's Activity"}),r.jsx("span",{className:"text-sm font-bold",children:"+12%"})]}),r.jsx("div",{className:"h-2 overflow-hidden rounded-full bg-slate-200 dark:bg-slate-700",children:r.jsx("div",{className:"h-full w-3/4 bg-slate-900 dark:bg-white"})})]})]})]})})]})}),r.jsx("section",{ref:y.ref,className:`border-y border-slate-200 bg-slate-50 py-12 transition-all duration-700 sm:py-16 lg:py-20 dark:border-slate-800 dark:bg-slate-900/40 ${y.visible?"translate-y-0 opacity-100":"translate-y-8 opacity-0"}`,children:r.jsxs("div",{className:"mx-auto w-full max-w-7xl px-4 sm:px-6 lg:px-10",children:[r.jsxs("div",{className:"mb-10 text-center sm:mb-12 lg:mb-16",children:[r.jsx("span",{className:"text-xs font-semibold uppercase tracking-wider text-slate-600 dark:text-slate-300",children:"Features"}),r.jsx("h2",{className:"mt-3 text-3xl font-black tracking-tight sm:text-4xl lg:mt-4 lg:text-5xl",children:"Everything You Need"})]}),r.jsxs("div",{className:"grid gap-4 sm:gap-6 md:grid-cols-2 lg:grid-cols-3",children:[r.jsx(ps,{icon:"Alert",title:"Instant Notifications",description:"Get realtime alerts the moment someone scans your QR code."}),r.jsx(ps,{icon:"Route",title:"Smart Routing",description:"Automatically direct visitors to the right person and door."}),r.jsx(ps,{icon:"Secure",title:"Strong Security",description:"JWT auth, encrypted sessions, and strict permission controls."}),r.jsx(ps,{icon:"Web",title:"No App Required",description:"Visitors use their browser with zero friction."}),r.jsx(ps,{icon:"Call",title:"HD Video Calls",description:"Reliable WebRTC video and audio visitor sessions."}),r.jsx(ps,{icon:"Logs",title:"Complete Analytics",description:"Track visitor patterns and security events over time."})]})]})}),r.jsxs("section",{ref:v.ref,className:`mx-auto w-full max-w-7xl px-4 py-12 transition-all duration-700 sm:px-6 sm:py-16 lg:px-10 lg:py-20 ${v.visible?"translate-y-0 opacity-100":"translate-y-8 opacity-0"}`,children:[r.jsxs("div",{className:"mb-10 text-center sm:mb-12 lg:mb-16",children:[r.jsx("span",{className:"text-xs font-semibold uppercase tracking-wider text-slate-600 dark:text-slate-300",children:"Process"}),r.jsx("h2",{className:"mt-3 text-3xl font-black tracking-tight sm:text-4xl lg:mt-4 lg:text-5xl",children:"How It Works"})]}),r.jsxs("div",{className:"grid gap-6 sm:gap-8 md:grid-cols-2 lg:grid-cols-4",children:[r.jsx(bn,{number:"01",title:"Visitor Scans",description:"Visitor scans a unique QR code at the entry point."}),r.jsx(bn,{number:"02",title:"System Validates",description:"Backend verifies code and checks routing permissions."}),r.jsx(bn,{number:"03",title:"You Approve",description:"You receive an alert and approve or deny the request."}),r.jsx(bn,{number:"04",title:"Access Granted",description:"Secure chat, voice, or video session opens immediately."})]})]}),r.jsx("section",{ref:k.ref,className:`border-y border-slate-200 bg-slate-50 py-12 transition-all duration-700 sm:py-16 lg:py-20 dark:border-slate-800 dark:bg-slate-900/40 ${k.visible?"translate-y-0 opacity-100":"translate-y-8 opacity-0"}`,children:r.jsxs("div",{className:"mx-auto w-full max-w-7xl px-4 sm:px-6 lg:px-10",children:[r.jsxs("div",{className:"mb-10 text-center sm:mb-12",children:[r.jsx("span",{className:"text-xs font-semibold uppercase tracking-wider text-slate-600 dark:text-slate-300",children:"Platform Statistics"}),r.jsx("h3",{className:"mt-3 text-3xl font-black tracking-tight sm:text-4xl lg:mt-4",children:"Trusted Worldwide"})]}),r.jsxs("div",{className:"grid gap-4 sm:gap-6 md:grid-cols-2 lg:grid-cols-4",children:[r.jsx(yn,{value:"24,000+",label:"Active Users"}),r.jsx(yn,{value:"1.2M",label:"Monthly Scans"}),r.jsx(yn,{value:"94%",label:"Approval Rate"}),r.jsx(yn,{value:"<1s",label:"Avg Response"})]})]})}),r.jsxs("section",{ref:S.ref,className:`mx-auto w-full max-w-7xl px-4 py-12 transition-all duration-700 sm:px-6 sm:py-16 lg:px-10 lg:py-20 ${S.visible?"translate-y-0 opacity-100":"translate-y-8 opacity-0"}`,children:[r.jsxs("div",{className:"mb-10 text-center sm:mb-12",children:[r.jsx("span",{className:"text-xs font-semibold uppercase tracking-wider text-slate-600 dark:text-slate-300",children:"Testimonials"}),r.jsx("h3",{className:"mt-3 text-3xl font-black tracking-tight sm:text-4xl lg:mt-4",children:"What Our Users Say"})]}),r.jsxs("div",{className:"overflow-hidden rounded-2xl border border-slate-200 bg-white p-6 shadow-lg sm:p-8 lg:p-12 dark:border-slate-700 dark:bg-slate-900",children:[r.jsxs("div",{className:"mx-auto max-w-3xl text-center",children:[r.jsxs("p",{className:"text-lg font-medium leading-relaxed text-slate-700 sm:text-xl lg:text-2xl dark:text-slate-200",children:['"',ir[a].quote,'"']}),r.jsxs("div",{className:"mt-6 sm:mt-8",children:[r.jsx("p",{className:"text-lg font-bold sm:text-xl",children:ir[a].name}),r.jsx("p",{className:"mt-1 text-sm font-medium text-slate-600 dark:text-slate-300",children:ir[a].role})]})]}),r.jsx("div",{className:"mt-8 flex justify-center gap-2 sm:mt-10",children:ir.map((h,p)=>r.jsx("button",{type:"button",onClick:()=>l(p),className:`h-2 rounded-full transition-all ${p===a?"w-8 bg-slate-900 dark:bg-white":"w-2 bg-slate-300 dark:bg-slate-600"}`},p))})]})]}),r.jsx("section",{ref:g.ref,className:`border-y border-slate-200 bg-slate-900 py-12 transition-all duration-700 sm:py-16 lg:py-20 dark:border-slate-800 ${g.visible?"translate-y-0 opacity-100":"translate-y-8 opacity-0"}`,children:r.jsxs("div",{className:"mx-auto w-full max-w-4xl px-4 text-center sm:px-6",children:[r.jsx("h2",{className:"text-3xl font-black tracking-tight text-white sm:text-4xl lg:text-5xl",children:"Ready To Get Started?"}),r.jsx("p",{className:"mt-4 text-base text-slate-300 sm:mt-6 sm:text-xl",children:"Join thousands using Qring. Start your free trial today with no credit card required."}),r.jsxs("div",{className:"mt-8 flex flex-wrap justify-center gap-3 sm:mt-10 sm:gap-4",children:[r.jsx(j,{to:"/signup",className:"rounded-lg bg-white px-6 py-3 text-sm font-semibold text-slate-900 transition hover:bg-slate-100 sm:px-10 sm:py-4",children:"Start Free Trial"}),r.jsx(j,{to:"/contact",className:"rounded-lg border border-slate-700 bg-transparent px-6 py-3 text-sm font-semibold text-white transition hover:bg-slate-800 sm:px-10 sm:py-4",children:"Contact Sales"})]}),r.jsxs("div",{className:"mt-6 flex flex-wrap justify-center gap-4 text-xs text-slate-400 sm:mt-8 sm:gap-6 sm:text-sm",children:[r.jsx("span",{children:"14-day free trial"}),r.jsx("span",{children:"No credit card needed"}),r.jsx("span",{children:"Cancel anytime"})]})]})})]}),r.jsx("footer",{className:"border-t border-slate-200 bg-white py-10 sm:py-12 dark:border-slate-800 dark:bg-slate-950",children:r.jsxs("div",{className:"mx-auto w-full max-w-7xl px-4 sm:px-6 lg:px-10",children:[r.jsxs("div",{className:"grid gap-8 sm:gap-10 md:grid-cols-2 lg:grid-cols-4 lg:gap-12",children:[r.jsxs("div",{children:[r.jsx("div",{className:"flex items-center gap-3",children:r.jsx("span",{className:"text-xl font-black",children:"Qring"})}),r.jsx("p",{className:"mt-4 text-sm text-slate-600 dark:text-slate-300",children:"Modern door access control for homes and estates."})]}),r.jsx(gl,{title:"Product",links:[{to:"/platform",label:"Platform"},{to:"/pricing",label:"Pricing"},{to:"/security",label:"Security"},{to:"/api-docs",label:"API Docs"}]}),r.jsx(gl,{title:"Company",links:[{to:"/about",label:"About"},{to:"/blog",label:"Blog"},{to:"/careers",label:"Careers"},{to:"/contact",label:"Contact"}]}),r.jsx(gl,{title:"Legal",links:[{to:"/privacy",label:"Privacy"},{to:"/terms",label:"Terms"},{to:"/compliance",label:"Compliance"}]})]}),r.jsxs("div",{className:"mt-10 border-t border-slate-200 pt-6 text-center text-sm text-slate-600 dark:border-slate-800 dark:text-slate-300",children:[r.jsx("p",{children:"2026 Qring Technologies. All rights reserved."}),r.jsx("p",{className:"mt-1",children:"techspareng.online"})]})]})})]})}function gl({title:e,links:t}){return r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-semibold uppercase tracking-wider",children:e}),r.jsx("ul",{className:"mt-4 space-y-2 text-sm",children:t.map(s=>r.jsx("li",{children:r.jsx(j,{to:s.to,className:"text-slate-600 transition hover:text-slate-900 dark:text-slate-300 dark:hover:text-white",children:s.label})},s.label))})]})}function bl({value:e,label:t}){return r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-2xl font-black sm:text-3xl",children:e}),r.jsx("p",{className:"mt-1 text-[11px] font-semibold uppercase tracking-wider text-slate-600 dark:text-slate-300",children:t})]})}function gn({title:e,time:t,status:s}){const n={active:"border-slate-900 bg-slate-50 dark:border-slate-400 dark:bg-slate-800",success:"border-slate-300 bg-white dark:border-slate-700 dark:bg-slate-900",complete:"border-slate-200 bg-white dark:border-slate-700 dark:bg-slate-900"};return r.jsxs("div",{className:`flex items-center justify-between rounded-lg border p-3 ${n[s]}`,children:[r.jsx("p",{className:"text-sm font-semibold",children:e}),r.jsx("span",{className:"text-xs font-medium text-slate-600 dark:text-slate-300",children:t})]})}function ps({icon:e,title:t,description:s}){return r.jsxs("article",{className:"rounded-xl border border-slate-200 bg-white p-6 transition hover:shadow-lg sm:p-8 dark:border-slate-700 dark:bg-slate-900",children:[r.jsx("div",{className:"mb-4 inline-flex rounded-md border border-slate-200 bg-slate-50 px-2 py-1 text-xs font-semibold uppercase tracking-wider dark:border-slate-700 dark:bg-slate-800",children:e}),r.jsx("h4",{className:"text-xl font-bold",children:t}),r.jsx("p",{className:"mt-3 text-sm leading-relaxed text-slate-600 dark:text-slate-300",children:s})]})}function bn({number:e,title:t,description:s}){return r.jsxs("article",{className:"rounded-xl border border-slate-200 bg-white p-6 text-center dark:border-slate-700 dark:bg-slate-900",children:[r.jsx("div",{className:"mx-auto mb-4 flex h-12 w-12 items-center justify-center rounded-full border-2 border-slate-900 bg-white dark:border-white dark:bg-slate-900",children:r.jsx("span",{className:"text-sm font-black sm:text-base",children:e})}),r.jsx("h4",{className:"text-lg font-bold",children:t}),r.jsx("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-300",children:s})]})}function yn({value:e,label:t}){return r.jsxs("article",{className:"rounded-xl border border-slate-200 bg-white p-6 text-center sm:p-8 dark:border-slate-700 dark:bg-slate-900",children:[r.jsx("p",{className:"text-3xl font-black sm:text-4xl",children:e}),r.jsx("p",{className:"mt-2 text-sm font-semibold uppercase tracking-wider text-slate-600 dark:text-slate-300",children:t})]})}function xp(e){var l;const n=(Array.isArray(e)?e:[]).filter(o=>o&&o.active!==!1).map(o=>{const i=Number(o.amount||0),d=i*12,c=o.maxDoors??null,f=o.maxQrCodes??null,x=[];return typeof c=="number"&&x.push(`Up to ${c} doors`),typeof f=="number"&&x.push(`Up to ${f} QR codes`),{id:o.id,name:o.name??o.id,monthly:i,yearly:d,note:x.length?x.join("  "):"Flexible access control plan",highlight:!1}}),a=n.some(o=>o.id==="doors_40")?"doors_40":(l=n.find(o=>o.monthly>0))==null?void 0:l.id;return n.map(o=>({...o,highlight:o.id===a}))}const pp=[{title:"Security by design",text:"Every session, route, and permission is scoped with strict role boundaries and auditability."},{title:"Realtime reliability",text:"Qring is engineered for low-latency alerts, resilient socket delivery, and stable communication."},{title:"Scalable architecture",text:"Modular services support growth from single properties to large multi-estate deployments."}],gp=[{year:"2024",event:"Qring concept and architecture blueprint defined."},{year:"2025",event:"Core QR routing and visitor flow launched in pilot communities."},{year:"2026",event:"Realtime session suite and estate operations dashboard released."}];function bp(){const{isDark:e,toggleTheme:t}=Te(),[s,n]=u.useState(!1);return r.jsxs("div",{className:"min-h-screen bg-white text-slate-900 dark:bg-slate-950 dark:text-slate-100",children:[r.jsxs("header",{className:"sticky top-0 z-50 border-b border-slate-200 bg-white/95 backdrop-blur-sm dark:border-slate-800 dark:bg-slate-950/95",children:[r.jsxs("nav",{className:"mx-auto flex w-full max-w-7xl items-center justify-between px-4 py-4 sm:px-6 lg:px-10",children:[r.jsxs(j,{to:"/",className:"flex items-center gap-3 sm:gap-4",children:[r.jsx("span",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-slate-900 dark:bg-white",children:r.jsx(Ce,{tone:"light",className:"h-6 w-6 dark:invert-0"})}),r.jsxs("span",{children:[r.jsx("span",{className:"block text-xl font-black tracking-tight sm:text-2xl",children:"Qring"}),r.jsx("span",{className:"block text-[10px] font-medium uppercase tracking-wider text-slate-500",children:"Smart Access Control"})]})]}),r.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[r.jsx("button",{type:"button",onClick:t,className:"rounded-lg border border-slate-200 px-3 py-2 text-xs font-semibold text-slate-700 transition hover:bg-slate-50 sm:px-4 sm:text-sm dark:border-slate-700 dark:text-slate-200 dark:hover:bg-slate-900",children:e?"Light":"Dark"}),r.jsx(j,{to:"/pricing",className:"hidden rounded-lg border border-slate-200 px-4 py-2 text-xs font-semibold sm:text-sm sm:inline-block dark:border-slate-700",children:"Pricing"}),r.jsx(j,{to:"/signup",className:"hidden rounded-lg bg-slate-900 px-4 py-2 text-xs font-semibold text-white sm:px-6 sm:text-sm sm:inline-block dark:bg-white dark:text-slate-900",children:"Get Started"}),r.jsx("button",{type:"button",onClick:()=>n(!s),className:"md:hidden rounded-lg border border-slate-200 px-3 py-2 text-slate-700 transition hover:bg-slate-50 dark:border-slate-700 dark:text-slate-200 dark:hover:bg-slate-900",children:r.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:s?"M6 18L18 6M6 6l12 12":"M4 6h16M4 12h16M4 18h16"})})})]})]}),s&&r.jsx("div",{className:"border-t border-slate-200 bg-white dark:border-slate-800 dark:bg-slate-900 md:hidden",children:r.jsxs("div",{className:"space-y-1 px-4 py-4 sm:px-6",children:[r.jsx(j,{to:"/",onClick:()=>n(!1),className:"block rounded-lg px-3 py-2 text-base font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white",children:"Home"}),r.jsx(j,{to:"/contact",onClick:()=>n(!1),className:"block rounded-lg px-3 py-2 text-base font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white",children:"Contact"}),r.jsx(j,{to:"/pricing",onClick:()=>n(!1),className:"block rounded-lg px-3 py-2 text-base font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white",children:"Pricing"}),r.jsx(j,{to:"/signup",onClick:()=>n(!1),className:"block rounded-lg bg-slate-900 px-3 py-2 text-base font-semibold text-white transition hover:bg-slate-800 dark:bg-white dark:text-slate-900 dark:hover:bg-slate-200",children:"Get Started"})]})})]}),r.jsxs("main",{className:"mx-auto w-full max-w-7xl px-4 py-10 sm:px-6 sm:py-12 lg:px-10 lg:py-16",children:[r.jsxs("section",{className:"grid gap-8 rounded-2xl border border-slate-200 bg-white p-6 shadow-soft sm:p-8 lg:grid-cols-2 dark:border-slate-800 dark:bg-slate-900",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500 dark:text-slate-300",children:"About Qring"}),r.jsx("h1",{className:"mt-3 text-3xl font-black tracking-tight sm:text-4xl lg:text-5xl",children:"Building trusted access communication for modern communities"}),r.jsx("p",{className:"mt-4 text-sm leading-relaxed text-slate-600 sm:text-base dark:text-slate-300",children:"Qring replaces analog doorbell friction with a secure digital-first experience for homeowners, estate managers, and visitors."}),r.jsx("p",{className:"mt-3 text-sm leading-relaxed text-slate-600 sm:text-base dark:text-slate-300",children:"We focus on clarity, speed, and control so communities can manage access confidently from anywhere."})]}),r.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-5 sm:p-6 dark:border-slate-700 dark:bg-slate-800",children:[r.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500 dark:text-slate-300",children:"Mission"}),r.jsx("p",{className:"mt-3 text-sm leading-relaxed text-slate-600 sm:text-base dark:text-slate-300",children:"Make door access communication secure, instant, and auditable while preserving user privacy and operational boundaries."}),r.jsxs("div",{className:"mt-5 grid grid-cols-3 gap-3 text-center sm:gap-4",children:[r.jsx(yl,{value:"150k+",label:"Sessions handled"}),r.jsx(yl,{value:"98%",label:"Approval speed"}),r.jsx(yl,{value:"24/7",label:"Platform ops"})]})]})]}),r.jsx("section",{className:"mt-8 grid gap-4 sm:mt-10 sm:gap-6 md:grid-cols-3",children:pp.map(a=>r.jsxs("article",{className:"rounded-xl border border-slate-200 bg-white p-5 sm:p-6 dark:border-slate-800 dark:bg-slate-900",children:[r.jsx("h2",{className:"text-xl font-bold",children:a.title}),r.jsx("p",{className:"mt-3 text-sm leading-relaxed text-slate-600 dark:text-slate-300",children:a.text})]},a.title))}),r.jsxs("section",{className:"mt-8 rounded-2xl border border-slate-200 bg-white p-6 sm:mt-10 sm:p-8 dark:border-slate-800 dark:bg-slate-900",children:[r.jsx("h2",{className:"text-2xl font-black tracking-tight sm:text-3xl",children:"Journey"}),r.jsx("div",{className:"mt-5 grid gap-4 sm:mt-6 md:grid-cols-3",children:gp.map(a=>r.jsxs("article",{className:"rounded-xl border border-slate-200 bg-slate-50 p-5 dark:border-slate-700 dark:bg-slate-800",children:[r.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500 dark:text-slate-300",children:a.year}),r.jsx("p",{className:"mt-2 text-sm font-medium leading-relaxed",children:a.event})]},a.year))})]}),r.jsxs("section",{className:"mt-8 rounded-2xl bg-slate-900 p-6 text-white sm:mt-10 sm:p-8 lg:flex lg:items-center lg:justify-between dark:bg-white dark:text-slate-900",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-black tracking-tight sm:text-3xl",children:"Ready to deploy Qring?"}),r.jsx("p",{className:"mt-2 text-sm text-slate-300 dark:text-slate-600",children:"Talk to our team about your building or estate setup."})]}),r.jsxs("div",{className:"mt-4 flex flex-wrap gap-3 lg:mt-0",children:[r.jsx(j,{to:"/contact",className:"rounded-lg bg-white px-5 py-3 text-sm font-semibold text-slate-900 dark:bg-slate-900 dark:text-white",children:"Contact Sales"}),r.jsx(j,{to:"/",className:"rounded-lg border border-white px-5 py-3 text-sm font-semibold dark:border-slate-900",children:"Back Home"})]})]})]})]})}function yl({value:e,label:t}){return r.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-3 dark:border-slate-700 dark:bg-slate-900",children:[r.jsx("p",{className:"text-2xl font-black sm:text-3xl",children:e}),r.jsx("p",{className:"mt-1 text-[11px] font-semibold uppercase tracking-wider text-slate-500 dark:text-slate-300",children:t})]})}const yp="",vp=[{id:"free",name:"Free",monthly:0,yearly:0,bestFor:"Single homeowner getting started",features:["1 door","1 QR code","Realtime alerts","Basic access history"]},{id:"doors_20",name:"1-20 Doors",monthly:2e4,yearly:24e4,bestFor:"Small compounds",features:["Up to 20 doors","Up to 20 QR codes","Realtime approvals","Chat and calls"]},{id:"doors_40",name:"1-40 Doors",monthly:5e4,yearly:6e5,bestFor:"Growing estates",features:["Up to 40 doors","Up to 40 QR codes","Session logs","Priority support"],popular:!0},{id:"doors_80",name:"1-80 Doors",monthly:8e4,yearly:96e4,bestFor:"Large compounds",features:["Up to 80 doors","Up to 80 QR codes","Advanced analytics","Realtime controls"]},{id:"doors_100",name:"1-100 Doors",monthly:12e4,yearly:144e4,bestFor:"Enterprise estates",features:["Up to 100 doors","Up to 100 QR codes","Dedicated onboarding","Priority SLA"]}];function kp(){const{isDark:e,toggleTheme:t}=Te(),[s,n]=u.useState("monthly"),[a,l]=u.useState(!1);return r.jsxs("div",{className:"min-h-screen bg-white text-slate-900 dark:bg-slate-950 dark:text-slate-100",children:[r.jsxs("header",{className:"sticky top-0 z-50 border-b border-slate-200 bg-white/95 backdrop-blur-sm dark:border-slate-800 dark:bg-slate-950/95",children:[r.jsxs("nav",{className:"mx-auto flex w-full max-w-7xl items-center justify-between px-4 py-4 sm:px-6 lg:px-10",children:[r.jsxs(j,{to:"/",className:"flex items-center gap-3 sm:gap-4",children:[r.jsx("span",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-slate-900 dark:bg-white",children:r.jsx(Ce,{tone:"light",className:"h-6 w-6 dark:invert-0"})}),r.jsxs("span",{children:[r.jsx("span",{className:"block text-xl font-black tracking-tight sm:text-2xl",children:"Qring"}),r.jsx("span",{className:"block text-[10px] font-medium uppercase tracking-wider text-slate-500",children:"Smart Access Control"})]})]}),r.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[r.jsx("button",{type:"button",onClick:t,className:"rounded-lg border border-slate-200 px-3 py-2 text-xs font-semibold text-slate-700 transition hover:bg-slate-50 sm:px-4 sm:text-sm dark:border-slate-700 dark:text-slate-200 dark:hover:bg-slate-900",children:e?"Light":"Dark"}),r.jsx(j,{to:"/about",className:"hidden rounded-lg border border-slate-200 px-4 py-2 text-xs font-semibold sm:text-sm sm:inline-block dark:border-slate-700",children:"About"}),r.jsx(j,{to:"/contact",className:"hidden rounded-lg bg-slate-900 px-4 py-2 text-xs font-semibold text-white sm:px-6 sm:text-sm sm:inline-block dark:bg-white dark:text-slate-900",children:"Contact"}),r.jsx("button",{type:"button",onClick:()=>l(!a),className:"md:hidden rounded-lg border border-slate-200 px-3 py-2 text-slate-700 transition hover:bg-slate-50 dark:border-slate-700 dark:text-slate-200 dark:hover:bg-slate-900",children:r.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:a?"M6 18L18 6M6 6l12 12":"M4 6h16M4 12h16M4 18h16"})})})]})]}),a&&r.jsx("div",{className:"border-t border-slate-200 bg-white dark:border-slate-800 dark:bg-slate-900 md:hidden",children:r.jsxs("div",{className:"space-y-1 px-4 py-4 sm:px-6",children:[r.jsx(j,{to:"/",onClick:()=>l(!1),className:"block rounded-lg px-3 py-2 text-base font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white",children:"Home"}),r.jsx(j,{to:"/about",onClick:()=>l(!1),className:"block rounded-lg px-3 py-2 text-base font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white",children:"About"}),r.jsx(j,{to:"/contact",onClick:()=>l(!1),className:"block rounded-lg px-3 py-2 text-base font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white",children:"Contact"}),r.jsx(j,{to:"/signup",onClick:()=>l(!1),className:"block rounded-lg bg-slate-900 px-3 py-2 text-base font-semibold text-white transition hover:bg-slate-800 dark:bg-white dark:text-slate-900 dark:hover:bg-slate-200",children:"Get Started"})]})})]}),r.jsxs("main",{className:"mx-auto w-full max-w-7xl px-4 py-10 sm:px-6 sm:py-12 lg:px-10 lg:py-16",children:[r.jsxs("section",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-soft sm:p-8 dark:border-slate-800 dark:bg-slate-900",children:[r.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500 dark:text-slate-300",children:"Pricing Plans"}),r.jsx("h1",{className:"mt-2 text-3xl font-black tracking-tight sm:text-4xl lg:text-5xl",children:"Paystack-ready pricing for every property size"}),r.jsx("p",{className:"mt-4 max-w-2xl text-sm leading-relaxed text-slate-600 sm:text-base dark:text-slate-300",children:"Choose a plan based on your number of doors. Free plan supports one door and one QR code."}),r.jsxs("div",{className:"mt-6 inline-flex rounded-lg border border-slate-200 bg-slate-50 p-1 dark:border-slate-700 dark:bg-slate-800",children:[r.jsx("button",{type:"button",onClick:()=>n("monthly"),className:`rounded-md px-4 py-2 text-sm font-semibold transition ${s==="monthly"?"bg-slate-900 text-white dark:bg-white dark:text-slate-900":"text-slate-600 dark:text-slate-300"}`,children:"Monthly"}),r.jsx("button",{type:"button",onClick:()=>n("yearly"),className:`rounded-md px-4 py-2 text-sm font-semibold transition ${s==="yearly"?"bg-slate-900 text-white dark:bg-white dark:text-slate-900":"text-slate-600 dark:text-slate-300"}`,children:"Yearly"})]})]}),r.jsx("section",{className:"mt-8 grid gap-4 sm:gap-6 md:grid-cols-2 xl:grid-cols-3",children:vp.map(o=>r.jsxs("article",{className:`rounded-xl border bg-white p-6 transition hover:shadow-xl sm:p-8 dark:bg-slate-900 ${o.popular?"border-slate-900 shadow-lg dark:border-white":"border-slate-200 dark:border-slate-700"}`,children:[o.popular?r.jsx("div",{className:"mb-4 inline-block rounded-full bg-slate-900 px-3 py-1 text-xs font-semibold uppercase tracking-wider text-white dark:bg-white dark:text-slate-900",children:"Popular"}):null,r.jsx("p",{className:"text-sm font-semibold uppercase tracking-wider text-slate-600 dark:text-slate-300",children:o.name}),r.jsxs("p",{className:"mt-4 text-4xl font-black tracking-tight sm:text-5xl",children:[yp,wp(s==="monthly"?o.monthly:o.yearly)]}),r.jsx("p",{className:"mt-1 text-xs text-slate-500 dark:text-slate-300",children:s==="monthly"?"per month":"per year"}),r.jsx("p",{className:"mt-3 text-sm text-slate-600 dark:text-slate-300",children:o.bestFor}),r.jsx("ul",{className:"mt-5 space-y-2 text-sm text-slate-700 dark:text-slate-200",children:o.features.map(i=>r.jsxs("li",{children:["- ",i]},i))}),r.jsxs(j,{to:"/billing/paywall",className:`mt-8 block rounded-lg py-3 text-center text-sm font-semibold transition ${o.popular?"bg-slate-900 text-white hover:bg-slate-800 dark:bg-white dark:text-slate-900 dark:hover:bg-slate-200":"border border-slate-200 text-slate-900 hover:bg-slate-50 dark:border-slate-700 dark:text-slate-100 dark:hover:bg-slate-800"}`,children:["Choose ",o.name]})]},o.id))})]})]})}function wp(e){return new Intl.NumberFormat("en-NG").format(e)}function jp(){const{isDark:e,toggleTheme:t}=Te(),[s,n]=u.useState(!1),[a,l]=u.useState(!1);return r.jsxs("div",{className:"min-h-screen bg-white text-slate-900 dark:bg-slate-950 dark:text-slate-100",children:[r.jsxs("header",{className:"sticky top-0 z-50 border-b border-slate-200 bg-white/95 backdrop-blur-sm dark:border-slate-800 dark:bg-slate-950/95",children:[r.jsxs("nav",{className:"mx-auto flex w-full max-w-7xl items-center justify-between px-4 py-4 sm:px-6 lg:px-10",children:[r.jsxs(j,{to:"/",className:"flex items-center gap-3 sm:gap-4",children:[r.jsx("span",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-slate-900 dark:bg-white",children:r.jsx(Ce,{tone:"light",className:"h-6 w-6 dark:invert-0"})}),r.jsxs("span",{children:[r.jsx("span",{className:"block text-xl font-black tracking-tight sm:text-2xl",children:"Qring"}),r.jsx("span",{className:"block text-[10px] font-medium uppercase tracking-wider text-slate-500",children:"Smart Access Control"})]})]}),r.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[r.jsx("button",{type:"button",onClick:t,className:"rounded-lg border border-slate-200 px-3 py-2 text-xs font-semibold text-slate-700 transition hover:bg-slate-50 sm:px-4 sm:text-sm dark:border-slate-700 dark:text-slate-200 dark:hover:bg-slate-900",children:e?"Light":"Dark"}),r.jsx(j,{to:"/about",className:"hidden rounded-lg border border-slate-200 px-4 py-2 text-xs font-semibold sm:text-sm sm:inline-block dark:border-slate-700",children:"About"}),r.jsx(j,{to:"/pricing",className:"hidden rounded-lg bg-slate-900 px-4 py-2 text-xs font-semibold text-white sm:px-6 sm:text-sm sm:inline-block dark:bg-white dark:text-slate-900",children:"Pricing"}),r.jsx("button",{type:"button",onClick:()=>l(!a),className:"md:hidden rounded-lg border border-slate-200 px-3 py-2 text-slate-700 transition hover:bg-slate-50 dark:border-slate-700 dark:text-slate-200 dark:hover:bg-slate-900",children:r.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:a?"M6 18L18 6M6 6l12 12":"M4 6h16M4 12h16M4 18h16"})})})]})]}),a&&r.jsx("div",{className:"border-t border-slate-200 bg-white dark:border-slate-800 dark:bg-slate-900 md:hidden",children:r.jsxs("div",{className:"space-y-1 px-4 py-4 sm:px-6",children:[r.jsx(j,{to:"/",onClick:()=>l(!1),className:"block rounded-lg px-3 py-2 text-base font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white",children:"Home"}),r.jsx(j,{to:"/about",onClick:()=>l(!1),className:"block rounded-lg px-3 py-2 text-base font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white",children:"About"}),r.jsx(j,{to:"/pricing",onClick:()=>l(!1),className:"block rounded-lg px-3 py-2 text-base font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white",children:"Pricing"}),r.jsx(j,{to:"/signup",onClick:()=>l(!1),className:"block rounded-lg bg-slate-900 px-3 py-2 text-base font-semibold text-white transition hover:bg-slate-800 dark:bg-white dark:text-slate-900 dark:hover:bg-slate-200",children:"Get Started"})]})})]}),r.jsxs("main",{className:"mx-auto grid w-full max-w-7xl gap-6 px-4 py-10 sm:px-6 sm:py-12 lg:grid-cols-12 lg:px-10 lg:py-16",children:[r.jsxs("section",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-soft sm:p-8 lg:col-span-5 dark:border-slate-800 dark:bg-slate-900",children:[r.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500 dark:text-slate-300",children:"Contact"}),r.jsx("h1",{className:"mt-3 text-3xl font-black tracking-tight sm:text-4xl",children:"Talk to the Qring team"}),r.jsx("p",{className:"mt-4 text-sm leading-relaxed text-slate-600 sm:text-base dark:text-slate-300",children:"Reach out for deployment planning, technical onboarding, or custom estate pricing."}),r.jsxs("div",{className:"mt-6 space-y-3",children:[r.jsx(vn,{label:"General",value:"hello@useqring.online"}),r.jsx(vn,{label:"Support",value:"support@useqring.online"}),r.jsx(vn,{label:"Sales",value:"sales@useqring.online"}),r.jsx(vn,{label:"Response time",value:"Within 1 business day"})]})]}),r.jsxs("section",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-soft sm:p-8 lg:col-span-7 dark:border-slate-800 dark:bg-slate-900",children:[r.jsx("h2",{className:"text-2xl font-black tracking-tight sm:text-3xl",children:"Send a message"}),r.jsx("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-300",children:"Tell us about your property setup and goals."}),r.jsxs("form",{onSubmit:o=>{o.preventDefault(),n(!0)},className:"mt-6 space-y-4",children:[r.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[r.jsx(dr,{label:"First name",placeholder:"Your first name"}),r.jsx(dr,{label:"Last name",placeholder:"Your last name"})]}),r.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[r.jsx(dr,{label:"Email",type:"email",placeholder:"you@company.com"}),r.jsx(dr,{label:"Phone",placeholder:"+234..."})]}),r.jsx(dr,{label:"Company / Estate",placeholder:"Property name"}),r.jsxs("label",{className:"block text-sm",children:[r.jsx("span",{className:"mb-2 block font-semibold text-slate-700 dark:text-slate-200",children:"Message"}),r.jsx("textarea",{required:!0,rows:5,placeholder:"Share your requirements...",className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-3 outline-none ring-0 transition focus:border-slate-500 dark:border-slate-700 dark:bg-slate-950"})]}),s?r.jsx("p",{className:"rounded-lg border border-green-200 bg-green-50 px-3 py-2 text-sm text-green-700 dark:border-green-900 dark:bg-green-950/40 dark:text-green-300",children:"Message received. We will contact you shortly."}):null,r.jsxs("div",{className:"flex flex-wrap gap-3",children:[r.jsx("button",{type:"submit",className:"rounded-lg bg-slate-900 px-6 py-3 text-sm font-semibold text-white transition hover:bg-slate-800 dark:bg-white dark:text-slate-900 dark:hover:bg-slate-200",children:"Send Message"}),r.jsx(j,{to:"/",className:"rounded-lg border border-slate-200 px-6 py-3 text-sm font-semibold transition hover:bg-slate-50 dark:border-slate-700 dark:hover:bg-slate-800",children:"Back Home"})]})]})]})]})]})}function dr({label:e,placeholder:t,type:s="text"}){return r.jsxs("label",{className:"block text-sm",children:[r.jsx("span",{className:"mb-2 block font-semibold text-slate-700 dark:text-slate-200",children:e}),r.jsx("input",{required:!0,type:s,placeholder:t,className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-3 outline-none ring-0 transition focus:border-slate-500 dark:border-slate-700 dark:bg-slate-950"})]})}function vn({label:e,value:t}){return r.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-3 dark:border-slate-700 dark:bg-slate-800",children:[r.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-wider text-slate-500 dark:text-slate-300",children:e}),r.jsx("p",{className:"mt-1 text-sm font-medium",children:t})]})}function Np(){const{isDark:e,toggleTheme:t}=Te(),[s,n]=u.useState(!1);return r.jsxs("div",{className:"min-h-screen bg-white text-slate-900 dark:bg-slate-950 dark:text-slate-100",children:[r.jsxs("header",{className:"sticky top-0 z-50 border-b border-slate-200 bg-white/95 backdrop-blur-sm dark:border-slate-800 dark:bg-slate-950/95",children:[r.jsxs("nav",{className:"mx-auto flex w-full max-w-7xl items-center justify-between px-4 py-4 sm:px-6 lg:px-10",children:[r.jsxs(j,{to:"/",className:"flex items-center gap-3 sm:gap-4",children:[r.jsx("span",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-slate-900 dark:bg-white",children:r.jsx(Ce,{tone:"light",className:"h-6 w-6 dark:invert-0"})}),r.jsxs("span",{children:[r.jsx("span",{className:"block text-xl font-black tracking-tight sm:text-2xl",children:"Qring"}),r.jsx("span",{className:"block text-[10px] font-medium uppercase tracking-wider text-slate-500",children:"Smart Access Control"})]})]}),r.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[r.jsx("button",{type:"button",onClick:t,className:"rounded-lg border border-slate-200 px-3 py-2 text-xs font-semibold text-slate-700 transition hover:bg-slate-50 sm:px-4 sm:text-sm dark:border-slate-700 dark:text-slate-200 dark:hover:bg-slate-900",children:e?"Light":"Dark"}),r.jsx(j,{to:"/about",className:"hidden rounded-lg border border-slate-200 px-4 py-2 text-xs font-semibold sm:text-sm sm:inline-block dark:border-slate-700",children:"About"}),r.jsx(j,{to:"/pricing",className:"hidden rounded-lg bg-slate-900 px-4 py-2 text-xs font-semibold text-white sm:px-6 sm:text-sm sm:inline-block dark:bg-white dark:text-slate-900",children:"Pricing"}),r.jsx("button",{type:"button",onClick:()=>n(!s),className:"md:hidden rounded-lg border border-slate-200 px-3 py-2 text-slate-700 transition hover:bg-slate-50 dark:border-slate-700 dark:text-slate-200 dark:hover:bg-slate-900",children:r.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:s?"M6 18L18 6M6 6l12 12":"M4 6h16M4 12h16M4 18h16"})})})]})]}),s&&r.jsx("div",{className:"border-t border-slate-200 bg-white dark:border-slate-800 dark:bg-slate-900 md:hidden",children:r.jsxs("div",{className:"space-y-1 px-4 py-4 sm:px-6",children:[r.jsx(j,{to:"/",onClick:()=>n(!1),className:"block rounded-lg px-3 py-2 text-base font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white",children:"Home"}),r.jsx(j,{to:"/about",onClick:()=>n(!1),className:"block rounded-lg px-3 py-2 text-base font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white",children:"About"}),r.jsx(j,{to:"/pricing",onClick:()=>n(!1),className:"block rounded-lg px-3 py-2 text-base font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white",children:"Pricing"}),r.jsx(j,{to:"/contact",onClick:()=>n(!1),className:"block rounded-lg px-3 py-2 text-base font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white",children:"Contact"})]})})]}),r.jsxs("main",{className:"mx-auto w-full max-w-5xl px-4 py-16 sm:px-6 sm:py-24 lg:px-10",children:[r.jsxs("div",{className:"mb-16",children:[r.jsx("h1",{className:"text-4xl font-black tracking-tight sm:text-5xl",children:"Platform Overview"}),r.jsx("p",{className:"mt-4 text-lg text-slate-600 dark:text-slate-300",children:"Qring is a modern smart access control platform that replaces traditional doorbells with QR-powered realtime communication and visitor verification."})]}),r.jsxs("div",{className:"grid gap-8 md:grid-cols-2 lg:grid-cols-3",children:[r.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6 dark:border-slate-800 dark:bg-slate-900",children:[r.jsx("h3",{className:"text-xl font-bold",children:"QR Code Scanning"}),r.jsx("p",{className:"mt-3 text-sm text-slate-600 dark:text-slate-300",children:"Visitors scan unique QR codes at entry points to request access. Instant notifications reach homeowners with full context."})]}),r.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6 dark:border-slate-800 dark:bg-slate-900",children:[r.jsx("h3",{className:"text-xl font-bold",children:"Realtime Communication"}),r.jsx("p",{className:"mt-3 text-sm text-slate-600 dark:text-slate-300",children:"WebSocket-powered messaging, voice, and video calls connect homeowners and visitors instantly with no lag."})]}),r.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6 dark:border-slate-800 dark:bg-slate-900",children:[r.jsx("h3",{className:"text-xl font-bold",children:"Smart Routing"}),r.jsx("p",{className:"mt-3 text-sm text-slate-600 dark:text-slate-300",children:"Automatically direct visitors to the right person, door, or building based on QR code assignments."})]}),r.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6 dark:border-slate-800 dark:bg-slate-900",children:[r.jsx("h3",{className:"text-xl font-bold",children:"Session Management"}),r.jsx("p",{className:"mt-3 text-sm text-slate-600 dark:text-slate-300",children:"Create, approve, deny, or revoke access sessions with configurable time limits on-the-fly."})]}),r.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6 dark:border-slate-800 dark:bg-slate-900",children:[r.jsx("h3",{className:"text-xl font-bold",children:"Complete Audit Logs"}),r.jsx("p",{className:"mt-3 text-sm text-slate-600 dark:text-slate-300",children:"Every action is logged for compliance, security investigations, and operational transparency."})]}),r.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6 dark:border-slate-800 dark:bg-slate-900",children:[r.jsx("h3",{className:"text-xl font-bold",children:"Multi-Level Access"}),r.jsx("p",{className:"mt-3 text-sm text-slate-600 dark:text-slate-300",children:"Role-based access control for homeowners, estate managers, residents, and visitors."})]})]}),r.jsxs("div",{className:"mt-16",children:[r.jsx("h2",{className:"text-2xl font-bold",children:"How It Works"}),r.jsxs("div",{className:"mt-8 space-y-6",children:[r.jsxs("div",{className:"flex gap-4",children:[r.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-slate-900 text-sm font-bold text-white dark:bg-white dark:text-slate-900",children:"1"}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold",children:"Visitor Scans QR Code"}),r.jsx("p",{className:"mt-1 text-sm text-slate-600 dark:text-slate-300",children:"Visitor scans a unique QR code at the entry point or gate"})]})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-slate-900 text-sm font-bold text-white dark:bg-white dark:text-slate-900",children:"2"}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold",children:"System Validates & Notifies"}),r.jsx("p",{className:"mt-1 text-sm text-slate-600 dark:text-slate-300",children:"Qring backend verifies the code and sends instant notification to the homeowner"})]})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-slate-900 text-sm font-bold text-white dark:bg-white dark:text-slate-900",children:"3"}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold",children:"Homeowner Responds"}),r.jsx("p",{className:"mt-1 text-sm text-slate-600 dark:text-slate-300",children:"Homeowner approves or denies access from their phone or dashboard"})]})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-slate-900 text-sm font-bold text-white dark:bg-white dark:text-slate-900",children:"4"}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold",children:"Session Established"}),r.jsx("p",{className:"mt-1 text-sm text-slate-600 dark:text-slate-300",children:"Secure chat, voice, or video session opens immediately for communication"})]})]})]})]}),r.jsxs("div",{className:"mt-16 flex flex-wrap justify-center gap-4",children:[r.jsx(j,{to:"/",className:"rounded-lg bg-slate-900 px-6 py-3 text-sm font-semibold text-white transition hover:bg-slate-800 dark:bg-white dark:text-slate-900 dark:hover:bg-slate-200",children:"Back Home"}),r.jsx(j,{to:"/pricing",className:"rounded-lg border border-slate-200 px-6 py-3 text-sm font-semibold transition hover:bg-slate-50 dark:border-slate-700 dark:hover:bg-slate-800",children:"View Pricing"}),r.jsx(j,{to:"/signup",className:"rounded-lg border border-slate-200 px-6 py-3 text-sm font-semibold transition hover:bg-slate-50 dark:border-slate-700 dark:hover:bg-slate-800",children:"Start Free Trial"})]})]})]})}function Sp(){const{isDark:e,toggleTheme:t}=Te(),[s,n]=u.useState(!1);return r.jsxs("div",{className:"min-h-screen bg-white text-slate-900 dark:bg-slate-950 dark:text-slate-100",children:[r.jsxs("header",{className:"sticky top-0 z-50 border-b border-slate-200 bg-white/95 backdrop-blur-sm dark:border-slate-800 dark:bg-slate-950/95",children:[r.jsxs("nav",{className:"mx-auto flex w-full max-w-7xl items-center justify-between px-4 py-4 sm:px-6 lg:px-10",children:[r.jsxs(j,{to:"/",className:"flex items-center gap-3 sm:gap-4",children:[r.jsx("span",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-slate-900 dark:bg-white",children:r.jsx(Ce,{tone:"light",className:"h-6 w-6 dark:invert-0"})}),r.jsxs("span",{children:[r.jsx("span",{className:"block text-xl font-black tracking-tight sm:text-2xl",children:"Qring"}),r.jsx("span",{className:"block text-[10px] font-medium uppercase tracking-wider text-slate-500",children:"Smart Access Control"})]})]}),r.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[r.jsx("button",{type:"button",onClick:t,className:"rounded-lg border border-slate-200 px-3 py-2 text-xs font-semibold text-slate-700 transition hover:bg-slate-50 sm:px-4 sm:text-sm dark:border-slate-700 dark:text-slate-200 dark:hover:bg-slate-900",children:e?"Light":"Dark"}),r.jsx(j,{to:"/about",className:"hidden rounded-lg border border-slate-200 px-4 py-2 text-xs font-semibold sm:text-sm sm:inline-block dark:border-slate-700",children:"About"}),r.jsx(j,{to:"/pricing",className:"hidden rounded-lg bg-slate-900 px-4 py-2 text-xs font-semibold text-white sm:px-6 sm:text-sm sm:inline-block dark:bg-white dark:text-slate-900",children:"Pricing"}),r.jsx("button",{type:"button",onClick:()=>n(!s),className:"md:hidden rounded-lg border border-slate-200 px-3 py-2 text-slate-700 transition hover:bg-slate-50 dark:border-slate-700 dark:text-slate-200 dark:hover:bg-slate-900",children:r.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:s?"M6 18L18 6M6 6l12 12":"M4 6h16M4 12h16M4 18h16"})})})]})]}),s&&r.jsx("div",{className:"border-t border-slate-200 bg-white dark:border-slate-800 dark:bg-slate-900 md:hidden",children:r.jsxs("div",{className:"space-y-1 px-4 py-4 sm:px-6",children:[r.jsx(j,{to:"/",onClick:()=>n(!1),className:"block rounded-lg px-3 py-2 text-base font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white",children:"Home"}),r.jsx(j,{to:"/about",onClick:()=>n(!1),className:"block rounded-lg px-3 py-2 text-base font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white",children:"About"}),r.jsx(j,{to:"/pricing",onClick:()=>n(!1),className:"block rounded-lg px-3 py-2 text-base font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white",children:"Pricing"}),r.jsx(j,{to:"/contact",onClick:()=>n(!1),className:"block rounded-lg px-3 py-2 text-base font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white",children:"Contact"})]})})]}),r.jsxs("main",{className:"mx-auto w-full max-w-5xl px-4 py-16 sm:px-6 sm:py-24 lg:px-10",children:[r.jsxs("div",{className:"mb-16",children:[r.jsx("h1",{className:"text-4xl font-black tracking-tight sm:text-5xl",children:"Security & Privacy"}),r.jsx("p",{className:"mt-4 text-lg text-slate-600 dark:text-slate-300",children:"Qring employs industry-standard security practices to protect your data, sessions, and access control."})]}),r.jsxs("div",{className:"mb-16",children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Encryption & Data Protection"}),r.jsxs("div",{className:"mt-6 space-y-4",children:[r.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-6 dark:border-slate-800 dark:bg-slate-900",children:[r.jsx("h3",{className:"font-bold text-slate-900 dark:text-white",children:"End-to-End Encryption"}),r.jsx("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-300",children:"All realtime communication (messages, voice, video) is encrypted using WebRTC protocols and TLS 1.2+."})]}),r.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-6 dark:border-slate-800 dark:bg-slate-900",children:[r.jsx("h3",{className:"font-bold text-slate-900 dark:text-white",children:"JWT Authentication"}),r.jsx("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-300",children:"Sessions are secured with JSON Web Tokens with configurable expiration. Tokens are stored securely on client devices."})]}),r.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-6 dark:border-slate-800 dark:bg-slate-900",children:[r.jsx("h3",{className:"font-bold text-slate-900 dark:text-white",children:"Password Security"}),r.jsx("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-300",children:"Passwords are hashed with bcrypt (10+ rounds). We enforce strong password policies and support two-factor authentication."})]}),r.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-6 dark:border-slate-800 dark:bg-slate-900",children:[r.jsx("h3",{className:"font-bold text-slate-900 dark:text-white",children:"Database Encryption"}),r.jsx("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-300",children:"Sensitive data at rest is encrypted using AES-256 encryption. Database backups are regularly tested and encrypted."})]})]})]}),r.jsxs("div",{className:"mb-16",children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Access Control & Permissions"}),r.jsxs("div",{className:"mt-6 space-y-4",children:[r.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-6 dark:border-slate-800 dark:bg-slate-900",children:[r.jsx("h3",{className:"font-bold text-slate-900 dark:text-white",children:"Role-Based Access Control (RBAC)"}),r.jsx("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-300",children:"Granular permissions for admins, estate managers, homeowners, and visitors. Each role has strict scope boundaries."})]}),r.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-6 dark:border-slate-800 dark:bg-slate-900",children:[r.jsx("h3",{className:"font-bold text-slate-900 dark:text-white",children:"Session Scoping"}),r.jsx("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-300",children:"Each session is scoped to specific users, doors, and time windows. Access is automatically revoked on expiration."})]}),r.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-6 dark:border-slate-800 dark:bg-slate-900",children:[r.jsx("h3",{className:"font-bold text-slate-900 dark:text-white",children:"Audit Logging"}),r.jsx("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-300",children:"Every authentication, authorization, and access event is logged with timestamp, user, IP, and outcome."})]}),r.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-6 dark:border-slate-800 dark:bg-slate-900",children:[r.jsx("h3",{className:"font-bold text-slate-900 dark:text-white",children:"Rate Limiting"}),r.jsx("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-300",children:"API endpoints are rate-limited to prevent brute-force attacks and abuse."})]})]})]}),r.jsxs("div",{className:"mb-16",children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Infrastructure & Compliance"}),r.jsxs("div",{className:"mt-6 space-y-4",children:[r.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-6 dark:border-slate-800 dark:bg-slate-900",children:[r.jsx("h3",{className:"font-bold text-slate-900 dark:text-white",children:"HTTPS/TLS"}),r.jsx("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-300",children:"All traffic is encrypted in transit using HTTPS with TLS 1.2 or higher. Certificate pinning for mobile apps."})]}),r.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-6 dark:border-slate-800 dark:bg-slate-900",children:[r.jsx("h3",{className:"font-bold text-slate-900 dark:text-white",children:"Secure Infrastructure"}),r.jsx("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-300",children:"Application runs on managed cloud infrastructure with DDoS protection, firewalls, and intrusion detection."})]}),r.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-6 dark:border-slate-800 dark:bg-slate-900",children:[r.jsx("h3",{className:"font-bold text-slate-900 dark:text-white",children:"Regular Security Audits"}),r.jsx("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-300",children:"Third-party security assessments, penetration testing, and code reviews are conducted regularly."})]}),r.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-6 dark:border-slate-800 dark:bg-slate-900",children:[r.jsx("h3",{className:"font-bold text-slate-900 dark:text-white",children:"Vulnerability Disclosure"}),r.jsx("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-300",children:"We follow responsible disclosure practices. Report security issues to security@useqring.online"})]})]})]}),r.jsxs("div",{className:"mt-16 flex flex-wrap justify-center gap-4",children:[r.jsx(j,{to:"/",className:"rounded-lg bg-slate-900 px-6 py-3 text-sm font-semibold text-white transition hover:bg-slate-800 dark:bg-white dark:text-slate-900 dark:hover:bg-slate-200",children:"Back Home"}),r.jsx(j,{to:"/compliance",className:"rounded-lg border border-slate-200 px-6 py-3 text-sm font-semibold transition hover:bg-slate-50 dark:border-slate-700 dark:hover:bg-slate-800",children:"View Compliance"})]})]})]})}function Cp(){const{isDark:e,toggleTheme:t}=Te(),[s,n]=u.useState(!1);return r.jsxs("div",{className:"min-h-screen bg-white text-slate-900 dark:bg-slate-950 dark:text-slate-100",children:[r.jsxs("header",{className:"sticky top-0 z-50 border-b border-slate-200 bg-white/95 backdrop-blur-sm dark:border-slate-800 dark:bg-slate-950/95",children:[r.jsxs("nav",{className:"mx-auto flex w-full max-w-7xl items-center justify-between px-4 py-4 sm:px-6 lg:px-10",children:[r.jsxs(j,{to:"/",className:"flex items-center gap-3 sm:gap-4",children:[r.jsx("span",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-slate-900 dark:bg-white",children:r.jsx(Ce,{tone:"light",className:"h-6 w-6 dark:invert-0"})}),r.jsxs("span",{children:[r.jsx("span",{className:"block text-xl font-black tracking-tight sm:text-2xl",children:"Qring"}),r.jsx("span",{className:"block text-[10px] font-medium uppercase tracking-wider text-slate-500",children:"Smart Access Control"})]})]}),r.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[r.jsx("button",{type:"button",onClick:t,className:"rounded-lg border border-slate-200 px-3 py-2 text-xs font-semibold text-slate-700 transition hover:bg-slate-50 sm:px-4 sm:text-sm dark:border-slate-700 dark:text-slate-200 dark:hover:bg-slate-900",children:e?"Light":"Dark"}),r.jsx(j,{to:"/about",className:"hidden rounded-lg border border-slate-200 px-4 py-2 text-xs font-semibold sm:text-sm sm:inline-block dark:border-slate-700",children:"About"}),r.jsx(j,{to:"/pricing",className:"hidden rounded-lg bg-slate-900 px-4 py-2 text-xs font-semibold text-white sm:px-6 sm:text-sm sm:inline-block dark:bg-white dark:text-slate-900",children:"Pricing"}),r.jsx("button",{type:"button",onClick:()=>n(!s),className:"md:hidden rounded-lg border border-slate-200 px-3 py-2 text-slate-700 transition hover:bg-slate-50 dark:border-slate-700 dark:text-slate-200 dark:hover:bg-slate-900",children:r.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:s?"M6 18L18 6M6 6l12 12":"M4 6h16M4 12h16M4 18h16"})})})]})]}),s&&r.jsx("div",{className:"border-t border-slate-200 bg-white dark:border-slate-800 dark:bg-slate-900 md:hidden",children:r.jsxs("div",{className:"space-y-1 px-4 py-4 sm:px-6",children:[r.jsx(j,{to:"/",onClick:()=>n(!1),className:"block rounded-lg px-3 py-2 text-base font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white",children:"Home"}),r.jsx(j,{to:"/about",onClick:()=>n(!1),className:"block rounded-lg px-3 py-2 text-base font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white",children:"About"}),r.jsx(j,{to:"/pricing",onClick:()=>n(!1),className:"block rounded-lg px-3 py-2 text-base font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white",children:"Pricing"}),r.jsx(j,{to:"/contact",onClick:()=>n(!1),className:"block rounded-lg px-3 py-2 text-base font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white",children:"Contact"})]})})]}),r.jsx("main",{className:"mx-auto w-full max-w-4xl px-4 py-16 sm:px-6 sm:py-24 lg:px-10",children:r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full border border-slate-200 bg-slate-50 px-4 py-2 dark:border-slate-700 dark:bg-slate-900",children:[r.jsxs("span",{className:"relative flex h-2 w-2",children:[r.jsx("span",{className:"absolute inline-flex h-2 w-2 animate-ping rounded-full bg-slate-400"}),r.jsx("span",{className:"relative inline-flex h-2 w-2 rounded-full bg-slate-900 dark:bg-white"})]}),r.jsx("span",{className:"text-xs font-semibold uppercase tracking-wider text-slate-700 dark:text-slate-200",children:"Coming Soon"})]}),r.jsx("h1",{className:"mt-6 text-4xl font-black tracking-tight sm:text-5xl lg:text-6xl",children:"API Documentation"}),r.jsx("p",{className:"mt-6 text-lg leading-relaxed text-slate-600 dark:text-slate-300",children:"Comprehensive API reference, code examples, and integration guides are coming soon. Build with Qring."}),r.jsxs("div",{className:"mt-10 flex flex-wrap justify-center gap-4",children:[r.jsx(j,{to:"/",className:"rounded-lg bg-slate-900 px-6 py-3 text-sm font-semibold text-white transition hover:bg-slate-800 dark:bg-white dark:text-slate-900 dark:hover:bg-slate-200",children:"Back Home"}),r.jsx(j,{to:"/contact",className:"rounded-lg border border-slate-200 px-6 py-3 text-sm font-semibold transition hover:bg-slate-50 dark:border-slate-700 dark:hover:bg-slate-800",children:"Get Started"})]})]})})]})}function Ep(){const{isDark:e,toggleTheme:t}=Te(),[s,n]=u.useState(!1);return r.jsxs("div",{className:"min-h-screen bg-white text-slate-900 dark:bg-slate-950 dark:text-slate-100",children:[r.jsxs("header",{className:"sticky top-0 z-50 border-b border-slate-200 bg-white/95 backdrop-blur-sm dark:border-slate-800 dark:bg-slate-950/95",children:[r.jsxs("nav",{className:"mx-auto flex w-full max-w-7xl items-center justify-between px-4 py-4 sm:px-6 lg:px-10",children:[r.jsxs(j,{to:"/",className:"flex items-center gap-3 sm:gap-4",children:[r.jsx("span",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-slate-900 dark:bg-white",children:r.jsx(Ce,{tone:"light",className:"h-6 w-6 dark:invert-0"})}),r.jsxs("span",{children:[r.jsx("span",{className:"block text-xl font-black tracking-tight sm:text-2xl",children:"Qring"}),r.jsx("span",{className:"block text-[10px] font-medium uppercase tracking-wider text-slate-500",children:"Smart Access Control"})]})]}),r.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[r.jsx("button",{type:"button",onClick:t,className:"rounded-lg border border-slate-200 px-3 py-2 text-xs font-semibold text-slate-700 transition hover:bg-slate-50 sm:px-4 sm:text-sm dark:border-slate-700 dark:text-slate-200 dark:hover:bg-slate-900",children:e?"Light":"Dark"}),r.jsx(j,{to:"/about",className:"hidden rounded-lg border border-slate-200 px-4 py-2 text-xs font-semibold sm:text-sm sm:inline-block dark:border-slate-700",children:"About"}),r.jsx(j,{to:"/pricing",className:"hidden rounded-lg bg-slate-900 px-4 py-2 text-xs font-semibold text-white sm:px-6 sm:text-sm sm:inline-block dark:bg-white dark:text-slate-900",children:"Pricing"}),r.jsx("button",{type:"button",onClick:()=>n(!s),className:"md:hidden rounded-lg border border-slate-200 px-3 py-2 text-slate-700 transition hover:bg-slate-50 dark:border-slate-700 dark:text-slate-200 dark:hover:bg-slate-900",children:r.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:s?"M6 18L18 6M6 6l12 12":"M4 6h16M4 12h16M4 18h16"})})})]})]}),s&&r.jsx("div",{className:"border-t border-slate-200 bg-white dark:border-slate-800 dark:bg-slate-900 md:hidden",children:r.jsxs("div",{className:"space-y-1 px-4 py-4 sm:px-6",children:[r.jsx(j,{to:"/",onClick:()=>n(!1),className:"block rounded-lg px-3 py-2 text-base font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white",children:"Home"}),r.jsx(j,{to:"/about",onClick:()=>n(!1),className:"block rounded-lg px-3 py-2 text-base font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white",children:"About"}),r.jsx(j,{to:"/pricing",onClick:()=>n(!1),className:"block rounded-lg px-3 py-2 text-base font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white",children:"Pricing"}),r.jsx(j,{to:"/contact",onClick:()=>n(!1),className:"block rounded-lg px-3 py-2 text-base font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white",children:"Contact"})]})})]}),r.jsx("main",{className:"mx-auto w-full max-w-4xl px-4 py-16 sm:px-6 sm:py-24 lg:px-10",children:r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full border border-slate-200 bg-slate-50 px-4 py-2 dark:border-slate-700 dark:bg-slate-900",children:[r.jsxs("span",{className:"relative flex h-2 w-2",children:[r.jsx("span",{className:"absolute inline-flex h-2 w-2 animate-ping rounded-full bg-slate-400"}),r.jsx("span",{className:"relative inline-flex h-2 w-2 rounded-full bg-slate-900 dark:bg-white"})]}),r.jsx("span",{className:"text-xs font-semibold uppercase tracking-wider text-slate-700 dark:text-slate-200",children:"Coming Soon"})]}),r.jsx("h1",{className:"mt-6 text-4xl font-black tracking-tight sm:text-5xl lg:text-6xl",children:"Company"}),r.jsx("p",{className:"mt-6 text-lg leading-relaxed text-slate-600 dark:text-slate-300",children:"Learn more about Qring company information, team, and our mission. Detailed company page coming soon."}),r.jsxs("div",{className:"mt-10 flex flex-wrap justify-center gap-4",children:[r.jsx(j,{to:"/",className:"rounded-lg bg-slate-900 px-6 py-3 text-sm font-semibold text-white transition hover:bg-slate-800 dark:bg-white dark:text-slate-900 dark:hover:bg-slate-200",children:"Back Home"}),r.jsx(j,{to:"/contact",className:"rounded-lg border border-slate-200 px-6 py-3 text-sm font-semibold transition hover:bg-slate-50 dark:border-slate-700 dark:hover:bg-slate-800",children:"Contact Us"})]})]})})]})}function Pp(){const{isDark:e,toggleTheme:t}=Te(),[s,n]=u.useState(!1);return r.jsxs("div",{className:"min-h-screen bg-white text-slate-900 dark:bg-slate-950 dark:text-slate-100",children:[r.jsxs("header",{className:"sticky top-0 z-50 border-b border-slate-200 bg-white/95 backdrop-blur-sm dark:border-slate-800 dark:bg-slate-950/95",children:[r.jsxs("nav",{className:"mx-auto flex w-full max-w-7xl items-center justify-between px-4 py-4 sm:px-6 lg:px-10",children:[r.jsxs(j,{to:"/",className:"flex items-center gap-3 sm:gap-4",children:[r.jsx("span",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-slate-900 dark:bg-white",children:r.jsx(Ce,{tone:"light",className:"h-6 w-6 dark:invert-0"})}),r.jsxs("span",{children:[r.jsx("span",{className:"block text-xl font-black tracking-tight sm:text-2xl",children:"Qring"}),r.jsx("span",{className:"block text-[10px] font-medium uppercase tracking-wider text-slate-500",children:"Smart Access Control"})]})]}),r.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[r.jsx("button",{type:"button",onClick:t,className:"rounded-lg border border-slate-200 px-3 py-2 text-xs font-semibold text-slate-700 transition hover:bg-slate-50 sm:px-4 sm:text-sm dark:border-slate-700 dark:text-slate-200 dark:hover:bg-slate-900",children:e?"Light":"Dark"}),r.jsx(j,{to:"/about",className:"hidden rounded-lg border border-slate-200 px-4 py-2 text-xs font-semibold sm:text-sm sm:inline-block dark:border-slate-700",children:"About"}),r.jsx(j,{to:"/pricing",className:"hidden rounded-lg bg-slate-900 px-4 py-2 text-xs font-semibold text-white sm:px-6 sm:text-sm sm:inline-block dark:bg-white dark:text-slate-900",children:"Pricing"}),r.jsx("button",{type:"button",onClick:()=>n(!s),className:"md:hidden rounded-lg border border-slate-200 px-3 py-2 text-slate-700 transition hover:bg-slate-50 dark:border-slate-700 dark:text-slate-200 dark:hover:bg-slate-900",children:r.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:s?"M6 18L18 6M6 6l12 12":"M4 6h16M4 12h16M4 18h16"})})})]})]}),s&&r.jsx("div",{className:"border-t border-slate-200 bg-white dark:border-slate-800 dark:bg-slate-900 md:hidden",children:r.jsxs("div",{className:"space-y-1 px-4 py-4 sm:px-6",children:[r.jsx(j,{to:"/",onClick:()=>n(!1),className:"block rounded-lg px-3 py-2 text-base font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white",children:"Home"}),r.jsx(j,{to:"/about",onClick:()=>n(!1),className:"block rounded-lg px-3 py-2 text-base font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white",children:"About"}),r.jsx(j,{to:"/pricing",onClick:()=>n(!1),className:"block rounded-lg px-3 py-2 text-base font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white",children:"Pricing"}),r.jsx(j,{to:"/contact",onClick:()=>n(!1),className:"block rounded-lg px-3 py-2 text-base font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white",children:"Contact"})]})})]}),r.jsx("main",{className:"mx-auto w-full max-w-4xl px-4 py-16 sm:px-6 sm:py-24 lg:px-10",children:r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full border border-slate-200 bg-slate-50 px-4 py-2 dark:border-slate-700 dark:bg-slate-900",children:[r.jsxs("span",{className:"relative flex h-2 w-2",children:[r.jsx("span",{className:"absolute inline-flex h-2 w-2 animate-ping rounded-full bg-slate-400"}),r.jsx("span",{className:"relative inline-flex h-2 w-2 rounded-full bg-slate-900 dark:bg-white"})]}),r.jsx("span",{className:"text-xs font-semibold uppercase tracking-wider text-slate-700 dark:text-slate-200",children:"Coming Soon"})]}),r.jsx("h1",{className:"mt-6 text-4xl font-black tracking-tight sm:text-5xl lg:text-6xl",children:"Blog"}),r.jsx("p",{className:"mt-6 text-lg leading-relaxed text-slate-600 dark:text-slate-300",children:"Insights, updates, and stories about smart access control. Our blog is coming soon."}),r.jsxs("div",{className:"mt-10 flex flex-wrap justify-center gap-4",children:[r.jsx(j,{to:"/",className:"rounded-lg bg-slate-900 px-6 py-3 text-sm font-semibold text-white transition hover:bg-slate-800 dark:bg-white dark:text-slate-900 dark:hover:bg-slate-200",children:"Back Home"}),r.jsx(j,{to:"/contact",className:"rounded-lg border border-slate-200 px-6 py-3 text-sm font-semibold transition hover:bg-slate-50 dark:border-slate-700 dark:hover:bg-slate-800",children:"Subscribe to Updates"})]})]})})]})}function _p(){const{isDark:e,toggleTheme:t}=Te(),[s,n]=u.useState(!1);return r.jsxs("div",{className:"min-h-screen bg-white text-slate-900 dark:bg-slate-950 dark:text-slate-100",children:[r.jsxs("header",{className:"sticky top-0 z-50 border-b border-slate-200 bg-white/95 backdrop-blur-sm dark:border-slate-800 dark:bg-slate-950/95",children:[r.jsxs("nav",{className:"mx-auto flex w-full max-w-7xl items-center justify-between px-4 py-4 sm:px-6 lg:px-10",children:[r.jsxs(j,{to:"/",className:"flex items-center gap-3 sm:gap-4",children:[r.jsx("span",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-slate-900 dark:bg-white",children:r.jsx(Ce,{tone:"light",className:"h-6 w-6 dark:invert-0"})}),r.jsxs("span",{children:[r.jsx("span",{className:"block text-xl font-black tracking-tight sm:text-2xl",children:"Qring"}),r.jsx("span",{className:"block text-[10px] font-medium uppercase tracking-wider text-slate-500",children:"Smart Access Control"})]})]}),r.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[r.jsx("button",{type:"button",onClick:t,className:"rounded-lg border border-slate-200 px-3 py-2 text-xs font-semibold text-slate-700 transition hover:bg-slate-50 sm:px-4 sm:text-sm dark:border-slate-700 dark:text-slate-200 dark:hover:bg-slate-900",children:e?"Light":"Dark"}),r.jsx(j,{to:"/about",className:"hidden rounded-lg border border-slate-200 px-4 py-2 text-xs font-semibold sm:text-sm sm:inline-block dark:border-slate-700",children:"About"}),r.jsx(j,{to:"/pricing",className:"hidden rounded-lg bg-slate-900 px-4 py-2 text-xs font-semibold text-white sm:px-6 sm:text-sm sm:inline-block dark:bg-white dark:text-slate-900",children:"Pricing"}),r.jsx("button",{type:"button",onClick:()=>n(!s),className:"md:hidden rounded-lg border border-slate-200 px-3 py-2 text-slate-700 transition hover:bg-slate-50 dark:border-slate-700 dark:text-slate-200 dark:hover:bg-slate-900",children:r.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:s?"M6 18L18 6M6 6l12 12":"M4 6h16M4 12h16M4 18h16"})})})]})]}),s&&r.jsx("div",{className:"border-t border-slate-200 bg-white dark:border-slate-800 dark:bg-slate-900 md:hidden",children:r.jsxs("div",{className:"space-y-1 px-4 py-4 sm:px-6",children:[r.jsx(j,{to:"/",onClick:()=>n(!1),className:"block rounded-lg px-3 py-2 text-base font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white",children:"Home"}),r.jsx(j,{to:"/about",onClick:()=>n(!1),className:"block rounded-lg px-3 py-2 text-base font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white",children:"About"}),r.jsx(j,{to:"/pricing",onClick:()=>n(!1),className:"block rounded-lg px-3 py-2 text-base font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white",children:"Pricing"}),r.jsx(j,{to:"/contact",onClick:()=>n(!1),className:"block rounded-lg px-3 py-2 text-base font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white",children:"Contact"})]})})]}),r.jsx("main",{className:"mx-auto w-full max-w-4xl px-4 py-16 sm:px-6 sm:py-24 lg:px-10",children:r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full border border-slate-200 bg-slate-50 px-4 py-2 dark:border-slate-700 dark:bg-slate-900",children:[r.jsxs("span",{className:"relative flex h-2 w-2",children:[r.jsx("span",{className:"absolute inline-flex h-2 w-2 animate-ping rounded-full bg-slate-400"}),r.jsx("span",{className:"relative inline-flex h-2 w-2 rounded-full bg-slate-900 dark:bg-white"})]}),r.jsx("span",{className:"text-xs font-semibold uppercase tracking-wider text-slate-700 dark:text-slate-200",children:"Coming Soon"})]}),r.jsx("h1",{className:"mt-6 text-4xl font-black tracking-tight sm:text-5xl lg:text-6xl",children:"Careers"}),r.jsx("p",{className:"mt-6 text-lg leading-relaxed text-slate-600 dark:text-slate-300",children:"Join our team and help build the future of access control. Career opportunities coming soon."}),r.jsxs("div",{className:"mt-10 flex flex-wrap justify-center gap-4",children:[r.jsx(j,{to:"/",className:"rounded-lg bg-slate-900 px-6 py-3 text-sm font-semibold text-white transition hover:bg-slate-800 dark:bg-white dark:text-slate-900 dark:hover:bg-slate-200",children:"Back Home"}),r.jsx(j,{to:"/contact",className:"rounded-lg border border-slate-200 px-6 py-3 text-sm font-semibold transition hover:bg-slate-50 dark:border-slate-700 dark:hover:bg-slate-800",children:"Get In Touch"})]})]})})]})}function Rp(){const{isDark:e,toggleTheme:t}=Te(),[s,n]=u.useState(!1);return r.jsxs("div",{className:"min-h-screen bg-white text-slate-900 dark:bg-slate-950 dark:text-slate-100",children:[r.jsxs("header",{className:"sticky top-0 z-50 border-b border-slate-200 bg-white/95 backdrop-blur-sm dark:border-slate-800 dark:bg-slate-950/95",children:[r.jsxs("nav",{className:"mx-auto flex w-full max-w-7xl items-center justify-between px-4 py-4 sm:px-6 lg:px-10",children:[r.jsxs(j,{to:"/",className:"flex items-center gap-3 sm:gap-4",children:[r.jsx("span",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-slate-900 dark:bg-white",children:r.jsx(Ce,{tone:"light",className:"h-6 w-6 dark:invert-0"})}),r.jsxs("span",{children:[r.jsx("span",{className:"block text-xl font-black tracking-tight sm:text-2xl",children:"Qring"}),r.jsx("span",{className:"block text-[10px] font-medium uppercase tracking-wider text-slate-500",children:"Smart Access Control"})]})]}),r.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[r.jsx("button",{type:"button",onClick:t,className:"rounded-lg border border-slate-200 px-3 py-2 text-xs font-semibold text-slate-700 transition hover:bg-slate-50 sm:px-4 sm:text-sm dark:border-slate-700 dark:text-slate-200 dark:hover:bg-slate-900",children:e?"Light":"Dark"}),r.jsx(j,{to:"/about",className:"hidden rounded-lg border border-slate-200 px-4 py-2 text-xs font-semibold sm:text-sm sm:inline-block dark:border-slate-700",children:"About"}),r.jsx(j,{to:"/pricing",className:"hidden rounded-lg bg-slate-900 px-4 py-2 text-xs font-semibold text-white sm:px-6 sm:text-sm sm:inline-block dark:bg-white dark:text-slate-900",children:"Pricing"}),r.jsx("button",{type:"button",onClick:()=>n(!s),className:"md:hidden rounded-lg border border-slate-200 px-3 py-2 text-slate-700 transition hover:bg-slate-50 dark:border-slate-700 dark:text-slate-200 dark:hover:bg-slate-900",children:r.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:s?"M6 18L18 6M6 6l12 12":"M4 6h16M4 12h16M4 18h16"})})})]})]}),s&&r.jsx("div",{className:"border-t border-slate-200 bg-white dark:border-slate-800 dark:bg-slate-900 md:hidden",children:r.jsxs("div",{className:"space-y-1 px-4 py-4 sm:px-6",children:[r.jsx(j,{to:"/",onClick:()=>n(!1),className:"block rounded-lg px-3 py-2 text-base font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white",children:"Home"}),r.jsx(j,{to:"/about",onClick:()=>n(!1),className:"block rounded-lg px-3 py-2 text-base font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white",children:"About"}),r.jsx(j,{to:"/pricing",onClick:()=>n(!1),className:"block rounded-lg px-3 py-2 text-base font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white",children:"Pricing"}),r.jsx(j,{to:"/contact",onClick:()=>n(!1),className:"block rounded-lg px-3 py-2 text-base font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white",children:"Contact"})]})})]}),r.jsx("main",{className:"mx-auto w-full max-w-4xl px-4 py-16 sm:px-6 sm:py-24 lg:px-10",children:r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full border border-slate-200 bg-slate-50 px-4 py-2 dark:border-slate-700 dark:bg-slate-900",children:[r.jsxs("span",{className:"relative flex h-2 w-2",children:[r.jsx("span",{className:"absolute inline-flex h-2 w-2 animate-ping rounded-full bg-slate-400"}),r.jsx("span",{className:"relative inline-flex h-2 w-2 rounded-full bg-slate-900 dark:bg-white"})]}),r.jsx("span",{className:"text-xs font-semibold uppercase tracking-wider text-slate-700 dark:text-slate-200",children:"Coming Soon"})]}),r.jsx("h1",{className:"mt-6 text-4xl font-black tracking-tight sm:text-5xl lg:text-6xl",children:"Legal"}),r.jsx("p",{className:"mt-6 text-lg leading-relaxed text-slate-600 dark:text-slate-300",children:"Legal information and documentation coming soon. Check back for Privacy, Terms, and Compliance information."}),r.jsxs("div",{className:"mt-10 flex flex-wrap justify-center gap-4",children:[r.jsx(j,{to:"/",className:"rounded-lg bg-slate-900 px-6 py-3 text-sm font-semibold text-white transition hover:bg-slate-800 dark:bg-white dark:text-slate-900 dark:hover:bg-slate-200",children:"Back Home"}),r.jsx(j,{to:"/contact",className:"rounded-lg border border-slate-200 px-6 py-3 text-sm font-semibold transition hover:bg-slate-50 dark:border-slate-700 dark:hover:bg-slate-800",children:"Contact Us"})]})]})})]})}function Tp(){const{isDark:e,toggleTheme:t}=Te(),[s,n]=u.useState(!1);return r.jsxs("div",{className:"min-h-screen bg-white text-slate-900 dark:bg-slate-950 dark:text-slate-100",children:[r.jsxs("header",{className:"sticky top-0 z-50 border-b border-slate-200 bg-white/95 backdrop-blur-sm dark:border-slate-800 dark:bg-slate-950/95",children:[r.jsxs("nav",{className:"mx-auto flex w-full max-w-7xl items-center justify-between px-4 py-4 sm:px-6 lg:px-10",children:[r.jsxs(j,{to:"/",className:"flex items-center gap-3 sm:gap-4",children:[r.jsx("span",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-slate-900 dark:bg-white",children:r.jsx(Ce,{tone:"light",className:"h-6 w-6 dark:invert-0"})}),r.jsxs("span",{children:[r.jsx("span",{className:"block text-xl font-black tracking-tight sm:text-2xl",children:"Qring"}),r.jsx("span",{className:"block text-[10px] font-medium uppercase tracking-wider text-slate-500",children:"Smart Access Control"})]})]}),r.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[r.jsx("button",{type:"button",onClick:t,className:"rounded-lg border border-slate-200 px-3 py-2 text-xs font-semibold text-slate-700 transition hover:bg-slate-50 sm:px-4 sm:text-sm dark:border-slate-700 dark:text-slate-200 dark:hover:bg-slate-900",children:e?"Light":"Dark"}),r.jsx(j,{to:"/about",className:"hidden rounded-lg border border-slate-200 px-4 py-2 text-xs font-semibold sm:text-sm sm:inline-block dark:border-slate-700",children:"About"}),r.jsx(j,{to:"/pricing",className:"hidden rounded-lg bg-slate-900 px-4 py-2 text-xs font-semibold text-white sm:px-6 sm:text-sm sm:inline-block dark:bg-white dark:text-slate-900",children:"Pricing"}),r.jsx("button",{type:"button",onClick:()=>n(!s),className:"md:hidden rounded-lg border border-slate-200 px-3 py-2 text-slate-700 transition hover:bg-slate-50 dark:border-slate-700 dark:text-slate-200 dark:hover:bg-slate-900",children:r.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:s?"M6 18L18 6M6 6l12 12":"M4 6h16M4 12h16M4 18h16"})})})]})]}),s&&r.jsx("div",{className:"border-t border-slate-200 bg-white dark:border-slate-800 dark:bg-slate-900 md:hidden",children:r.jsxs("div",{className:"space-y-1 px-4 py-4 sm:px-6",children:[r.jsx(j,{to:"/",onClick:()=>n(!1),className:"block rounded-lg px-3 py-2 text-base font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white",children:"Home"}),r.jsx(j,{to:"/about",onClick:()=>n(!1),className:"block rounded-lg px-3 py-2 text-base font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white",children:"About"}),r.jsx(j,{to:"/pricing",onClick:()=>n(!1),className:"block rounded-lg px-3 py-2 text-base font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white",children:"Pricing"}),r.jsx(j,{to:"/contact",onClick:()=>n(!1),className:"block rounded-lg px-3 py-2 text-base font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white",children:"Contact"})]})})]}),r.jsxs("main",{className:"mx-auto w-full max-w-5xl px-4 py-16 sm:px-6 sm:py-24 lg:px-10",children:[r.jsxs("div",{className:"mb-16",children:[r.jsx("h1",{className:"text-4xl font-black tracking-tight sm:text-5xl",children:"Privacy Policy"}),r.jsx("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-400",children:"Last updated: January 2025"}),r.jsx("p",{className:"mt-4 text-lg text-slate-600 dark:text-slate-300",children:"We respect your privacy and are committed to protecting your personal data. This policy explains how we collect, use, and safeguard your information."})]}),r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold",children:"1. Information We Collect"}),r.jsxs("div",{className:"mt-4 space-y-3",children:[r.jsxs("p",{className:"text-slate-700 dark:text-slate-300",children:[r.jsx("strong",{children:"Account Information:"})," Name, email address, phone number, password, and profile details provided during registration."]}),r.jsxs("p",{className:"text-slate-700 dark:text-slate-300",children:[r.jsx("strong",{children:"Session Data:"})," QR code scans, access requests, visitor interactions, and device information for each session."]}),r.jsxs("p",{className:"text-slate-700 dark:text-slate-300",children:[r.jsx("strong",{children:"Communication Data:"})," Messages, voice recordings, and video data shared through our realtime communication features (encrypted end-to-end)."]}),r.jsxs("p",{className:"text-slate-700 dark:text-slate-300",children:[r.jsx("strong",{children:"Technical Data:"})," IP address, browser type, device information, and usage patterns for analytics and security."]}),r.jsxs("p",{className:"text-slate-700 dark:text-slate-300",children:[r.jsx("strong",{children:"Payment Information:"})," Billing address and payment method data (processed securely by third-party providers, we do not store full credit card numbers)."]})]})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold",children:"2. How We Use Your Information"}),r.jsxs("div",{className:"mt-4 space-y-3",children:[r.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:" Provide and improve our smart access control platform and services"}),r.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:" Process transactions, payments, and account management"}),r.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:" Communicate service updates, security alerts, and support responses"}),r.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:" Generate audit logs for security, compliance, and troubleshooting"}),r.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:" Analyze usage patterns to enhance user experience and platform performance"}),r.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:" Comply with legal obligations and enforce our terms of service"})]})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold",children:"3. Data Retention"}),r.jsxs("div",{className:"mt-4 space-y-3",children:[r.jsxs("p",{className:"text-slate-700 dark:text-slate-300",children:[r.jsx("strong",{children:"Active Account:"})," Your account information is retained for the duration of your subscription."]}),r.jsxs("p",{className:"text-slate-700 dark:text-slate-300",children:[r.jsx("strong",{children:"Audit Logs:"})," Session logs and access records are retained for 90 days to 1 year for security and compliance purposes."]}),r.jsxs("p",{className:"text-slate-700 dark:text-slate-300",children:[r.jsx("strong",{children:"Communication Data:"})," Realtime communication is not stored unless explicitly backed up by the user."]}),r.jsxs("p",{className:"text-slate-700 dark:text-slate-300",children:[r.jsx("strong",{children:"After Account Deletion:"})," We delete or anonymize personal data within 30 days of account closure, except where required by law."]})]})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold",children:"4. Data Sharing & Third Parties"}),r.jsxs("div",{className:"mt-4 space-y-3",children:[r.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:"We do not sell, rent, or trade your personal data. We may share information only:"}),r.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:" With service providers (hosting, payment processing, analytics) under data processing agreements"}),r.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:" When required by law, court order, or government authority"}),r.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:" To protect against security threats or fraud (with minimal data shared)"}),r.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:" In case of business restructuring or acquisition (with privacy terms maintained)"})]})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold",children:"5. Your Rights & Controls"}),r.jsxs("div",{className:"mt-4 space-y-3",children:[r.jsxs("p",{className:"text-slate-700 dark:text-slate-300",children:[r.jsx("strong",{children:"Access:"})," You can view and download your personal data through account settings."]}),r.jsxs("p",{className:"text-slate-700 dark:text-slate-300",children:[r.jsx("strong",{children:"Correction:"})," Update or correct account information in your profile at any time."]}),r.jsxs("p",{className:"text-slate-700 dark:text-slate-300",children:[r.jsx("strong",{children:"Deletion:"})," Request deletion of your account and associated personal data (some data retained for audit/legal purposes)."]}),r.jsxs("p",{className:"text-slate-700 dark:text-slate-300",children:[r.jsx("strong",{children:"Opt-Out:"})," Disable marketing emails and notifications through account preferences."]}),r.jsxs("p",{className:"text-slate-700 dark:text-slate-300",children:[r.jsx("strong",{children:"GDPR Rights:"})," If you're in the EU, you have additional rights under GDPR. Contact us for a formal data request."]})]})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold",children:"6. Cookies & Tracking"}),r.jsxs("div",{className:"mt-4 space-y-3",children:[r.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:"We use cookies and localStorage to maintain sessions, remember preferences, and analyze platform usage. You can control cookie settings in your browser."}),r.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:"We use Google Analytics for aggregated usage insights. No personally identifiable information is sent to Google."})]})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold",children:"7. Security Measures"}),r.jsxs("div",{className:"mt-4 space-y-3",children:[r.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:" Data encrypted in transit (HTTPS/TLS 1.2+) and at rest (AES-256)"}),r.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:" Passwords hashed with bcrypt to prevent unauthorized access"}),r.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:" End-to-end encryption for realtime communications"}),r.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:" Regular security audits and penetration testing"}),r.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:" Multi-factor authentication available for enhanced account protection"})]})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold",children:"8. Children's Privacy"}),r.jsx("div",{className:"mt-4 space-y-3",children:r.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:"Our service is not intended for users under 18. We do not knowingly collect data from minors. If we discover such data, we delete it promptly."})})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold",children:"9. Policy Changes"}),r.jsx("div",{className:"mt-4 space-y-3",children:r.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:"We may update this policy periodically. Significant changes will be notified via email or in-app notice. Continued use after changes constitutes acceptance."})})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold",children:"10. Contact Us"}),r.jsxs("div",{className:"mt-4 space-y-3",children:[r.jsxs("p",{className:"text-slate-700 dark:text-slate-300",children:[r.jsx("strong",{children:"Privacy Questions:"})," privacy@useqring.online"]}),r.jsxs("p",{className:"text-slate-700 dark:text-slate-300",children:[r.jsx("strong",{children:"GDPR/Data Requests:"})," dpo@useqring.online"]}),r.jsxs("p",{className:"text-slate-700 dark:text-slate-300",children:[r.jsx("strong",{children:"Security Concerns:"})," security@useqring.online"]})]})]})]}),r.jsxs("div",{className:"mt-16 flex flex-wrap justify-center gap-4 border-t border-slate-200 pt-8 dark:border-slate-800",children:[r.jsx(j,{to:"/",className:"rounded-lg bg-slate-900 px-6 py-3 text-sm font-semibold text-white transition hover:bg-slate-800 dark:bg-white dark:text-slate-900 dark:hover:bg-slate-200",children:"Back Home"}),r.jsx(j,{to:"/terms",className:"rounded-lg border border-slate-200 px-6 py-3 text-sm font-semibold transition hover:bg-slate-50 dark:border-slate-700 dark:hover:bg-slate-800",children:"View Terms"})]})]})]})}function Ap(){const{isDark:e,toggleTheme:t}=Te(),[s,n]=u.useState(!1);return r.jsxs("div",{className:"min-h-screen bg-white text-slate-900 dark:bg-slate-950 dark:text-slate-100",children:[r.jsxs("header",{className:"sticky top-0 z-50 border-b border-slate-200 bg-white/95 backdrop-blur-sm dark:border-slate-800 dark:bg-slate-950/95",children:[r.jsxs("nav",{className:"mx-auto flex w-full max-w-7xl items-center justify-between px-4 py-4 sm:px-6 lg:px-10",children:[r.jsxs(j,{to:"/",className:"flex items-center gap-3 sm:gap-4",children:[r.jsx("span",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-slate-900 dark:bg-white",children:r.jsx(Ce,{tone:"light",className:"h-6 w-6 dark:invert-0"})}),r.jsxs("span",{children:[r.jsx("span",{className:"block text-xl font-black tracking-tight sm:text-2xl",children:"Qring"}),r.jsx("span",{className:"block text-[10px] font-medium uppercase tracking-wider text-slate-500",children:"Smart Access Control"})]})]}),r.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[r.jsx("button",{type:"button",onClick:t,className:"rounded-lg border border-slate-200 px-3 py-2 text-xs font-semibold text-slate-700 transition hover:bg-slate-50 sm:px-4 sm:text-sm dark:border-slate-700 dark:text-slate-200 dark:hover:bg-slate-900",children:e?"Light":"Dark"}),r.jsx(j,{to:"/about",className:"hidden rounded-lg border border-slate-200 px-4 py-2 text-xs font-semibold sm:text-sm sm:inline-block dark:border-slate-700",children:"About"}),r.jsx(j,{to:"/pricing",className:"hidden rounded-lg bg-slate-900 px-4 py-2 text-xs font-semibold text-white sm:px-6 sm:text-sm sm:inline-block dark:bg-white dark:text-slate-900",children:"Pricing"}),r.jsx("button",{type:"button",onClick:()=>n(!s),className:"md:hidden rounded-lg border border-slate-200 px-3 py-2 text-slate-700 transition hover:bg-slate-50 dark:border-slate-700 dark:text-slate-200 dark:hover:bg-slate-900",children:r.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:s?"M6 18L18 6M6 6l12 12":"M4 6h16M4 12h16M4 18h16"})})})]})]}),s&&r.jsx("div",{className:"border-t border-slate-200 bg-white dark:border-slate-800 dark:bg-slate-900 md:hidden",children:r.jsxs("div",{className:"space-y-1 px-4 py-4 sm:px-6",children:[r.jsx(j,{to:"/",onClick:()=>n(!1),className:"block rounded-lg px-3 py-2 text-base font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white",children:"Home"}),r.jsx(j,{to:"/about",onClick:()=>n(!1),className:"block rounded-lg px-3 py-2 text-base font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white",children:"About"}),r.jsx(j,{to:"/pricing",onClick:()=>n(!1),className:"block rounded-lg px-3 py-2 text-base font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white",children:"Pricing"}),r.jsx(j,{to:"/contact",onClick:()=>n(!1),className:"block rounded-lg px-3 py-2 text-base font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white",children:"Contact"})]})})]}),r.jsxs("main",{className:"mx-auto w-full max-w-5xl px-4 py-16 sm:px-6 sm:py-24 lg:px-10",children:[r.jsxs("div",{className:"mb-16",children:[r.jsx("h1",{className:"text-4xl font-black tracking-tight sm:text-5xl",children:"Terms of Service"}),r.jsx("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-400",children:"Last updated: January 2025"}),r.jsx("p",{className:"mt-4 text-lg text-slate-600 dark:text-slate-300",children:"These Terms of Service govern your use of the Qring platform. By accessing or using our service, you agree to be bound by these terms."})]}),r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold",children:"1. Acceptance of Terms"}),r.jsx("div",{className:"mt-4 space-y-3",children:r.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:"By accessing, using, or registering with Qring, you agree to comply with these Terms of Service and all applicable laws and regulations. If you do not agree with any part of these terms, you may not use our service."})})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold",children:"2. Service Description"}),r.jsxs("div",{className:"mt-4 space-y-3",children:[r.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:"Qring is a smart access control platform that enables estate managers and homeowners to manage visitor access through QR codes, realtime communication, and digital session management."}),r.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:"We reserve the right to modify, suspend, or discontinue service at any time with reasonable notice."})]})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold",children:"3. User Accounts & Responsibilities"}),r.jsxs("div",{className:"mt-4 space-y-3",children:[r.jsxs("p",{className:"text-slate-700 dark:text-slate-300",children:[r.jsx("strong",{children:"Registration:"})," You must provide accurate, complete information during registration and keep it updated."]}),r.jsxs("p",{className:"text-slate-700 dark:text-slate-300",children:[r.jsx("strong",{children:"Account Security:"})," You are responsible for maintaining the confidentiality of your password. You agree not to share account credentials and are liable for all activities under your account."]}),r.jsxs("p",{className:"text-slate-700 dark:text-slate-300",children:[r.jsx("strong",{children:"Lawful Use:"})," You must use the service only for lawful purposes and in accordance with these terms."]})]})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold",children:"4. User Conduct Restrictions"}),r.jsxs("div",{className:"mt-4 space-y-3",children:[r.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:"You agree NOT to:"}),r.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:" Attempt unauthorized access or hack the platform"}),r.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:" Transmit malware, viruses, or malicious code"}),r.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:" Use the service for illegal activities or harassment"}),r.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:" Violate intellectual property rights of others"}),r.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:" Reverse engineer, decompile, or attempt to derive source code"}),r.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:" Spam, abuse, or harass other users"})]})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold",children:"5. Intellectual Property Rights"}),r.jsxs("div",{className:"mt-4 space-y-3",children:[r.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:"All content, features, and functionality of Qring are owned by Qring or its licensors, including logos, trademarks, and software code. You may not reproduce, modify, or distribute any content without express written permission."}),r.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:"You retain ownership of content you create and upload, but grant us a license to use, display, and process it for service delivery."})]})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold",children:"6. Payment & Billing"}),r.jsxs("div",{className:"mt-4 space-y-3",children:[r.jsxs("p",{className:"text-slate-700 dark:text-slate-300",children:[r.jsx("strong",{children:"Fees:"})," Subscription fees are as listed on the pricing page and are subject to change with 30 days notice."]}),r.jsxs("p",{className:"text-slate-700 dark:text-slate-300",children:[r.jsx("strong",{children:"Billing:"})," You authorize us to charge your payment method on the billing date. Failed payments may result in service suspension."]}),r.jsxs("p",{className:"text-slate-700 dark:text-slate-300",children:[r.jsx("strong",{children:"Refunds:"})," Refunds are available within 30 days of payment for first-time subscribers. Other refunds are at our discretion."]})]})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold",children:"7. Limitation of Liability"}),r.jsxs("div",{className:"mt-4 space-y-3",children:[r.jsxs("p",{className:"text-slate-700 dark:text-slate-300",children:[r.jsx("strong",{children:"Disclaimer:"}),' The service is provided "as-is" without warranties of any kind, express or implied.']}),r.jsxs("p",{className:"text-slate-700 dark:text-slate-300",children:[r.jsx("strong",{children:"Limitation:"})," To the maximum extent permitted by law, Qring shall not be liable for indirect, incidental, special, consequential, or punitive damages."]}),r.jsxs("p",{className:"text-slate-700 dark:text-slate-300",children:[r.jsx("strong",{children:"Maximum Liability:"})," Our total liability to you shall not exceed the amount you paid in the 12 months preceding the claim."]})]})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold",children:"8. Indemnification"}),r.jsx("div",{className:"mt-4 space-y-3",children:r.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:"You agree to indemnify, defend, and hold harmless Qring from any claims, damages, losses, or expenses arising from your violation of these terms, your use of the service, or your infringement of any rights."})})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold",children:"9. Termination"}),r.jsxs("div",{className:"mt-4 space-y-3",children:[r.jsxs("p",{className:"text-slate-700 dark:text-slate-300",children:[r.jsx("strong",{children:"Account Termination:"})," You may terminate your account anytime through account settings. No refund of unused subscription fees will be issued."]}),r.jsxs("p",{className:"text-slate-700 dark:text-slate-300",children:[r.jsx("strong",{children:"Our Right to Terminate:"})," We may terminate or suspend your account for violation of these terms, non-payment, or abuse of service."]})]})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold",children:"10. Dispute Resolution"}),r.jsxs("div",{className:"mt-4 space-y-3",children:[r.jsxs("p",{className:"text-slate-700 dark:text-slate-300",children:[r.jsx("strong",{children:"Governing Law:"})," These terms are governed by applicable international law."]}),r.jsxs("p",{className:"text-slate-700 dark:text-slate-300",children:[r.jsx("strong",{children:"Arbitration:"})," Disputes shall be resolved through informal resolution or binding arbitration, not court proceedings."]})]})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold",children:"11. Modifications to Terms"}),r.jsx("div",{className:"mt-4 space-y-3",children:r.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:"We may update these terms at any time. Major changes will be notified via email or in-app notice. Your continued use after changes constitutes acceptance."})})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold",children:"12. Contact for Disputes"}),r.jsxs("div",{className:"mt-4 space-y-3",children:[r.jsxs("p",{className:"text-slate-700 dark:text-slate-300",children:[r.jsx("strong",{children:"Support:"})," support@useqring.online"]}),r.jsxs("p",{className:"text-slate-700 dark:text-slate-300",children:[r.jsx("strong",{children:"Legal Issues:"})," legal@useqring.online"]})]})]})]}),r.jsxs("div",{className:"mt-16 flex flex-wrap justify-center gap-4 border-t border-slate-200 pt-8 dark:border-slate-800",children:[r.jsx(j,{to:"/",className:"rounded-lg bg-slate-900 px-6 py-3 text-sm font-semibold text-white transition hover:bg-slate-800 dark:bg-white dark:text-slate-900 dark:hover:bg-slate-200",children:"Back Home"}),r.jsx(j,{to:"/privacy",className:"rounded-lg border border-slate-200 px-6 py-3 text-sm font-semibold transition hover:bg-slate-50 dark:border-slate-700 dark:hover:bg-slate-800",children:"View Privacy"})]})]})]})}function Lp(){const{isDark:e,toggleTheme:t}=Te(),[s,n]=u.useState(!1);return r.jsxs("div",{className:"min-h-screen bg-white text-slate-900 dark:bg-slate-950 dark:text-slate-100",children:[r.jsxs("header",{className:"sticky top-0 z-50 border-b border-slate-200 bg-white/95 backdrop-blur-sm dark:border-slate-800 dark:bg-slate-950/95",children:[r.jsxs("nav",{className:"mx-auto flex w-full max-w-7xl items-center justify-between px-4 py-4 sm:px-6 lg:px-10",children:[r.jsxs(j,{to:"/",className:"flex items-center gap-3 sm:gap-4",children:[r.jsx("span",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-slate-900 dark:bg-white",children:r.jsx(Ce,{tone:"light",className:"h-6 w-6 dark:invert-0"})}),r.jsxs("span",{children:[r.jsx("span",{className:"block text-xl font-black tracking-tight sm:text-2xl",children:"Qring"}),r.jsx("span",{className:"block text-[10px] font-medium uppercase tracking-wider text-slate-500",children:"Smart Access Control"})]})]}),r.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[r.jsx("button",{type:"button",onClick:t,className:"rounded-lg border border-slate-200 px-3 py-2 text-xs font-semibold text-slate-700 transition hover:bg-slate-50 sm:px-4 sm:text-sm dark:border-slate-700 dark:text-slate-200 dark:hover:bg-slate-900",children:e?"Light":"Dark"}),r.jsx(j,{to:"/about",className:"hidden rounded-lg border border-slate-200 px-4 py-2 text-xs font-semibold sm:text-sm sm:inline-block dark:border-slate-700",children:"About"}),r.jsx(j,{to:"/pricing",className:"hidden rounded-lg bg-slate-900 px-4 py-2 text-xs font-semibold text-white sm:px-6 sm:text-sm sm:inline-block dark:bg-white dark:text-slate-900",children:"Pricing"}),r.jsx("button",{type:"button",onClick:()=>n(!s),className:"md:hidden rounded-lg border border-slate-200 px-3 py-2 text-slate-700 transition hover:bg-slate-50 dark:border-slate-700 dark:text-slate-200 dark:hover:bg-slate-900",children:r.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:s?"M6 18L18 6M6 6l12 12":"M4 6h16M4 12h16M4 18h16"})})})]})]}),s&&r.jsx("div",{className:"border-t border-slate-200 bg-white dark:border-slate-800 dark:bg-slate-900 md:hidden",children:r.jsxs("div",{className:"space-y-1 px-4 py-4 sm:px-6",children:[r.jsx(j,{to:"/",onClick:()=>n(!1),className:"block rounded-lg px-3 py-2 text-base font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white",children:"Home"}),r.jsx(j,{to:"/about",onClick:()=>n(!1),className:"block rounded-lg px-3 py-2 text-base font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white",children:"About"}),r.jsx(j,{to:"/pricing",onClick:()=>n(!1),className:"block rounded-lg px-3 py-2 text-base font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white",children:"Pricing"}),r.jsx(j,{to:"/contact",onClick:()=>n(!1),className:"block rounded-lg px-3 py-2 text-base font-semibold text-slate-600 transition hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white",children:"Contact"})]})})]}),r.jsxs("main",{className:"mx-auto w-full max-w-5xl px-4 py-16 sm:px-6 sm:py-24 lg:px-10",children:[r.jsxs("div",{className:"mb-16",children:[r.jsx("h1",{className:"text-4xl font-black tracking-tight sm:text-5xl",children:"Compliance & Standards"}),r.jsx("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-400",children:"Last updated: January 2025"}),r.jsx("p",{className:"mt-4 text-lg text-slate-600 dark:text-slate-300",children:"Qring adheres to stringent compliance requirements and best practices for data protection, security, and operational integrity."})]}),r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Data Protection Regulations"}),r.jsxs("div",{className:"mt-4 space-y-4",children:[r.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-6 dark:border-slate-800 dark:bg-slate-900",children:[r.jsx("h3",{className:"font-bold text-slate-900 dark:text-white",children:"GDPR Compliance"}),r.jsx("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-300",children:"Qring complies with the General Data Protection Regulation (GDPR). We honor user rights including data access, correction, deletion, and portability. Our Data Processing Agreements are available upon request."})]}),r.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-6 dark:border-slate-800 dark:bg-slate-900",children:[r.jsx("h3",{className:"font-bold text-slate-900 dark:text-white",children:"CCPA & Privacy Laws"}),r.jsx("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-300",children:"For users in California and other jurisdictions with privacy laws, we provide transparency about personal information, allow opt-out options, and facilitate data rights requests."})]}),r.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-6 dark:border-slate-800 dark:bg-slate-900",children:[r.jsx("h3",{className:"font-bold text-slate-900 dark:text-white",children:"UK Data Protection Act (UKDPA)"}),r.jsx("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-300",children:"Qring honors obligations under the UK Data Protection Act 2018 and recognizes all GDPR rights for UK-based users."})]})]})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Security Frameworks"}),r.jsxs("div",{className:"mt-4 space-y-4",children:[r.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-6 dark:border-slate-800 dark:bg-slate-900",children:[r.jsx("h3",{className:"font-bold text-slate-900 dark:text-white",children:"NIST Cybersecurity Framework"}),r.jsx("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-300",children:"Our security practices align with NIST guidelines for identifying, protecting, detecting, responding to, and recovering from cybersecurity incidents."})]}),r.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-6 dark:border-slate-800 dark:bg-slate-900",children:[r.jsx("h3",{className:"font-bold text-slate-900 dark:text-white",children:"OWASP Top 10"}),r.jsx("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-300",children:"Qring development follows OWASP Top 10 security recommendations to prevent common application vulnerabilities including injection, broken authentication, and sensitive data exposure."})]}),r.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-6 dark:border-slate-800 dark:bg-slate-900",children:[r.jsx("h3",{className:"font-bold text-slate-900 dark:text-white",children:"Encryption Standards"}),r.jsx("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-300",children:"All data is encrypted using industry-standard protocols: TLS 1.2+ for transport, AES-256 for data at rest, and WebRTC for realtime communications."})]})]})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Compliance Certifications"}),r.jsxs("div",{className:"mt-4 space-y-4",children:[r.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-6 dark:border-slate-800 dark:bg-slate-900",children:[r.jsx("h3",{className:"font-bold text-slate-900 dark:text-white",children:"Security Audits"}),r.jsx("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-300",children:"Qring undergoes regular third-party security assessments and penetration testing to identify and remediate vulnerabilities."})]}),r.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-6 dark:border-slate-800 dark:bg-slate-900",children:[r.jsx("h3",{className:"font-bold text-slate-900 dark:text-white",children:"Incident Response Plan"}),r.jsx("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-300",children:"We maintain a documented incident response plan to detect and respond to security incidents within acceptable timeframes and notify affected users."})]}),r.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-6 dark:border-slate-800 dark:bg-slate-900",children:[r.jsx("h3",{className:"font-bold text-slate-900 dark:text-white",children:"Business Continuity"}),r.jsx("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-300",children:"Qring maintains backup and disaster recovery procedures with regular testing to ensure service availability and data integrity."})]})]})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Access Control & Authentication"}),r.jsxs("div",{className:"mt-4 space-y-4",children:[r.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-6 dark:border-slate-800 dark:bg-slate-900",children:[r.jsx("h3",{className:"font-bold text-slate-900 dark:text-white",children:"Role-Based Access Control (RBAC)"}),r.jsx("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-300",children:"Granular permissions ensure users only access data and features required for their role. Regular access reviews are conducted."})]}),r.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-6 dark:border-slate-800 dark:bg-slate-900",children:[r.jsx("h3",{className:"font-bold text-slate-900 dark:text-white",children:"Multi-Factor Authentication"}),r.jsx("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-300",children:"MFA is available for all accounts and required for administrative functions to prevent unauthorized access."})]}),r.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-6 dark:border-slate-800 dark:bg-slate-900",children:[r.jsx("h3",{className:"font-bold text-slate-900 dark:text-white",children:"Session Management"}),r.jsx("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-300",children:"Sessions are scoped, time-limited, and automatically revoked. All session events are logged for audit purposes."})]})]})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Audit & Logging"}),r.jsxs("div",{className:"mt-4 space-y-3",children:[r.jsxs("p",{className:"text-slate-700 dark:text-slate-300",children:[r.jsx("strong",{children:"Comprehensive Logging:"})," All authentication, authorization, and data access events are logged with timestamps, user identifiers, IP addresses, and action details."]}),r.jsxs("p",{className:"text-slate-700 dark:text-slate-300",children:[r.jsx("strong",{children:"Log Retention:"})," Audit logs are retained for 12 months and protected against tampering and unauthorized access."]}),r.jsxs("p",{className:"text-slate-700 dark:text-slate-300",children:[r.jsx("strong",{children:"Log Review:"})," Logs are regularly reviewed for suspicious activities and security events."]})]})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Third-Party Security"}),r.jsx("div",{className:"mt-4 space-y-3",children:r.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:"All third-party service providers are vetted for security and compliance. Data Processing Agreements are in place for any processor handling personal data."})})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Compliance Contact"}),r.jsxs("div",{className:"mt-4 space-y-3",children:[r.jsxs("p",{className:"text-slate-700 dark:text-slate-300",children:[r.jsx("strong",{children:"Compliance Officer:"})," compliance@useqring.online"]}),r.jsxs("p",{className:"text-slate-700 dark:text-slate-300",children:[r.jsx("strong",{children:"Data Protection Officer:"})," dpo@useqring.online"]}),r.jsxs("p",{className:"text-slate-700 dark:text-slate-300",children:[r.jsx("strong",{children:"Security Team:"})," security@useqring.online"]})]})]})]}),r.jsxs("div",{className:"mt-16 flex flex-wrap justify-center gap-4 border-t border-slate-200 pt-8 dark:border-slate-800",children:[r.jsx(j,{to:"/",className:"rounded-lg bg-slate-900 px-6 py-3 text-sm font-semibold text-white transition hover:bg-slate-800 dark:bg-white dark:text-slate-900 dark:hover:bg-slate-200",children:"Back Home"}),r.jsx(j,{to:"/security",className:"rounded-lg border border-slate-200 px-6 py-3 text-sm font-semibold transition hover:bg-slate-50 dark:border-slate-700 dark:hover:bg-slate-800",children:"View Security"})]})]})]})}function Gr({title:e,subtitle:t,children:s}){return r.jsxs("div",{className:"w-full max-w-md rounded-3xl border border-slate-200 bg-white/90 p-7 shadow-soft backdrop-blur dark:border-slate-800 dark:bg-slate-900/80",children:[r.jsxs("div",{className:"mb-5 flex items-center gap-3",children:[r.jsx("div",{className:"grid h-10 w-10 place-items-center rounded-xl bg-slate-900 dark:bg-white",children:r.jsx(Ce,{tone:"light",className:"h-6 w-6 dark:invert-0"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500",children:"Qring"}),r.jsx("p",{className:"text-sm font-semibold text-slate-700 dark:text-slate-200",children:"Secure Access"})]})]}),r.jsx("h1",{className:"font-heading text-3xl font-bold",children:e}),r.jsx("p",{className:"mt-2 text-sm text-slate-500",children:t}),r.jsx("div",{className:"mt-6",children:s})]})}async function Zm(e){return q("/auth/login",{method:"POST",body:JSON.stringify(e)})}async function Op(e){return q("/auth/signup",{method:"POST",body:JSON.stringify(e)})}async function Mp(e){return q("/auth/admin-signup",{method:"POST",body:JSON.stringify(e)})}async function Dp(e){return q("/auth/forgot-password",{method:"POST",body:JSON.stringify(e)})}async function Ip(e){return q("/auth/verify-otp",{method:"POST",body:JSON.stringify(e)})}async function Bp(e){return q("/auth/reset-password",{method:"POST",body:JSON.stringify(e)})}async function eh(e){return q("/auth/logout",{method:"POST",body:JSON.stringify(e)})}async function zp(e){return q("/auth/change-password",{method:"POST",body:JSON.stringify(e)})}const th=u.createContext(null);function Up(e,t){const s=localStorage.getItem(e);if(!s)return t;try{return JSON.parse(s)}catch{return t}}function $p({children:e}){const[t,s]=u.useState(()=>localStorage.getItem("qring_access_token")??""),[n,a]=u.useState(()=>localStorage.getItem("qring_access_token")?Up("qring_user",null):null),[l,o]=u.useState(!1),i=async m=>{o(!0);try{const y=await Zm(m),v=(y==null?void 0:y.data)??y;return v!=null&&v.accessToken&&(localStorage.setItem("qring_access_token",v.accessToken),s(v.accessToken)),v!=null&&v.refreshToken&&localStorage.setItem("qring_refresh_token",v.refreshToken),v!=null&&v.user&&(localStorage.setItem("qring_user",JSON.stringify(v.user)),a(v.user)),v}finally{o(!1)}},d=async m=>{o(!0);try{return await Op(m)}finally{o(!1)}},c=async m=>Dp({email:m}),f=async()=>{try{const m=localStorage.getItem("qring_refresh_token");m&&await eh({refreshToken:m})}finally{localStorage.removeItem("qring_access_token"),localStorage.removeItem("qring_refresh_token"),localStorage.removeItem("qring_user"),s(""),a(null)}},x=u.useMemo(()=>({user:n,loading:l,isAuthenticated:!!(n&&t),login:i,signup:d,forgotPassword:c,logout:f}),[n,t,l]);return r.jsx(th.Provider,{value:x,children:e})}function Xt(){const e=u.useContext(th);if(!e)throw new Error("useAuth must be used inside AuthProvider");return e}const Fp={homeowner:"/dashboard/homeowner/overview",admin:"/dashboard/admin",estate:"/dashboard/estate"};function qp(){const{login:e,loading:t}=Xt(),[s]=Km(),n=s.get("email")??s.get("username")??"",[a,l]=u.useState({email:n,password:""}),[o,i]=u.useState(""),d=Ge(),c=xt(),f=async x=>{var m,y,v;x.preventDefault(),i("");try{const k=await e(a),S=Fp[(m=k==null?void 0:k.user)==null?void 0:m.role]??"/dashboard/homeowner/overview",g=((v=(y=c.state)==null?void 0:y.from)==null?void 0:v.pathname)??S;d(g,{replace:!0})}catch(k){i(k.message??"Login failed")}};return r.jsx("div",{className:"grid min-h-screen place-items-center bg-slate-50 p-4 dark:bg-slate-950",children:r.jsx(Gr,{title:"Login",subtitle:"Access your secure Qring workspace",children:r.jsxs("form",{onSubmit:f,className:"space-y-4",children:[r.jsx(sc,{label:"Email or Username",type:"text",value:a.email,onChange:x=>l(m=>({...m,email:x}))}),r.jsx(sc,{label:"Password",type:"password",value:a.password,onChange:x=>l(m=>({...m,password:x}))}),o?r.jsx("p",{className:"text-sm text-danger",children:o}):null,r.jsx("button",{type:"submit",disabled:t,className:"w-full rounded-xl bg-brand-500 px-4 py-3 text-sm font-semibold text-white disabled:opacity-50",children:t?"Signing In...":"Sign In"}),r.jsxs("div",{className:"flex justify-between text-xs text-slate-500",children:[r.jsx(j,{to:"/forgot-password",className:"hover:text-brand-500",children:"Forgot password?"}),r.jsx(j,{to:"/signup",className:"hover:text-brand-500",children:"Create account"})]})]})})})}function sc({label:e,type:t,value:s,onChange:n}){return r.jsxs("label",{className:"block text-sm",children:[r.jsx("span",{className:"mb-1 block font-medium text-slate-700 dark:text-slate-300",children:e}),r.jsx("input",{required:!0,type:t,value:s,onChange:a=>n(a.target.value),className:"w-full rounded-xl border border-slate-300 bg-white px-3 py-3 outline-none ring-brand-500 focus:ring-2 dark:border-slate-700 dark:bg-slate-900"})]})}function Qp(){const[e,t]=u.useState({email:"",password:""}),[s,n]=u.useState(""),[a,l]=u.useState(!1);Ge();const o=xt(),i=async d=>{var c,f,x;d.preventDefault(),n(""),l(!0);try{const m=await Zm(e),y=(m==null?void 0:m.data)??m;if(y!=null&&y.accessToken&&localStorage.setItem("qring_access_token",y.accessToken),y!=null&&y.refreshToken&&localStorage.setItem("qring_refresh_token",y.refreshToken),y!=null&&y.user&&localStorage.setItem("qring_user",JSON.stringify(y.user)),((c=y==null?void 0:y.user)==null?void 0:c.role)!=="admin"){const k=localStorage.getItem("qring_refresh_token");if(k)try{await eh({refreshToken:k})}catch{}localStorage.removeItem("qring_access_token"),localStorage.removeItem("qring_refresh_token"),localStorage.removeItem("qring_user"),n("Admin account required.");return}const v=((x=(f=o.state)==null?void 0:f.from)==null?void 0:x.pathname)??"/dashboard/admin";window.location.assign(v)}catch(m){n(m.message??"Admin login failed")}finally{l(!1)}};return r.jsx("div",{className:"grid min-h-screen place-items-center bg-slate-50 p-4 dark:bg-slate-950",children:r.jsx(Gr,{title:"Admin Login",subtitle:"Restricted access for platform administrators",children:r.jsxs("form",{onSubmit:i,className:"space-y-4",children:[r.jsx(rc,{label:"Admin Email or Username",type:"text",value:e.email,onChange:d=>t(c=>({...c,email:d}))}),r.jsx(rc,{label:"Password",type:"password",value:e.password,onChange:d=>t(c=>({...c,password:d}))}),s?r.jsx("p",{className:"text-sm text-danger",children:s}):null,r.jsx("button",{type:"submit",disabled:a,className:"w-full rounded-xl bg-slate-900 px-4 py-3 text-sm font-semibold text-white disabled:opacity-50 dark:bg-white dark:text-slate-900",children:a?"Signing In...":"Enter Admin Dashboard"}),r.jsx("div",{className:"text-center text-xs text-slate-500",children:r.jsxs("div",{className:"space-x-3",children:[r.jsx(j,{to:"/admin/signup",className:"hover:text-brand-500",children:"Create admin"}),r.jsx(j,{to:"/login",className:"hover:text-brand-500",children:"User login"})]})})]})})})}function rc({label:e,type:t,value:s,onChange:n}){return r.jsxs("label",{className:"block text-sm",children:[r.jsx("span",{className:"mb-1 block font-medium text-slate-700 dark:text-slate-300",children:e}),r.jsx("input",{required:!0,type:t,value:s,onChange:a=>n(a.target.value),className:"w-full rounded-xl border border-slate-300 bg-white px-3 py-3 outline-none ring-brand-500 focus:ring-2 dark:border-slate-700 dark:bg-slate-900"})]})}function Hp(){const[e,t]=u.useState({fullName:"",email:"",password:""}),[s,n]=u.useState(!1),[a,l]=u.useState(""),o=Ge();async function i(d){d.preventDefault(),n(!0),l("");try{await Mp(e),setTimeout(()=>o("/admin/login"),500)}catch(c){l(c.message??"Admin signup failed")}finally{n(!1)}}return r.jsx("div",{className:"grid min-h-screen place-items-center bg-slate-50 p-4 dark:bg-slate-950",children:r.jsx(Gr,{title:"Create Admin Account",subtitle:"Creates an admin user account",children:r.jsxs("form",{onSubmit:i,className:"space-y-4",children:[r.jsx(vl,{label:"Full Name",type:"text",value:e.fullName,onChange:d=>t(c=>({...c,fullName:d}))}),r.jsx(vl,{label:"Email",type:"email",value:e.email,onChange:d=>t(c=>({...c,email:d}))}),r.jsx(vl,{label:"Password",type:"password",value:e.password,onChange:d=>t(c=>({...c,password:d}))}),a?r.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:a}):null,r.jsx("button",{type:"submit",disabled:s,className:"w-full rounded-xl bg-slate-900 px-4 py-3 text-sm font-semibold text-white disabled:opacity-50 dark:bg-white dark:text-slate-900",children:s?"Creating...":"Create Admin"}),r.jsxs("p",{className:"text-center text-xs text-slate-500",children:["Already have admin account?"," ",r.jsx(j,{to:"/admin/login",className:"font-semibold hover:text-slate-700 dark:hover:text-slate-300",children:"Admin login"})]})]})})})}function vl({label:e,type:t,value:s,onChange:n}){return r.jsxs("label",{className:"block text-sm",children:[r.jsx("span",{className:"mb-1 block font-medium text-slate-700 dark:text-slate-300",children:e}),r.jsx("input",{required:!0,type:t,value:s,onChange:a=>n(a.target.value),className:"w-full rounded-xl border border-slate-300 bg-white px-3 py-3 outline-none ring-slate-900 focus:ring-2 dark:border-slate-700 dark:bg-slate-900"})]})}function Vp(){const{signup:e}=Xt(),[t,s]=u.useState({fullName:"",email:"",password:"",role:"homeowner"}),[n,a]=u.useState(""),[l,o]=u.useState(!1),i=Ge(),d=async c=>{c.preventDefault(),a(""),o(!0);try{await e(t),i("/login")}catch(f){a(f.message??"Signup failed")}finally{o(!1)}};return r.jsx("div",{className:"grid min-h-screen place-items-center bg-slate-50 p-4 dark:bg-slate-950",children:r.jsx(Gr,{title:"Create Account",subtitle:"Start with secure QR access",children:r.jsxs("form",{onSubmit:d,className:"space-y-4",children:[r.jsx(kl,{label:"Full name",type:"text",value:t.fullName,onChange:c=>s(f=>({...f,fullName:c}))}),r.jsx(kl,{label:"Email",type:"email",value:t.email,onChange:c=>s(f=>({...f,email:c}))}),r.jsx(kl,{label:"Password",type:"password",value:t.password,onChange:c=>s(f=>({...f,password:c}))}),r.jsxs("label",{className:"block text-sm",children:[r.jsx("span",{className:"mb-1 block font-medium text-slate-700 dark:text-slate-300",children:"Role"}),r.jsxs("select",{value:t.role,onChange:c=>s(f=>({...f,role:c.target.value})),className:"w-full rounded-xl border border-slate-300 bg-white px-3 py-3 outline-none ring-brand-500 focus:ring-2 dark:border-slate-700 dark:bg-slate-900",children:[r.jsx("option",{value:"homeowner",children:"Homeowner"}),r.jsx("option",{value:"estate",children:"Estate User"})]})]}),n?r.jsx("p",{className:"text-sm text-danger",children:n}):null,r.jsx("button",{type:"submit",disabled:l,className:"w-full rounded-xl bg-brand-500 px-4 py-3 text-sm font-semibold text-white disabled:opacity-50",children:l?"Creating...":"Create Account"}),r.jsxs("p",{className:"text-xs text-slate-500",children:["Already have an account?"," ",r.jsx(j,{to:"/login",className:"font-semibold hover:text-brand-500",children:"Login"})]})]})})})}function kl({label:e,type:t,value:s,onChange:n}){return r.jsxs("label",{className:"block text-sm",children:[r.jsx("span",{className:"mb-1 block font-medium text-slate-700 dark:text-slate-300",children:e}),r.jsx("input",{required:!0,type:t,value:s,onChange:a=>n(a.target.value),className:"w-full rounded-xl border border-slate-300 bg-white px-3 py-3 outline-none ring-brand-500 focus:ring-2 dark:border-slate-700 dark:bg-slate-900"})]})}function Wp(){const{forgotPassword:e}=Xt(),[t,s]=u.useState(""),[n,a]=u.useState(""),[l,o]=u.useState(""),[i,d]=u.useState(1),[c,f]=u.useState({loading:!1,error:"",done:!1,otpHint:""}),x=async y=>{y.preventDefault(),f({loading:!0,error:"",done:!1,otpHint:""});try{const v=await e(t),k=(v==null?void 0:v.data)??v;f({loading:!1,error:"",done:!0,otpHint:k!=null&&k.otp?`Use OTP: ${k.otp}`:"OTP sent to your email"}),d(2)}catch(v){f({loading:!1,error:v.message??"Request failed",done:!1,otpHint:""})}},m=async y=>{y.preventDefault(),f(v=>({...v,loading:!0,error:""}));try{await Ip({email:t,otp:n}),await Bp({email:t,otp:n,newPassword:l}),f({loading:!1,error:"",done:!0,otpHint:"Password reset successful. You can now login."}),d(3)}catch(v){f(k=>({...k,loading:!1,error:v.message??"Reset failed"}))}};return r.jsx("div",{className:"grid min-h-screen place-items-center bg-slate-50 p-4 dark:bg-slate-950",children:r.jsxs(Gr,{title:"Forgot Password",subtitle:"Request OTP and reset your password securely",children:[i===1?r.jsxs("form",{onSubmit:x,className:"space-y-4",children:[r.jsxs("label",{className:"block text-sm",children:[r.jsx("span",{className:"mb-1 block font-medium text-slate-700 dark:text-slate-300",children:"Email"}),r.jsx("input",{required:!0,type:"email",value:t,onChange:y=>s(y.target.value),className:"w-full rounded-xl border border-slate-300 bg-white px-3 py-3 outline-none ring-brand-500 focus:ring-2 dark:border-slate-700 dark:bg-slate-900"})]}),c.error?r.jsx("p",{className:"text-sm text-danger",children:c.error}):null,r.jsx("button",{type:"submit",disabled:c.loading,className:"w-full rounded-xl bg-brand-500 px-4 py-3 text-sm font-semibold text-white disabled:opacity-50",children:c.loading?"Sending...":"Send OTP"})]}):null,i===2?r.jsxs("form",{onSubmit:m,className:"space-y-4",children:[r.jsx("p",{className:"rounded-xl bg-slate-100 p-3 text-xs text-slate-600 dark:bg-slate-800 dark:text-slate-300",children:c.otpHint||"Enter the OTP sent to your email."}),r.jsxs("label",{className:"block text-sm",children:[r.jsx("span",{className:"mb-1 block font-medium text-slate-700 dark:text-slate-300",children:"OTP"}),r.jsx("input",{required:!0,value:n,onChange:y=>a(y.target.value),className:"w-full rounded-xl border border-slate-300 bg-white px-3 py-3 outline-none ring-brand-500 focus:ring-2 dark:border-slate-700 dark:bg-slate-900"})]}),r.jsxs("label",{className:"block text-sm",children:[r.jsx("span",{className:"mb-1 block font-medium text-slate-700 dark:text-slate-300",children:"New Password"}),r.jsx("input",{required:!0,minLength:8,type:"password",value:l,onChange:y=>o(y.target.value),className:"w-full rounded-xl border border-slate-300 bg-white px-3 py-3 outline-none ring-brand-500 focus:ring-2 dark:border-slate-700 dark:bg-slate-900"})]}),c.error?r.jsx("p",{className:"text-sm text-danger",children:c.error}):null,r.jsx("button",{type:"submit",disabled:c.loading,className:"w-full rounded-xl bg-brand-500 px-4 py-3 text-sm font-semibold text-white disabled:opacity-50",children:c.loading?"Resetting...":"Reset Password"})]}):null,i===3?r.jsxs("div",{className:"space-y-3",children:[r.jsx("p",{className:"text-sm text-success",children:c.otpHint}),r.jsx(j,{to:"/login",className:"block w-full rounded-xl bg-slate-900 px-4 py-3 text-center text-sm font-semibold text-white dark:bg-white dark:text-slate-900",children:"Back to Login"})]}):null,r.jsxs("p",{className:"mt-4 text-xs text-slate-500",children:["Back to"," ",r.jsx(j,{to:"/login",className:"font-semibold hover:text-brand-500",children:"Login"})]})]})})}async function Yp(){const e=await q("/homeowner/visits");return Array.isArray(e==null?void 0:e.data)?e.data:[]}async function $a(){var s;const e=await q("/homeowner/settings"),t=(e==null?void 0:e.data)??null;return{managedByEstate:!!(t!=null&&t.managedByEstate),estateId:(t==null?void 0:t.estateId)??null,estateName:(t==null?void 0:t.estateName)??null,estateOwnerId:((s=t==null?void 0:t.subscription)==null?void 0:s.subscriptionOwnerId)??null}}async function nc(){const e=await q("/homeowner/messages");return Array.isArray(e==null?void 0:e.data)?e.data:[]}async function Jp(e){const t=await q(`/homeowner/messages/${e}`);return Array.isArray(t==null?void 0:t.data)?t.data:[]}async function Kp(e,t){const s=await q(`/homeowner/messages/${e}`,{method:"POST",body:JSON.stringify({text:t})});return(s==null?void 0:s.data)??null}async function Gp(e,t){const s=await q(`/homeowner/messages/${e}/${t}`,{method:"DELETE"});return(s==null?void 0:s.data)??null}async function Xp(e){const t=await q(`/homeowner/visits/${e}/end`,{method:"POST"});return(t==null?void 0:t.data)??null}async function Zp(){const e=await q("/homeowner/doors"),t=e==null?void 0:e.data;return Array.isArray(t)?{doors:t,subscription:null}:{doors:Array.isArray(t==null?void 0:t.doors)?t.doors:[],subscription:(t==null?void 0:t.subscription)??null}}async function eg(e){const t=await q("/homeowner/doors",{method:"POST",body:JSON.stringify(e)});return(t==null?void 0:t.data)??null}async function tg(e,t){const s=await q(`/homeowner/visits/${e}/decision`,{method:"POST",body:JSON.stringify({action:t})});return(s==null?void 0:s.data)??null}async function sg(e){const t=await q(`/visitor/sessions/${e}`);return(t==null?void 0:t.data)??null}async function rg(e){const t=await q(`/visitor/sessions/${e}/messages`);return Array.isArray(t==null?void 0:t.data)?t.data:[]}async function sh(){const e=await q("/notifications/");return Array.isArray(e==null?void 0:e.data)?e.data:[]}async function ng(e){const t=await q("/notifications/push-subscriptions",{method:"POST",body:JSON.stringify(e)});return(t==null?void 0:t.data)??null}async function rh(e){const t=await q(`/notifications/${e}/read`,{method:"POST"});return typeof window<"u"&&window.dispatchEvent(new Event("qring:notifications-updated")),(t==null?void 0:t.data)??null}async function ag(){const e=await q("/notifications/read-all",{method:"POST"});return typeof window<"u"&&window.dispatchEvent(new Event("qring:notifications-updated")),(e==null?void 0:e.data)??null}async function lg(){return typeof window>"u"||typeof window.Notification>"u"?"unsupported":window.Notification.permission==="granted"?"granted":window.Notification.requestPermission()}function og(e){if(e&&typeof e=="object")return e;if(typeof e=="string")try{return JSON.parse(e)}catch{return{}}return{}}async function ig(e){if(!e)return;const s=(await sh()).filter(n=>!(n!=null&&n.readAt)&&(n==null?void 0:n.kind)==="visitor.request").filter(n=>{var a;return((a=og(n==null?void 0:n.payload))==null?void 0:a.sessionId)===e}).map(n=>n.id).filter(Boolean);await Promise.all(s.map(n=>rh(n))),typeof window<"u"&&window.dispatchEvent(new Event("qring:notifications-updated"))}const dg={homeowner:[{to:"/dashboard/homeowner/overview",label:"Overview",icon:"overview"},{to:"/dashboard/homeowner/visits",label:"Visits",icon:"visits"},{to:"/dashboard/homeowner/messages",label:"Messages",icon:"messages"},{to:"/dashboard/homeowner/doors",label:"Doors",icon:"doors"},{to:"/billing/paywall",label:"Billing",icon:"billing"},{to:"/dashboard/homeowner/settings",label:"Settings",icon:"settings"}],estate:[{to:"/dashboard/estate",label:"Overview",icon:"estate"},{to:"/dashboard/estate/create",label:"Create Estate",icon:"estate_create"},{to:"/dashboard/estate/doors",label:"Add Doors",icon:"doors"},{to:"/dashboard/estate/assign",label:"Assign Doors",icon:"assign"},{to:"/dashboard/estate/invites",label:"Invite Owners",icon:"invite"},{to:"/dashboard/estate/mappings",label:"Mappings",icon:"mappings"},{to:"/dashboard/estate/logs",label:"Access Logs",icon:"logs"},{to:"/dashboard/estate/plan",label:"Plan Rules",icon:"plans"},{to:"/billing/paywall",label:"Billing",icon:"billing"},{to:"/dashboard/estate/homes",label:"Multi-Home",icon:"homes"}],admin:[{to:"/dashboard/admin",label:"System",icon:"system"},{to:"/dashboard/admin/users",label:"Users",icon:"user_admin"},{to:"/dashboard/admin/sessions",label:"Sessions",icon:"sessions"},{to:"/dashboard/admin/payments",label:"Payments",icon:"billing"},{to:"/dashboard/admin/config",label:"Config",icon:"settings"},{to:"/dashboard/admin/audit",label:"Audit",icon:"logs"}]};function ce({title:e,children:t}){const{user:s,logout:n}=Xt(),{isDark:a,toggleTheme:l}=Te(),o=Ge(),[i,d]=u.useState(!1),[c,f]=u.useState(!1),[x,m]=u.useState([]),[y,v]=u.useState(null),[k,S]=u.useState(!1),[g,h]=u.useState(()=>typeof window<"u"&&window.Notification?window.Notification.permission:"unsupported"),[p,b]=u.useState(()=>localStorage.getItem("qring_sound_alerts")!=="false"),[C,P]=u.useState(!0),_=u.useRef(null),N=u.useRef(null),T=u.useRef([]),A=u.useRef(!1),I=u.useRef(new Set),Q=u.useMemo(()=>(s==null?void 0:s.role)==="homeowner"&&(!!(y!=null&&y.managedByEstate)||typeof(s==null?void 0:s.email)=="string"&&s.email.toLowerCase().endsWith("@estate.useqring.online")),[s==null?void 0:s.role,s==null?void 0:s.email,y]),W=u.useMemo(()=>{const w=dg[s==null?void 0:s.role]??[];return(s==null?void 0:s.role)==="homeowner"&&(k||Q)?w.filter($=>$.to!=="/billing/paywall"):w},[s==null?void 0:s.role,Q,k]),pe=u.useMemo(()=>W.find(w=>w.to.endsWith("/settings"))??null,[W]),he=u.useMemo(()=>{if((s==null?void 0:s.role)==="homeowner"){const w=["/dashboard/homeowner/overview","/dashboard/homeowner/visits","/dashboard/homeowner/messages"],$=Q?"/dashboard/homeowner/settings":"/billing/paywall";return[...w,$].map(E=>W.find(R=>R.to===E)).filter(Boolean)}return W.filter(w=>!w.to.endsWith("/settings")).slice(0,4)},[W,s==null?void 0:s.role,Q]);u.useEffect(()=>{let w=!0;async function $(){if((s==null?void 0:s.role)!=="homeowner"){v(null),S(!1);return}S(!0);try{const U=await $a();if(!w)return;v(U)}catch{if(!w)return;v(null)}finally{w&&S(!1)}}return $(),()=>{w=!1}},[s==null?void 0:s.role]),u.useEffect(()=>{let w=!0,$=!1;async function U(){if($)return;if(!localStorage.getItem("qring_access_token")){m([]);return}try{const Z=await sh();if(!w)return;m(Z)}catch(Z){if(!w)return;(Z==null?void 0:Z.status)===401&&($=!0),m([])}}U();const E=setInterval(U,2e4),R=()=>U();return window.addEventListener("qring:notifications-updated",R),()=>{w=!1,clearInterval(E),window.removeEventListener("qring:notifications-updated",R)}},[]),u.useEffect(()=>{const w=U=>{U.key==="qring_sound_alerts"&&b(U.newValue!=="false")},$=()=>{b(localStorage.getItem("qring_sound_alerts")!=="false")};return window.addEventListener("storage",w),window.addEventListener("qring:sound-alerts-updated",$),()=>{window.removeEventListener("storage",w),window.removeEventListener("qring:sound-alerts-updated",$)}},[]);const L=u.useMemo(()=>x.map(w=>{let $=w.payload;if(typeof $=="string")try{$=JSON.parse($)}catch{$={message:w.payload}}return{...w,payload:$&&typeof $=="object"?$:{}}}),[x]),H=u.useMemo(()=>L.filter(w=>!w.readAt).length,[L]),M=u.useMemo(()=>L.filter(w=>!w.readAt&&w.kind==="visitor.request").map(w=>w.id),[L]);u.useEffect(()=>{if(!A.current){T.current=M,A.current=!0;return}const w=T.current;M.some(U=>!w.includes(U))&&P(!1),T.current=M},[M]),u.useEffect(()=>{function w(){N.current&&(clearInterval(N.current),N.current=null)}function $(){if(typeof window>"u")return;const U=window.AudioContext||window.webkitAudioContext;if(!U)return;_.current||(_.current=new U);const E=_.current;E.state==="suspended"&&E.resume().catch(()=>{});const R=E.createGain();R.gain.setValueAtTime(1e-4,E.currentTime),R.connect(E.destination),[880,660].forEach((Z,Ae)=>{const Et=E.currentTime+Ae*.2,Xr=Et+.16,Xs=E.createOscillator();Xs.type="sine",Xs.frequency.setValueAtTime(Z,Et),Xs.connect(R),R.gain.exponentialRampToValueAtTime(.07,Et+.02),R.gain.exponentialRampToValueAtTime(1e-4,Xr),Xs.start(Et),Xs.stop(Xr)})}if(p&&M.length>0&&!C){$(),N.current||(N.current=setInterval($,1800));return}return w(),w},[p,M,C]),u.useEffect(()=>{typeof window>"u"||typeof window.Notification>"u"||window.Notification.permission==="granted"&&L.forEach(w=>{var E;if(w.readAt||I.current.has(w.id))return;I.current.add(w.id);const $=((E=w.payload)==null?void 0:E.message)??"You have a new alert",U=new window.Notification("Qring Alert",{body:$});U.onclick=()=>{window.focus(),D(w)}})},[L]),u.useEffect(()=>()=>{var w,$;N.current&&clearInterval(N.current),($=(w=_.current)==null?void 0:w.close)==null||$.call(w).catch(()=>{}),_.current=null},[]);async function D(w){if(P(!0),w!=null&&w.id&&!(w!=null&&w.readAt))try{await rh(w.id),m(U=>U.map(E=>E.id===w.id?{...E,readAt:E.readAt||new Date().toISOString()}:E))}catch{}((w==null?void 0:w.kind)??"").startsWith("visitor.")?o("/dashboard/homeowner/visits"):o((s==null?void 0:s.role)==="estate"?"/dashboard/estate":"/dashboard/homeowner/overview"),f(!1)}async function z(){P(!0);try{await ag(),m(w=>w.map($=>({...$,readAt:$.readAt||new Date().toISOString()})))}catch{}}async function Y(){const w=await lg();if(h(w),w==="granted")try{await ng({endpoint:"browser-notification",keys:{ua:navigator.userAgent}})}catch{}}return r.jsxs("div",{className:"min-h-screen bg-slate-100 text-slate-900 dark:bg-slate-950 dark:text-slate-100",children:[r.jsx("div",{className:"pointer-events-none fixed inset-0 -z-10 bg-[radial-gradient(circle_at_top_right,_rgba(36,86,245,0.16),_transparent_40%),radial-gradient(circle_at_bottom_left,_rgba(20,184,166,0.12),_transparent_35%)]"}),r.jsxs("div",{className:"flex min-h-screen",children:[i?r.jsx("button",{type:"button","aria-label":"Close navigation",className:"fixed inset-0 z-30 bg-slate-950/35 lg:hidden",onClick:()=>d(!1)}):null,r.jsxs("aside",{className:`fixed inset-y-0 left-0 z-40 w-72 transform border-r border-slate-200/70 bg-white/90 p-6 backdrop-blur transition-transform duration-300 dark:border-slate-800 dark:bg-slate-900/95 lg:static lg:translate-x-0 ${i?"translate-x-0":"-translate-x-full"}`,children:[r.jsxs("div",{className:"mb-8 flex items-center gap-3",children:[r.jsx("div",{className:"grid h-10 w-16 place-items-center rounded-xl  text-xs font-bold text-white shadow-soft",children:r.jsx(Ce,{tone:"dark",className:"h-18 w-46"})}),r.jsxs("div",{children:[r.jsx(j,{to:"/",className:"block font-heading text-2xl font-bold text-brand-500",children:"Qring"}),r.jsx("p",{className:"text-xs text-slate-500",children:"Smart Access Communication"})]})]}),r.jsx("nav",{className:"space-y-2",children:W.map(w=>r.jsxs(ya,{to:w.to,className:({isActive:$})=>`group relative flex items-center gap-3 rounded-xl border px-4 py-3 text-sm font-semibold transition-all ${$?"border-brand-500 bg-brand-500 text-white shadow-soft":"border-transparent text-slate-700 hover:border-slate-200 hover:bg-slate-100 dark:text-slate-200 dark:hover:border-slate-700 dark:hover:bg-slate-800"}`,children:[r.jsx("span",{className:"grid h-7 w-7 place-items-center rounded-lg border border-white/25 bg-white/20",children:r.jsx(ac,{name:w.icon})}),r.jsx("span",{className:"flex-1",children:w.label})]},w.to))}),r.jsxs("div",{className:"mt-8 rounded-2xl bg-slate-100 p-4 dark:bg-slate-800",children:[r.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Live Status"}),r.jsx("p",{className:"mt-2 text-sm font-semibold",children:"Realtime services operational"}),r.jsxs("div",{className:"mt-3 inline-flex items-center gap-2 rounded-lg bg-success/15 px-2 py-1 text-xs font-semibold text-success",children:[r.jsx("span",{className:"h-2 w-2 rounded-full bg-success"}),"Connected"]})]})]}),r.jsxs("main",{className:"flex-1 p-3 pb-24 sm:p-4 sm:pb-24 lg:p-8 lg:pb-8",children:[r.jsxs("header",{className:"sticky top-3 z-30 mb-4 flex items-center justify-between rounded-2xl border border-slate-200 bg-white/80 p-3 shadow-soft backdrop-blur dark:border-slate-800 dark:bg-slate-900/70 sm:mb-6 sm:p-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("button",{type:"button",className:"rounded-lg border border-slate-300 px-3 py-2 text-xs font-semibold dark:border-slate-700 lg:hidden",onClick:()=>d(w=>!w),children:"MENU"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Dashboard"}),r.jsx("h1",{className:"font-heading text-xs font-bold lg:text-2xl",children:e})]})]}),r.jsxs("div",{className:"relative flex items-center gap-4 sm:gap-3",children:[r.jsxs("button",{type:"button",onClick:()=>f(w=>!w),className:"relative rounded-lg border border-slate-300 p-2 text-xs font-semibold dark:border-slate-700","aria-label":"Notifications",children:[r.jsx(ug,{}),H>0?r.jsx("span",{className:"absolute -right-1 -top-1 min-w-4 rounded-full bg-danger px-1 text-[10px] font-bold text-white",children:H}):null]}),c?r.jsxs("div",{className:"absolute right-0 top-12 z-50 w-[min(20rem,calc(100vw-2rem))] rounded-2xl border border-slate-200 bg-white p-3 shadow-soft dark:border-slate-800 dark:bg-slate-900",children:[r.jsxs("div",{className:"flex items-center justify-between px-2 pb-2",children:[r.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Notifications"}),r.jsxs("div",{className:"flex items-center gap-2",children:[g!=="granted"&&g!=="unsupported"?r.jsx("button",{type:"button",onClick:Y,className:"rounded-md border border-brand-300 px-2 py-1 text-[10px] font-semibold text-brand-700 dark:border-brand-500/50 dark:text-brand-200",children:"Enable Alerts"}):null,r.jsx("button",{type:"button",onClick:z,className:"rounded-md border border-slate-300 px-2 py-1 text-[10px] font-semibold dark:border-slate-700",children:"Clear"})]})]}),r.jsx("div",{className:"max-h-80 space-y-2 overflow-y-auto",children:L.length===0?r.jsx("div",{className:"rounded-xl bg-slate-100 p-3 text-xs text-slate-500 dark:bg-slate-800",children:"No notifications yet."}):L.map(w=>{var $;return r.jsxs("button",{type:"button",onClick:()=>D(w),className:`block w-full rounded-xl border p-3 text-left transition hover:bg-slate-50 dark:hover:bg-slate-800 ${w.readAt?"border-slate-200 dark:border-slate-700":"border-brand-300 bg-brand-50/60 dark:border-brand-500/50 dark:bg-brand-500/10"}`,children:[r.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:w.kind}),r.jsx("p",{className:"mt-1 text-sm font-medium",children:(($=w.payload)==null?void 0:$.message)??"New activity"}),r.jsx("p",{className:"mt-1 text-[11px] text-slate-500",children:cg(w.createdAt)})]},w.id)})})]}):null,r.jsx("button",{type:"button",onClick:l,className:"hidden rounded-lg border border-slate-300 px-3 py-2 text-xs font-semibold dark:border-slate-700 sm:inline-flex",children:a?"LIGHT":"DARK"}),pe?r.jsx(j,{to:pe.to,className:"rounded-lg border border-slate-300 p-2 text-xs font-semibold dark:border-slate-700","aria-label":"Settings",title:"Settings",children:r.jsx(hg,{})}):null,r.jsx("span",{className:"hidden rounded-lg bg-brand-100 px-3 py-2 text-xs font-semibold text-brand-700 dark:bg-brand-500/20 dark:text-brand-100 sm:inline-flex",children:(s==null?void 0:s.role)??"guest"}),r.jsxs("div",{className:"hidden items-center gap-2 rounded-xl border border-slate-300 px-3 py-2 md:flex dark:border-slate-700",children:[r.jsx("div",{className:"grid h-7 w-7 place-items-center rounded-lg bg-brand-100 dark:bg-brand-500/30",children:r.jsx(mg,{})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-semibold",children:(s==null?void 0:s.fullName)??"Qring User"}),r.jsx("p",{className:"text-[10px] text-slate-500",children:(s==null?void 0:s.email)??"user@useqring.online"})]})]}),r.jsx("button",{type:"button",onClick:n,className:"rounded-lg border border-slate-300 p-2 text-xs font-semibold dark:border-slate-700","aria-label":"Logout",title:"Logout",children:r.jsx(fg,{})})]})]}),t]})]}),he.length>0?r.jsx("nav",{className:"fixed inset-x-0 bottom-0 z-40 border-t border-slate-200 bg-white/95 px-2 py-2 backdrop-blur dark:border-slate-800 dark:bg-slate-900/95 lg:hidden",children:r.jsx("div",{className:"flex gap-1 overflow-x-auto pb-1",children:he.map(w=>r.jsxs(ya,{to:w.to,className:({isActive:$})=>`flex min-w-[76px] flex-col items-center justify-center rounded-xl px-2 py-2 text-[11px] font-semibold transition ${$?"bg-brand-500 text-white":"text-slate-600 hover:bg-slate-100 dark:text-slate-300 dark:hover:bg-slate-800"}`,children:[r.jsx("span",{className:"mb-1",children:r.jsx(ac,{name:w.icon})}),r.jsx("span",{className:"leading-none",children:w.label})]},`mobile-${w.to}`))})}):null]})}function cg(e){if(!e)return"";const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleString()}function ug(){return r.jsxs("svg",{viewBox:"0 0 24 24",className:"h-4 w-4",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("path",{d:"M15 17h5l-1.4-1.4A2 2 0 0 1 18 14.2V11a6 6 0 1 0-12 0v3.2a2 2 0 0 1-.6 1.4L4 17h5"}),r.jsx("path",{d:"M9 17a3 3 0 0 0 6 0"})]})}function mg(){return r.jsxs("svg",{viewBox:"0 0 24 24",className:"h-4 w-4",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("circle",{cx:"12",cy:"8",r:"4"}),r.jsx("path",{d:"M4 21a8 8 0 0 1 16 0"})]})}function hg(){return r.jsxs("svg",{viewBox:"0 0 24 24",className:"h-4 w-4",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("circle",{cx:"12",cy:"12",r:"3"}),r.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 1 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 1 1-4 0v-.09a1.65 1.65 0 0 0-1-1.51 1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 1 1-2.83-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 1 1 0-4h.09a1.65 1.65 0 0 0 1.51-1 1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 1 1 2.83-2.83l.06.06a1.65 1.65 0 0 0 1.82.33h0A1.65 1.65 0 0 0 9.93 3.1V3a2 2 0 1 1 4 0v.09a1.65 1.65 0 0 0 1 1.51h0a1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 1 1 2.83 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82v0a1.65 1.65 0 0 0 1.51 1H21a2 2 0 1 1 0 4h-.09a1.65 1.65 0 0 0-1.51 1z"})]})}function fg(){return r.jsxs("svg",{viewBox:"0 0 24 24",className:"h-4 w-4",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),r.jsx("path",{d:"M16 17l5-5-5-5"}),r.jsx("path",{d:"M21 12H9"})]})}function ac({name:e}){const t={overview:r.jsx("path",{d:"M3 3h8v8H3zM13 3h8v5h-8zM13 10h8v11h-8zM3 13h8v8H3z"}),visits:r.jsx("path",{d:"M4 5h16M4 12h16M4 19h10"}),messages:r.jsx("path",{d:"M4 5h16v10H7l-3 3z"}),doors:r.jsx("path",{d:"M7 3h10v18H7zM10 12h.01"}),billing:r.jsx("path",{d:"M3 7h18v10H3zM3 11h18"}),estate:r.jsx("path",{d:"M3 21h18M5 21V9l7-5 7 5v12"}),estate_create:r.jsx("path",{d:"M12 5v14M5 12h14"}),homes:r.jsx("path",{d:"M3 11l9-7 9 7M5 10v11h14V10"}),invite:r.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2M16 3h5v5M21 3l-7 7"}),assign:r.jsx("path",{d:"M4 12h10M10 6l6 6-6 6M19 5v14"}),mappings:r.jsx("path",{d:"M3 5h6v6H3zM15 5h6v6h-6zM9 8h6M3 17h6v6H3zM15 17h6v6h-6zM9 20h6"}),logs:r.jsx("path",{d:"M5 3h14v18H5zM8 8h8M8 12h8M8 16h5"}),system:r.jsx("path",{d:"M12 1v4M12 19v4M4.9 4.9l2.8 2.8M16.3 16.3l2.8 2.8M1 12h4M19 12h4M4.9 19.1l2.8-2.8M16.3 7.7l2.8-2.8"}),plans:r.jsx("path",{d:"M4 20V8l8-4 8 4v12M4 12h16"}),user_admin:r.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2M9 11a4 4 0 1 0 0-8 4 4 0 0 0 0 8zm10 0v-2m0 0V7m0 2h-2m2 0h2"}),sessions:r.jsx("path",{d:"M8 7h13M8 12h13M8 17h13M3 7h.01M3 12h.01M3 17h.01"}),settings:r.jsx("path",{d:"M12 8.5A3.5 3.5 0 1 1 8.5 12 3.5 3.5 0 0 1 12 8.5zm0-6 1.2 2.4 2.7.4.4 2.7L18.8 9l-1.5 2.3 1.5 2.3-2.5 1.2-.4 2.7-2.7.4L12 21.5l-1.2-2.4-2.7-.4-.4-2.7L5.2 13.6 6.7 11.3 5.2 9l2.5-1.2.4-2.7 2.7-.4z"})};return r.jsx("svg",{viewBox:"0 0 24 24",className:"h-4 w-4",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:t[e]??r.jsx("circle",{cx:"12",cy:"12",r:"9"})})}const nh={activeVisitors:0,pendingApprovals:0,callsToday:0,unreadMessages:0},lc={metrics:nh,activity:[],waitingRoom:[],session:null,messages:[],traffic:[],callControls:{canAudio:!1,canVideo:!1,canMute:!1,canEnd:!1}};function va(e){return!e||typeof e!="object"?lc:{metrics:{...nh,...e.metrics??{}},activity:Array.isArray(e.activity)?e.activity:[],waitingRoom:Array.isArray(e.waitingRoom)?e.waitingRoom:[],session:e.session??null,messages:Array.isArray(e.messages)?e.messages:[],traffic:Array.isArray(e.traffic)?e.traffic:[],callControls:{...lc.callControls,...e.callControls??{}}}}async function xg(){const e=await q("/dashboard/overview");return va((e==null?void 0:e.data)??e)}const ht=Object.create(null);ht.open="0";ht.close="1";ht.ping="2";ht.pong="3";ht.message="4";ht.upgrade="5";ht.noop="6";const qn=Object.create(null);Object.keys(ht).forEach(e=>{qn[ht[e]]=e});const Po={type:"error",data:"parser error"},ah=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",lh=typeof ArrayBuffer=="function",oh=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,Ti=({type:e,data:t},s,n)=>ah&&t instanceof Blob?s?n(t):oc(t,n):lh&&(t instanceof ArrayBuffer||oh(t))?s?n(t):oc(new Blob([t]),n):n(ht[e]+(t||"")),oc=(e,t)=>{const s=new FileReader;return s.onload=function(){const n=s.result.split(",")[1];t("b"+(n||""))},s.readAsDataURL(e)};function ic(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let wl;function pg(e,t){if(ah&&e.data instanceof Blob)return e.data.arrayBuffer().then(ic).then(t);if(lh&&(e.data instanceof ArrayBuffer||oh(e.data)))return t(ic(e.data));Ti(e,!1,s=>{wl||(wl=new TextEncoder),t(wl.encode(s))})}const dc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",pr=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<dc.length;e++)pr[dc.charCodeAt(e)]=e;const gg=e=>{let t=e.length*.75,s=e.length,n,a=0,l,o,i,d;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const c=new ArrayBuffer(t),f=new Uint8Array(c);for(n=0;n<s;n+=4)l=pr[e.charCodeAt(n)],o=pr[e.charCodeAt(n+1)],i=pr[e.charCodeAt(n+2)],d=pr[e.charCodeAt(n+3)],f[a++]=l<<2|o>>4,f[a++]=(o&15)<<4|i>>2,f[a++]=(i&3)<<6|d&63;return c},bg=typeof ArrayBuffer=="function",Ai=(e,t)=>{if(typeof e!="string")return{type:"message",data:ih(e,t)};const s=e.charAt(0);return s==="b"?{type:"message",data:yg(e.substring(1),t)}:qn[s]?e.length>1?{type:qn[s],data:e.substring(1)}:{type:qn[s]}:Po},yg=(e,t)=>{if(bg){const s=gg(e);return ih(s,t)}else return{base64:!0,data:e}},ih=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},dh="",vg=(e,t)=>{const s=e.length,n=new Array(s);let a=0;e.forEach((l,o)=>{Ti(l,!1,i=>{n[o]=i,++a===s&&t(n.join(dh))})})},kg=(e,t)=>{const s=e.split(dh),n=[];for(let a=0;a<s.length;a++){const l=Ai(s[a],t);if(n.push(l),l.type==="error")break}return n};function wg(){return new TransformStream({transform(e,t){pg(e,s=>{const n=s.length;let a;if(n<126)a=new Uint8Array(1),new DataView(a.buffer).setUint8(0,n);else if(n<65536){a=new Uint8Array(3);const l=new DataView(a.buffer);l.setUint8(0,126),l.setUint16(1,n)}else{a=new Uint8Array(9);const l=new DataView(a.buffer);l.setUint8(0,127),l.setBigUint64(1,BigInt(n))}e.data&&typeof e.data!="string"&&(a[0]|=128),t.enqueue(a),t.enqueue(s)})}})}let jl;function kn(e){return e.reduce((t,s)=>t+s.length,0)}function wn(e,t){if(e[0].length===t)return e.shift();const s=new Uint8Array(t);let n=0;for(let a=0;a<t;a++)s[a]=e[0][n++],n===e[0].length&&(e.shift(),n=0);return e.length&&n<e[0].length&&(e[0]=e[0].slice(n)),s}function jg(e,t){jl||(jl=new TextDecoder);const s=[];let n=0,a=-1,l=!1;return new TransformStream({transform(o,i){for(s.push(o);;){if(n===0){if(kn(s)<1)break;const d=wn(s,1);l=(d[0]&128)===128,a=d[0]&127,a<126?n=3:a===126?n=1:n=2}else if(n===1){if(kn(s)<2)break;const d=wn(s,2);a=new DataView(d.buffer,d.byteOffset,d.length).getUint16(0),n=3}else if(n===2){if(kn(s)<8)break;const d=wn(s,8),c=new DataView(d.buffer,d.byteOffset,d.length),f=c.getUint32(0);if(f>Math.pow(2,21)-1){i.enqueue(Po);break}a=f*Math.pow(2,32)+c.getUint32(4),n=3}else{if(kn(s)<a)break;const d=wn(s,a);i.enqueue(Ai(l?d:jl.decode(d),t)),n=0}if(a===0||a>e){i.enqueue(Po);break}}}})}const ch=4;function me(e){if(e)return Ng(e)}function Ng(e){for(var t in me.prototype)e[t]=me.prototype[t];return e}me.prototype.on=me.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};me.prototype.once=function(e,t){function s(){this.off(e,s),t.apply(this,arguments)}return s.fn=t,this.on(e,s),this};me.prototype.off=me.prototype.removeListener=me.prototype.removeAllListeners=me.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var s=this._callbacks["$"+e];if(!s)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var n,a=0;a<s.length;a++)if(n=s[a],n===t||n.fn===t){s.splice(a,1);break}return s.length===0&&delete this._callbacks["$"+e],this};me.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),s=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(s){s=s.slice(0);for(var n=0,a=s.length;n<a;++n)s[n].apply(this,t)}return this};me.prototype.emitReserved=me.prototype.emit;me.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};me.prototype.hasListeners=function(e){return!!this.listeners(e).length};const Fa=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,s)=>s(t,0),Ve=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),Sg="arraybuffer";function uh(e,...t){return t.reduce((s,n)=>(e.hasOwnProperty(n)&&(s[n]=e[n]),s),{})}const Cg=Ve.setTimeout,Eg=Ve.clearTimeout;function qa(e,t){t.useNativeTimers?(e.setTimeoutFn=Cg.bind(Ve),e.clearTimeoutFn=Eg.bind(Ve)):(e.setTimeoutFn=Ve.setTimeout.bind(Ve),e.clearTimeoutFn=Ve.clearTimeout.bind(Ve))}const Pg=1.33;function _g(e){return typeof e=="string"?Rg(e):Math.ceil((e.byteLength||e.size)*Pg)}function Rg(e){let t=0,s=0;for(let n=0,a=e.length;n<a;n++)t=e.charCodeAt(n),t<128?s+=1:t<2048?s+=2:t<55296||t>=57344?s+=3:(n++,s+=4);return s}function mh(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function Tg(e){let t="";for(let s in e)e.hasOwnProperty(s)&&(t.length&&(t+="&"),t+=encodeURIComponent(s)+"="+encodeURIComponent(e[s]));return t}function Ag(e){let t={},s=e.split("&");for(let n=0,a=s.length;n<a;n++){let l=s[n].split("=");t[decodeURIComponent(l[0])]=decodeURIComponent(l[1])}return t}class Lg extends Error{constructor(t,s,n){super(t),this.description=s,this.context=n,this.type="TransportError"}}class Li extends me{constructor(t){super(),this.writable=!1,qa(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,s,n){return super.emitReserved("error",new Lg(t,s,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const s=Ai(t,this.socket.binaryType);this.onPacket(s)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,s={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(s)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(this.opts.port)!==443||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const s=Tg(t);return s.length?"?"+s:""}}class Og extends Li{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const s=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||s()})),this.writable||(n++,this.once("drain",function(){--n||s()}))}else s()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const s=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};kg(t,this.socket.binaryType).forEach(s),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,vg(t,s=>{this.doWrite(s,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",s=this.query||{};return this.opts.timestampRequests!==!1&&(s[this.opts.timestampParam]=mh()),!this.supportsBinary&&!s.sid&&(s.b64=1),this.createUri(t,s)}}let hh=!1;try{hh=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Mg=hh;function Dg(){}class Ig extends Og{constructor(t){if(super(t),typeof location<"u"){const s=location.protocol==="https:";let n=location.port;n||(n=s?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||n!==t.port}}doWrite(t,s){const n=this.request({method:"POST",data:t});n.on("success",s),n.on("error",(a,l)=>{this.onError("xhr post error",a,l)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(s,n)=>{this.onError("xhr poll error",s,n)}),this.pollXhr=t}}class mt extends me{constructor(t,s,n){super(),this.createRequest=t,qa(this,n),this._opts=n,this._method=n.method||"GET",this._uri=s,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var t;const s=uh(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");s.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(s);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let a in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(a)&&n.setRequestHeader(a,this._opts.extraHeaders[a])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var a;n.readyState===3&&((a=this._opts.cookieJar)===null||a===void 0||a.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(a){this.setTimeoutFn(()=>{this._onError(a)},0);return}typeof document<"u"&&(this._index=mt.requestsCount++,mt.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=Dg,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete mt.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}mt.requestsCount=0;mt.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",cc);else if(typeof addEventListener=="function"){const e="onpagehide"in Ve?"pagehide":"unload";addEventListener(e,cc,!1)}}function cc(){for(let e in mt.requests)mt.requests.hasOwnProperty(e)&&mt.requests[e].abort()}const Bg=function(){const e=fh({xdomain:!1});return e&&e.responseType!==null}();class zg extends Ig{constructor(t){super(t);const s=t&&t.forceBase64;this.supportsBinary=Bg&&!s}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new mt(fh,this.uri(),t)}}function fh(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||Mg))return new XMLHttpRequest}catch{}if(!t)try{return new Ve[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const xh=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Ug extends Li{get name(){return"websocket"}doOpen(){const t=this.uri(),s=this.opts.protocols,n=xh?{}:uh(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,s,n)}catch(a){return this.emitReserved("error",a)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let s=0;s<t.length;s++){const n=t[s],a=s===t.length-1;Ti(n,this.supportsBinary,l=>{try{this.doWrite(n,l)}catch{}a&&Fa(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",s=this.query||{};return this.opts.timestampRequests&&(s[this.opts.timestampParam]=mh()),this.supportsBinary||(s.b64=1),this.createUri(t,s)}}const Nl=Ve.WebSocket||Ve.MozWebSocket;class $g extends Ug{createSocket(t,s,n){return xh?new Nl(t,s,n):s?new Nl(t,s):new Nl(t)}doWrite(t,s){this.ws.send(s)}}class Fg extends Li{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const s=jg(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=t.readable.pipeThrough(s).getReader(),a=wg();a.readable.pipeTo(t.writable),this._writer=a.writable.getWriter();const l=()=>{n.read().then(({done:i,value:d})=>{i||(this.onPacket(d),l())}).catch(i=>{})};l();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let s=0;s<t.length;s++){const n=t[s],a=s===t.length-1;this._writer.write(n).then(()=>{a&&Fa(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const qg={websocket:$g,webtransport:Fg,polling:zg},Qg=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Hg=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function _o(e){if(e.length>8e3)throw"URI too long";const t=e,s=e.indexOf("["),n=e.indexOf("]");s!=-1&&n!=-1&&(e=e.substring(0,s)+e.substring(s,n).replace(/:/g,";")+e.substring(n,e.length));let a=Qg.exec(e||""),l={},o=14;for(;o--;)l[Hg[o]]=a[o]||"";return s!=-1&&n!=-1&&(l.source=t,l.host=l.host.substring(1,l.host.length-1).replace(/;/g,":"),l.authority=l.authority.replace("[","").replace("]","").replace(/;/g,":"),l.ipv6uri=!0),l.pathNames=Vg(l,l.path),l.queryKey=Wg(l,l.query),l}function Vg(e,t){const s=/\/{2,9}/g,n=t.replace(s,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&n.splice(0,1),t.slice(-1)=="/"&&n.splice(n.length-1,1),n}function Wg(e,t){const s={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,a,l){a&&(s[a]=l)}),s}const Ro=typeof addEventListener=="function"&&typeof removeEventListener=="function",Qn=[];Ro&&addEventListener("offline",()=>{Qn.forEach(e=>e())},!1);class Vt extends me{constructor(t,s){if(super(),this.binaryType=Sg,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(s=t,t=null),t){const n=_o(t);s.hostname=n.host,s.secure=n.protocol==="https"||n.protocol==="wss",s.port=n.port,n.query&&(s.query=n.query)}else s.host&&(s.hostname=_o(s.host).host);qa(this,s),this.secure=s.secure!=null?s.secure:typeof location<"u"&&location.protocol==="https:",s.hostname&&!s.port&&(s.port=this.secure?"443":"80"),this.hostname=s.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=s.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},s.transports.forEach(n=>{const a=n.prototype.name;this.transports.push(a),this._transportsByName[a]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},s),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Ag(this.opts.query)),Ro&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Qn.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const s=Object.assign({},this.opts.query);s.EIO=ch,s.transport=t,this.id&&(s.sid=this.id);const n=Object.assign({},this.opts,{query:s,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&Vt.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const s=this.createTransport(t);s.open(),this.setTransport(s)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",s=>this._onClose("transport close",s))}onOpen(){this.readyState="open",Vt.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const s=new Error("server error");s.code=t.data,this._onError(s);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let s=1;for(let n=0;n<this.writeBuffer.length;n++){const a=this.writeBuffer[n].data;if(a&&(s+=_g(a)),n>0&&s>this._maxPayload)return this.writeBuffer.slice(0,n);s+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,Fa(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,s,n){return this._sendPacket("message",t,s,n),this}send(t,s,n){return this._sendPacket("message",t,s,n),this}_sendPacket(t,s,n,a){if(typeof s=="function"&&(a=s,s=void 0),typeof n=="function"&&(a=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const l={type:t,data:s,options:n};this.emitReserved("packetCreate",l),this.writeBuffer.push(l),a&&this.once("flush",a),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},s=()=>{this.off("upgrade",s),this.off("upgradeError",s),t()},n=()=>{this.once("upgrade",s),this.once("upgradeError",s)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():t()}):this.upgrading?n():t()),this}_onError(t){if(Vt.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,s){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Ro&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=Qn.indexOf(this._offlineEventListener);n!==-1&&Qn.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,s),this.writeBuffer=[],this._prevBufferLen=0}}}Vt.protocol=ch;class Yg extends Vt{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let s=this.createTransport(t),n=!1;Vt.priorWebsocketSuccess=!1;const a=()=>{n||(s.send([{type:"ping",data:"probe"}]),s.once("packet",x=>{if(!n)if(x.type==="pong"&&x.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",s),!s)return;Vt.priorWebsocketSuccess=s.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(f(),this.setTransport(s),s.send([{type:"upgrade"}]),this.emitReserved("upgrade",s),s=null,this.upgrading=!1,this.flush())})}else{const m=new Error("probe error");m.transport=s.name,this.emitReserved("upgradeError",m)}}))};function l(){n||(n=!0,f(),s.close(),s=null)}const o=x=>{const m=new Error("probe error: "+x);m.transport=s.name,l(),this.emitReserved("upgradeError",m)};function i(){o("transport closed")}function d(){o("socket closed")}function c(x){s&&x.name!==s.name&&l()}const f=()=>{s.removeListener("open",a),s.removeListener("error",o),s.removeListener("close",i),this.off("close",d),this.off("upgrading",c)};s.once("open",a),s.once("error",o),s.once("close",i),this.once("close",d),this.once("upgrading",c),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{n||s.open()},200):s.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const s=[];for(let n=0;n<t.length;n++)~this.transports.indexOf(t[n])&&s.push(t[n]);return s}}let Jg=class extends Yg{constructor(t,s={}){const n=typeof t=="object"?t:s;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(a=>qg[a]).filter(a=>!!a)),super(t,n)}};function Kg(e,t="",s){let n=e;s=s||typeof location<"u"&&location,e==null&&(e=s.protocol+"//"+s.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=s.protocol+e:e=s.host+e),/^(https?|wss?):\/\//.test(e)||(typeof s<"u"?e=s.protocol+"//"+e:e="https://"+e),n=_o(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const l=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+l+":"+n.port+t,n.href=n.protocol+"://"+l+(s&&s.port===n.port?"":":"+n.port),n}const Gg=typeof ArrayBuffer=="function",Xg=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,ph=Object.prototype.toString,Zg=typeof Blob=="function"||typeof Blob<"u"&&ph.call(Blob)==="[object BlobConstructor]",eb=typeof File=="function"||typeof File<"u"&&ph.call(File)==="[object FileConstructor]";function Oi(e){return Gg&&(e instanceof ArrayBuffer||Xg(e))||Zg&&e instanceof Blob||eb&&e instanceof File}function Hn(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let s=0,n=e.length;s<n;s++)if(Hn(e[s]))return!0;return!1}if(Oi(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return Hn(e.toJSON(),!0);for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&Hn(e[s]))return!0;return!1}function tb(e){const t=[],s=e.data,n=e;return n.data=To(s,t),n.attachments=t.length,{packet:n,buffers:t}}function To(e,t){if(!e)return e;if(Oi(e)){const s={_placeholder:!0,num:t.length};return t.push(e),s}else if(Array.isArray(e)){const s=new Array(e.length);for(let n=0;n<e.length;n++)s[n]=To(e[n],t);return s}else if(typeof e=="object"&&!(e instanceof Date)){const s={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(s[n]=To(e[n],t));return s}return e}function sb(e,t){return e.data=Ao(e.data,t),delete e.attachments,e}function Ao(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let s=0;s<e.length;s++)e[s]=Ao(e[s],t);else if(typeof e=="object")for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(e[s]=Ao(e[s],t));return e}const rb=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"];var K;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(K||(K={}));class nb{constructor(t){this.replacer=t}encode(t){return(t.type===K.EVENT||t.type===K.ACK)&&Hn(t)?this.encodeAsBinary({type:t.type===K.EVENT?K.BINARY_EVENT:K.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let s=""+t.type;return(t.type===K.BINARY_EVENT||t.type===K.BINARY_ACK)&&(s+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(s+=t.nsp+","),t.id!=null&&(s+=t.id),t.data!=null&&(s+=JSON.stringify(t.data,this.replacer)),s}encodeAsBinary(t){const s=tb(t),n=this.encodeAsString(s.packet),a=s.buffers;return a.unshift(n),a}}class Mi extends me{constructor(t){super(),this.reviver=t}add(t){let s;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");s=this.decodeString(t);const n=s.type===K.BINARY_EVENT;n||s.type===K.BINARY_ACK?(s.type=n?K.EVENT:K.ACK,this.reconstructor=new ab(s),s.attachments===0&&super.emitReserved("decoded",s)):super.emitReserved("decoded",s)}else if(Oi(t)||t.base64)if(this.reconstructor)s=this.reconstructor.takeBinaryData(t),s&&(this.reconstructor=null,super.emitReserved("decoded",s));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let s=0;const n={type:Number(t.charAt(0))};if(K[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===K.BINARY_EVENT||n.type===K.BINARY_ACK){const l=s+1;for(;t.charAt(++s)!=="-"&&s!=t.length;);const o=t.substring(l,s);if(o!=Number(o)||t.charAt(s)!=="-")throw new Error("Illegal attachments");n.attachments=Number(o)}if(t.charAt(s+1)==="/"){const l=s+1;for(;++s&&!(t.charAt(s)===","||s===t.length););n.nsp=t.substring(l,s)}else n.nsp="/";const a=t.charAt(s+1);if(a!==""&&Number(a)==a){const l=s+1;for(;++s;){const o=t.charAt(s);if(o==null||Number(o)!=o){--s;break}if(s===t.length)break}n.id=Number(t.substring(l,s+1))}if(t.charAt(++s)){const l=this.tryParse(t.substr(s));if(Mi.isPayloadValid(n.type,l))n.data=l;else throw new Error("invalid payload")}return n}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,s){switch(t){case K.CONNECT:return uc(s);case K.DISCONNECT:return s===void 0;case K.CONNECT_ERROR:return typeof s=="string"||uc(s);case K.EVENT:case K.BINARY_EVENT:return Array.isArray(s)&&(typeof s[0]=="number"||typeof s[0]=="string"&&rb.indexOf(s[0])===-1);case K.ACK:case K.BINARY_ACK:return Array.isArray(s)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class ab{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const s=sb(this.reconPack,this.buffers);return this.finishedReconstruction(),s}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function uc(e){return Object.prototype.toString.call(e)==="[object Object]"}const lb=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Mi,Encoder:nb,get PacketType(){return K}},Symbol.toStringTag,{value:"Module"}));function tt(e,t,s){return e.on(t,s),function(){e.off(t,s)}}const ob=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class gh extends me{constructor(t,s,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=s,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[tt(t,"open",this.onopen.bind(this)),tt(t,"packet",this.onpacket.bind(this)),tt(t,"error",this.onerror.bind(this)),tt(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...s){var n,a,l;if(ob.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(s.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(s),this;const o={type:K.EVENT,data:s};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof s[s.length-1]=="function"){const f=this.ids++,x=s.pop();this._registerAckCallback(f,x),o.id=f}const i=(a=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||a===void 0?void 0:a.writable,d=this.connected&&!(!((l=this.io.engine)===null||l===void 0)&&l._hasPingExpired());return this.flags.volatile&&!i||(d?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(t,s){var n;const a=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(a===void 0){this.acks[t]=s;return}const l=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let i=0;i<this.sendBuffer.length;i++)this.sendBuffer[i].id===t&&this.sendBuffer.splice(i,1);s.call(this,new Error("operation has timed out"))},a),o=(...i)=>{this.io.clearTimeoutFn(l),s.apply(this,i)};o.withError=!0,this.acks[t]=o}emitWithAck(t,...s){return new Promise((n,a)=>{const l=(o,i)=>o?a(o):n(i);l.withError=!0,s.push(l),this.emit(t,...s)})}_addToQueue(t){let s;typeof t[t.length-1]=="function"&&(s=t.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((a,...l)=>(this._queue[0],a!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),s&&s(a)):(this._queue.shift(),s&&s(null,...l)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const s=this._queue[0];s.pending&&!t||(s.pending=!0,s.tryCount++,this.flags=s.flags,this.emit.apply(this,s.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:K.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,s){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,s),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(n=>String(n.id)===t)){const n=this.acks[t];delete this.acks[t],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case K.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case K.EVENT:case K.BINARY_EVENT:this.onevent(t);break;case K.ACK:case K.BINARY_ACK:this.onack(t);break;case K.DISCONNECT:this.ondisconnect();break;case K.CONNECT_ERROR:this.destroy();const n=new Error(t.data.message);n.data=t.data.data,this.emitReserved("connect_error",n);break}}onevent(t){const s=t.data||[];t.id!=null&&s.push(this.ack(t.id)),this.connected?this.emitEvent(s):this.receiveBuffer.push(Object.freeze(s))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const s=this._anyListeners.slice();for(const n of s)n.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const s=this;let n=!1;return function(...a){n||(n=!0,s.packet({type:K.ACK,id:t,data:a}))}}onack(t){const s=this.acks[t.id];typeof s=="function"&&(delete this.acks[t.id],s.withError&&t.data.unshift(null),s.apply(this,t.data))}onconnect(t,s){this.id=t,this.recovered=s&&this._pid===s,this._pid=s,this.connected=!0,this.emitBuffered(),this._drainQueue(!0),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:K.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const s=this._anyListeners;for(let n=0;n<s.length;n++)if(t===s[n])return s.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const s=this._anyOutgoingListeners;for(let n=0;n<s.length;n++)if(t===s[n])return s.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const s=this._anyOutgoingListeners.slice();for(const n of s)n.apply(this,t.data)}}}function Ks(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Ks.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),s=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+s:e-s}return Math.min(e,this.max)|0};Ks.prototype.reset=function(){this.attempts=0};Ks.prototype.setMin=function(e){this.ms=e};Ks.prototype.setMax=function(e){this.max=e};Ks.prototype.setJitter=function(e){this.jitter=e};class Lo extends me{constructor(t,s){var n;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(s=t,t=void 0),s=s||{},s.path=s.path||"/socket.io",this.opts=s,qa(this,s),this.reconnection(s.reconnection!==!1),this.reconnectionAttempts(s.reconnectionAttempts||1/0),this.reconnectionDelay(s.reconnectionDelay||1e3),this.reconnectionDelayMax(s.reconnectionDelayMax||5e3),this.randomizationFactor((n=s.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new Ks({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(s.timeout==null?2e4:s.timeout),this._readyState="closed",this.uri=t;const a=s.parser||lb;this.encoder=new a.Encoder,this.decoder=new a.Decoder,this._autoConnect=s.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var s;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(s=this.backoff)===null||s===void 0||s.setMin(t),this)}randomizationFactor(t){var s;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(s=this.backoff)===null||s===void 0||s.setJitter(t),this)}reconnectionDelayMax(t){var s;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(s=this.backoff)===null||s===void 0||s.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new Jg(this.uri,this.opts);const s=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const a=tt(s,"open",function(){n.onopen(),t&&t()}),l=i=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",i),t?t(i):this.maybeReconnectOnOpen()},o=tt(s,"error",l);if(this._timeout!==!1){const i=this._timeout,d=this.setTimeoutFn(()=>{a(),l(new Error("timeout")),s.close()},i);this.opts.autoUnref&&d.unref(),this.subs.push(()=>{this.clearTimeoutFn(d)})}return this.subs.push(a),this.subs.push(o),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(tt(t,"ping",this.onping.bind(this)),tt(t,"data",this.ondata.bind(this)),tt(t,"error",this.onerror.bind(this)),tt(t,"close",this.onclose.bind(this)),tt(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(s){this.onclose("parse error",s)}}ondecoded(t){Fa(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,s){let n=this.nsps[t];return n?this._autoConnect&&!n.active&&n.connect():(n=new gh(this,t,s),this.nsps[t]=n),n}_destroy(t){const s=Object.keys(this.nsps);for(const n of s)if(this.nsps[n].active)return;this._close()}_packet(t){const s=this.encoder.encode(t);for(let n=0;n<s.length;n++)this.engine.write(s[n],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,s){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,s),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const s=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(a=>{a?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",a)):t.onreconnect()}))},s);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const cr={};function Ds(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const s=Kg(e,t.path||"/socket.io"),n=s.source,a=s.id,l=s.path,o=cr[a]&&l in cr[a].nsps,i=t.forceNew||t["force new connection"]||t.multiplex===!1||o;let d;return i?d=new Lo(n,t):(cr[a]||(cr[a]=new Lo(n,t)),d=cr[a]),s.query&&!t.query&&(t.query=s.queryKey),d.socket(s.path,t)}Object.assign(Ds,{Manager:Lo,Socket:gh,io:Ds,connect:Ds});let ns;function ib(){if(!ns){const e=localStorage.getItem("qring_access_token");ns=Ds(`${at.socketUrl}${at.dashboardNamespace}`,{path:at.socketPath,transports:["websocket"],auth:e?{token:e}:void 0,withCredentials:!0})}return ns}function db(){ns&&(ns.removeAllListeners(),ns.disconnect(),ns=void 0)}const cb=va({});function ub(){const[e,t]=u.useState(cb),[s,n]=u.useState(!0),[a,l]=u.useState(""),[o,i]=u.useState(!1),d=u.useCallback(async()=>{n(!0),l("");try{const c=await xg();t(c)}catch(c){l(c.message??"Unable to load dashboard")}finally{n(!1)}},[]);return u.useEffect(()=>{let c=!0;const f=ib(),x=()=>c&&i(!0),m=()=>c&&i(!1),y=S=>{c&&t(va((S==null?void 0:S.data)??S))},v=S=>{c&&t(g=>va({...g,...(S==null?void 0:S.data)??S}))},k=S=>{c&&l((S==null?void 0:S.message)??"Realtime error")};return f.on("connect",x),f.on("disconnect",m),f.on("dashboard.snapshot",y),f.on("dashboard.patch",v),f.on("dashboard.error",k),d(),()=>{c=!1,f.off("connect",x),f.off("disconnect",m),f.off("dashboard.snapshot",y),f.off("dashboard.patch",v),f.off("dashboard.error",k),db()}},[d]),u.useMemo(()=>({...e,loading:s,error:a,connected:o,refresh:d}),[e,s,a,o,d])}function mb(){var f;const[e,t]=u.useState(!1),{metrics:s,activity:n,waitingRoom:a,session:l,messages:o,loading:i,error:d,connected:c}=ub();return u.useEffect(()=>{let x=!0;async function m(){try{const y=await $a();if(!x)return;t(!!(y!=null&&y.managedByEstate))}catch{if(!x)return;t(!1)}}return m(),()=>{x=!1}},[]),r.jsxs(ce,{className:"text-sm",title:"Homeowner Workspace",children:[d?r.jsx("div",{className:"mb-4 rounded-xl border border-danger/30 bg-danger/10 px-4 py-3 text-sm text-danger",children:d}):null,r.jsxs("section",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 xl:grid-cols-4",children:[r.jsx(jn,{title:"Active Visitors",value:s.activeVisitors,tone:"success",loading:i,sub:"Live now"}),r.jsx(jn,{title:"Pending Approvals",value:s.pendingApprovals,tone:"warning",loading:i,sub:"Needs action"}),r.jsx(jn,{title:"Calls Today",value:s.callsToday,tone:"brand",loading:i,sub:"Audio + video"}),r.jsx(jn,{title:"Unread Messages",value:s.unreadMessages,tone:"danger",loading:i,sub:"Recent threads"})]}),r.jsxs("section",{className:"mt-6 grid grid-cols-1 gap-6 xl:grid-cols-12",children:[r.jsxs("article",{className:"xl:col-span-7 rounded-2xl border border-slate-200 bg-white/90 p-4 sm:p-6 shadow-soft dark:border-slate-800 dark:bg-slate-900/80",children:[r.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[r.jsx("h2",{className:"font-heading text-lg font-bold",children:"Recent Visitor Activity"}),r.jsx("span",{className:`rounded-full px-2 py-1 text-xs font-semibold ${c?"bg-success/20 text-success":"bg-warning/20 text-warning"}`,children:c?"LIVE":"RECONNECTING"})]}),r.jsxs("div",{className:"mb-4 rounded-xl bg-slate-100 p-4 dark:bg-slate-800",children:[r.jsxs("div",{className:"mb-3 flex items-center justify-between text-xs text-slate-500",children:[r.jsx("span",{children:"Weekly Traffic"}),r.jsx("span",{children:"Last 7 Days"})]}),r.jsx(hb,{})]}),r.jsx("div",{className:"space-y-3",children:n.length===0?r.jsx(fb,{text:"No activity yet."}):n.map(x=>r.jsx("div",{className:"rounded-xl border border-slate-200 bg-white p-4 text-sm transition hover:-translate-y-0.5 hover:shadow-soft dark:border-slate-800 dark:bg-slate-900",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("p",{className:"font-semibold",children:x.event}),r.jsx("span",{className:"text-xs text-slate-500",children:x.time})]})},x.id??`${x.event}-${x.time}`))})]}),r.jsxs("article",{className:"xl:col-span-5 rounded-2xl border border-slate-200 bg-white/90 p-4 sm:p-6 shadow-soft dark:border-slate-800 dark:bg-slate-900/80",children:[r.jsx("h2",{className:"mb-4 font-heading text-lg font-bold",children:"Realtime Interaction"}),r.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[r.jsx(Nn,{title:"Waiting Room",value:`${a.length} Visitors`,tone:"warning"}),r.jsx(Nn,{title:"Active Session",value:(l==null?void 0:l.id)??"No session",tone:"success"}),r.jsx(Nn,{title:"Latest Message",value:((f=o[0])==null?void 0:f.text)??"No unread messages",tone:"brand"}),r.jsx(Nn,{title:"Call Status",value:(l==null?void 0:l.state)??"Idle",tone:"danger"})]}),r.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-3",children:[r.jsx(Sn,{label:"Audio",tone:"success"}),r.jsx(Sn,{label:"Video",tone:"brand"}),r.jsx(Sn,{label:"Mute",tone:"warning"}),r.jsx(Sn,{label:"End",tone:"danger"})]})]})]}),e?null:r.jsx("section",{className:"mt-6",children:r.jsx("article",{className:"rounded-2xl border border-slate-200 bg-white/90 p-4 sm:p-6 shadow-soft dark:border-slate-800 dark:bg-slate-900/80",children:r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"font-heading text-lg font-bold",children:"Billing & Subscription"}),r.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Upgrade your homeowner plan and pay securely with Paystack."})]}),r.jsx(j,{to:"/billing/paywall",className:"rounded-lg bg-slate-900 px-4 py-2 text-sm font-semibold text-white dark:bg-white dark:text-slate-900",children:"Open Billing"})]})})})]})}function jn({title:e,value:t,tone:s,loading:n,sub:a}){const l={success:"bg-success/20 text-success",warning:"bg-warning/20 text-warning",danger:"bg-danger/20 text-danger",brand:"bg-brand-100 text-brand-700 dark:bg-brand-500/20 dark:text-brand-100"};return r.jsxs("article",{className:"rounded-2xl border border-slate-200 bg-white/90 p-5 shadow-soft transition hover:-translate-y-0.5 dark:border-slate-800 dark:bg-slate-900/80",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("p",{className:"text-sm text-slate-500",children:e}),r.jsx("span",{className:`rounded-full px-2 py-1 text-xs font-semibold ${l[s]}`,children:"Live"})]}),r.jsx("p",{className:"mt-3 font-heading text-2xl font-extrabold sm:text-3xl",children:n?"...":t}),r.jsx("p",{className:"mt-2 text-xs text-slate-500",children:a})]})}function Nn({title:e,value:t,tone:s}){const n={success:"bg-success",warning:"bg-warning",danger:"bg-danger",brand:"bg-brand-500"};return r.jsxs("div",{className:"rounded-xl bg-slate-100 p-4 dark:bg-slate-800",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:`h-2 w-2 rounded-full ${n[s]}`}),r.jsx("p",{className:"text-xs text-slate-500",children:e})]}),r.jsx("p",{className:"mt-1 text-sm font-semibold",children:t})]})}function Sn({label:e,tone:t}){const s={success:"bg-success hover:bg-success/90",warning:"bg-warning hover:bg-warning/90",danger:"bg-danger hover:bg-danger/90",brand:"bg-brand-500 hover:bg-brand-600"};return r.jsx("button",{type:"button",className:`rounded-xl px-4 py-3 text-sm font-semibold text-white transition ${s[t]}`,children:e})}function hb(){return r.jsxs("svg",{viewBox:"0 0 320 88",className:"h-16 w-full",role:"img","aria-label":"Traffic trend",children:[r.jsx("path",{d:"M0 65 L40 58 L80 60 L120 42 L160 47 L200 35 L240 30 L280 38 L320 20",fill:"none",stroke:"#2456f5",strokeWidth:"3",strokeLinecap:"round"}),r.jsx("path",{d:"M0 88 L0 65 L40 58 L80 60 L120 42 L160 47 L200 35 L240 30 L280 38 L320 20 L320 88 Z",fill:"rgba(36,86,245,0.15)"})]})}function fb({text:e}){return r.jsx("p",{className:"rounded-xl bg-slate-100 p-4 text-sm text-slate-500 dark:bg-slate-800",children:e})}const xb=[{key:"message",title:"Messages",description:"Open chat first, then move to call when ready.",buttonClass:"bg-slate-900 text-white hover:bg-slate-800"},{key:"audio",title:"Audio Call",description:"Start voice session with microphone only.",buttonClass:"bg-emerald-600 text-white hover:bg-emerald-700"},{key:"video",title:"Video Call",description:"Start live video and audio session.",buttonClass:"bg-cyan-600 text-white hover:bg-cyan-700"}];function bh({open:e,sessionId:t,onClose:s,onSelect:n}){const a=u.useMemo(()=>t?`Choose Session Mode (${t.slice(0,8)}...)`:"Choose Session Mode",[t]);return!e||!t?null:r.jsx("div",{className:"fixed inset-0 z-50 grid place-items-center bg-slate-900/50 p-4",children:r.jsxs("div",{className:"w-full max-w-md rounded-2xl border border-slate-200 bg-white p-5 shadow-soft dark:border-slate-700 dark:bg-slate-900",children:[r.jsx("h3",{className:"font-heading text-lg font-bold",children:a}),r.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Pick where you want to enter this session."}),r.jsx("div",{className:"mt-4 space-y-3",children:xb.map(l=>r.jsxs("button",{type:"button",onClick:()=>n(l.key),className:`w-full rounded-xl px-4 py-3 text-left transition ${l.buttonClass}`,children:[r.jsx("p",{className:"text-sm font-semibold",children:l.title}),r.jsx("p",{className:"text-xs opacity-85",children:l.description})]},l.key))}),r.jsx("button",{type:"button",onClick:s,className:"mt-4 w-full rounded-xl border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-100 dark:border-slate-700 dark:text-slate-200 dark:hover:bg-slate-800",children:"Cancel"})]})})}function pb(){const e=Ge(),[t,s]=u.useState([]),[n,a]=u.useState(!0),[l,o]=u.useState(""),[i,d]=u.useState(""),[c,f]=u.useState(""),[x,m]=u.useState(!1),[y,v]=u.useState(""),k=u.useCallback(async()=>{a(!0),o("");try{const b=await Yp();s(b)}catch(b){o(b.message??"Failed to load visits")}finally{a(!1)}},[]);u.useEffect(()=>{k()},[k]),u.useEffect(()=>{const b=setInterval(k,5e3);return()=>clearInterval(b)},[k]);async function S(b,C){d(b),o("");try{const P=await tg(b,C);await ig(b),s(_=>_.map(N=>N.id===b?{...N,status:(P==null?void 0:P.status)==="approved"?"Approved":"Rejected",sessionStatus:(P==null?void 0:P.status)??N.sessionStatus,canDecide:!1}:N))}catch(P){o(P.message??"Failed to update visit")}finally{d("")}}async function g(b){f(b),o("");try{await Xp(b),s(C=>C.map(P=>P.id===b?{...P,status:"Completed",sessionStatus:"closed",canDecide:!1}:P))}catch(C){o(C.message??"Failed to end session")}finally{f("")}}function h(b){v(b),m(!0)}function p(b){y&&(m(!1),e(`/session/${y}/${b}`))}return r.jsxs(ce,{title:"Visits",children:[l?r.jsx("div",{className:"mb-4 rounded-xl border border-danger/30 bg-danger/10 px-4 py-3 text-sm text-danger",children:l}):null,r.jsxs("section",{className:"rounded-2xl border border-slate-200 bg-white/90 p-4 shadow-soft dark:border-slate-800 dark:bg-slate-900/80 sm:p-6",children:[r.jsxs("div",{className:"mb-4 flex items-center justify-between gap-3",children:[r.jsx("h2",{className:"font-heading text-lg font-bold sm:text-xl",children:"Visitor Log"}),r.jsx("button",{type:"button",onClick:k,className:"rounded-lg border border-slate-300 px-3 py-2 text-xs font-semibold dark:border-slate-700",children:"Refresh"})]}),n?r.jsx("p",{className:"py-2 text-sm text-slate-500",children:"Loading visits..."}):t.length===0?r.jsx("p",{className:"py-2 text-sm text-slate-500",children:"No visit records yet."}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"space-y-3 md:hidden",children:t.map(b=>r.jsxs("article",{className:"rounded-xl border border-slate-200 bg-slate-50 p-3 dark:border-slate-700 dark:bg-slate-800",children:[r.jsxs("div",{className:"flex items-start justify-between gap-2",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold",children:b.visitor}),r.jsx("p",{className:"mt-1 text-xs text-slate-500",children:b.door})]}),r.jsx("span",{className:`rounded-full px-2 py-1 text-[11px] font-semibold ${mc(b.status)}`,children:b.status})]}),r.jsx("p",{className:"mt-2 text-xs text-slate-500",children:hc(b.time)}),r.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:b.canDecide?r.jsxs(r.Fragment,{children:[r.jsx("button",{type:"button",disabled:i===b.id,onClick:()=>S(b.id,"approve"),className:"rounded-lg bg-success px-3 py-1.5 text-[11px] font-semibold text-white disabled:opacity-50",children:"Approve"}),r.jsx("button",{type:"button",disabled:i===b.id,onClick:()=>S(b.id,"reject"),className:"rounded-lg bg-danger px-3 py-1.5 text-[11px] font-semibold text-white disabled:opacity-50",children:"Reject"})]}):b.sessionStatus==="approved"||b.sessionStatus==="active"?r.jsxs(r.Fragment,{children:[r.jsx("button",{type:"button",onClick:()=>h(b.id),className:"rounded-lg bg-brand-500 px-3 py-1.5 text-[11px] font-semibold text-white",children:"Open Session"}),r.jsx("button",{type:"button",disabled:c===b.id,onClick:()=>g(b.id),className:"rounded-lg bg-danger px-3 py-1.5 text-[11px] font-semibold text-white disabled:opacity-50",children:c===b.id?"Ending...":"End Session"})]}):null})]},b.id))}),r.jsx("div",{className:"hidden overflow-x-auto md:block",children:r.jsxs("table",{className:"w-full min-w-[520px] text-left text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-slate-200 text-slate-500 dark:border-slate-700",children:[r.jsx("th",{className:"py-3 font-semibold",children:"Visitor"}),r.jsx("th",{className:"py-3 font-semibold",children:"Door"}),r.jsx("th",{className:"py-3 font-semibold",children:"Status"}),r.jsx("th",{className:"py-3 font-semibold",children:"Time"}),r.jsx("th",{className:"py-3 font-semibold",children:"Action"})]})}),r.jsx("tbody",{children:t.map(b=>r.jsxs("tr",{className:"border-b border-slate-100 dark:border-slate-800",children:[r.jsx("td",{className:"py-3 font-medium",children:b.visitor}),r.jsx("td",{className:"py-3",children:b.door}),r.jsx("td",{className:"py-3",children:r.jsx("span",{className:`rounded-full px-2 py-1 text-xs font-semibold ${mc(b.status)}`,children:b.status})}),r.jsx("td",{className:"py-3 text-slate-500",children:hc(b.time)}),r.jsx("td",{className:"py-3",children:r.jsx("div",{className:"flex flex-wrap gap-2",children:b.canDecide?r.jsxs(r.Fragment,{children:[r.jsx("button",{type:"button",disabled:i===b.id,onClick:()=>S(b.id,"approve"),className:"rounded-lg bg-success px-3 py-1.5 text-xs font-semibold text-white disabled:opacity-50",children:"Approve"}),r.jsx("button",{type:"button",disabled:i===b.id,onClick:()=>S(b.id,"reject"),className:"rounded-lg bg-danger px-3 py-1.5 text-xs font-semibold text-white disabled:opacity-50",children:"Reject"})]}):b.sessionStatus==="approved"||b.sessionStatus==="active"?r.jsxs(r.Fragment,{children:[r.jsx("button",{type:"button",onClick:()=>h(b.id),className:"rounded-lg bg-brand-500 px-3 py-1.5 text-xs font-semibold text-white",children:"Open Session"}),r.jsx("button",{type:"button",disabled:c===b.id,onClick:()=>g(b.id),className:"rounded-lg bg-danger px-3 py-1.5 text-xs font-semibold text-white disabled:opacity-50",children:c===b.id?"Ending...":"End Session"})]}):r.jsx("span",{className:"text-xs text-slate-500",children:"No action"})})})]},b.id))})]})})]})]}),r.jsx(bh,{open:x,sessionId:y,onClose:()=>m(!1),onSelect:p})]})}function mc(e){return e==="Approved"||e==="Completed"||e==="Active"?"bg-success/15 text-success":e==="Pending"?"bg-warning/20 text-warning":e==="Rejected"?"bg-danger/15 text-danger":"bg-slate-100 text-slate-700 dark:bg-slate-800 dark:text-slate-200"}function hc(e){if(!e)return"-";const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleString()}function gb(){const[e,t]=u.useState([]),[s,n]=u.useState(""),[a,l]=u.useState({}),[o,i]=u.useState(!0),[d,c]=u.useState(!1),[f,x]=u.useState(""),[m,y]=u.useState(!1),[v,k]=u.useState(""),[S,g]=u.useState(""),h=u.useRef(null),p=localStorage.getItem("qring_access_token");function b(T){T!=null&&T.sessionId&&t(A=>A.map(I=>I.id===T.sessionId?{...I,last:T.text,time:T.at,unread:s===T.sessionId||T.senderType==="homeowner"?0:(I.unread||0)+1}:I))}u.useEffect(()=>{let T=!0;async function A(){i(!0),g("");try{const I=await nc();if(!T)return;t(I),n(Q=>{var W;return Q||((W=I[0])==null?void 0:W.id)||""})}catch(I){if(!T)return;g(I.message??"Failed to load messages")}finally{T&&i(!1)}}return A(),()=>{T=!1}},[]),u.useEffect(()=>{const T=setInterval(async()=>{try{const A=await nc();t(I=>{if(!I.length)return A;const Q=Object.fromEntries(I.map(W=>[W.id,W.unread||0]));return A.map(W=>({...W,unread:Q[W.id]??W.unread??0}))})}catch{}},8e3);return()=>clearInterval(T)},[]),u.useEffect(()=>{if(!s)return;let T=!0;return(async()=>{c(!0);try{const I=await Jp(s);if(!T)return;l(Q=>({...Q,[s]:I})),t(Q=>Q.map(W=>W.id===s?{...W,unread:0}:W))}catch(I){if(!T)return;g(I.message??"Failed to load conversation")}finally{T&&c(!1)}})(),()=>{T=!1}},[s]),u.useEffect(()=>{if(!s)return;const T=Ds(`${at.socketUrl}${at.signalingNamespace}`,{path:at.socketPath,transports:["websocket","polling"],auth:p?{token:p}:void 0,withCredentials:!0});return T.on("connect",()=>{T.emit("session.join",{sessionId:s,displayName:"Homeowner"})}),T.on("chat.message",A=>{const I=A==null?void 0:A.sessionId;if(!I)return;const Q={id:(A==null?void 0:A.id)??`${(A==null?void 0:A.at)||Date.now()}-${Math.random()}`,sessionId:I,text:(A==null?void 0:A.text)||"",senderType:(A==null?void 0:A.senderType)||"visitor",displayName:(A==null?void 0:A.displayName)||"Participant",at:(A==null?void 0:A.at)||new Date().toISOString()};l(W=>{const pe=W[I]??[];return pe.some(he=>he.id===Q.id)?W:{...W,[I]:[...pe,Q]}}),b(Q)}),()=>{T.disconnect()}},[s,p]),u.useEffect(()=>{h.current&&(h.current.scrollTop=h.current.scrollHeight)},[s,a]);const C=u.useMemo(()=>e.find(T=>T.id===s)??null,[e,s]),P=u.useMemo(()=>a[s]??[],[a,s]);async function _(T){T.preventDefault();const A=f.trim();if(!(!s||!A)){y(!0);try{const I=await Kp(s,A);I&&(l(Q=>{const W=Q[s]??[];return W.some(pe=>pe.id===I.id)?Q:{...Q,[s]:[...W,I]}}),b(I)),x("")}catch(I){g(I.message??"Failed to send message")}finally{y(!1)}}}async function N(T){if(!(!s||!T||v)){g(""),k(T);try{const A=P.filter(I=>I.id!==T);await Gp(s,T),l(I=>({...I,[s]:A})),t(I=>I.map(Q=>{if(Q.id!==s)return Q;const W=A[A.length-1];return{...Q,last:(W==null?void 0:W.text)??"",time:(W==null?void 0:W.at)??Q.time}}))}catch(A){g(A.message??"Failed to delete message")}finally{k("")}}}return r.jsxs(ce,{title:"Messages",children:[S?r.jsx("div",{className:"mb-4 rounded-xl border border-danger/30 bg-danger/10 px-4 py-3 text-sm text-danger",children:S}):null,r.jsxs("section",{className:"grid gap-3 sm:gap-4 lg:grid-cols-12",children:[r.jsxs("article",{className:"rounded-2xl border border-slate-200 bg-white/90 p-3 sm:p-4 shadow-soft dark:border-slate-800 dark:bg-slate-900/80 lg:col-span-5 sm:p-5",children:[r.jsx("h2",{className:"mb-4 font-heading text-lg font-bold sm:text-xl",children:"Threads"}),o?r.jsx(fc,{text:"Loading threads..."}):null,!o&&e.length===0?r.jsx(fc,{text:"No messages yet."}):null,r.jsx("div",{className:"space-y-3",children:e.map(T=>r.jsxs("button",{type:"button",onClick:()=>n(T.id),className:`flex w-full items-center justify-between rounded-xl border p-3 text-left transition ${s===T.id?"border-brand-500 bg-brand-50 dark:border-brand-400 dark:bg-brand-500/10":"border-slate-200 bg-white dark:border-slate-700 dark:bg-slate-900"}`,children:[r.jsxs("div",{className:"min-w-0",children:[r.jsx("p",{className:"truncate text-sm font-semibold",children:T.name}),r.jsx("p",{className:"truncate text-xs text-slate-500",children:T.last})]}),r.jsxs("div",{className:"ml-3 text-right",children:[r.jsx("p",{className:"text-xs text-slate-500",children:xc(T.time)}),T.unread>0?r.jsx("span",{className:"mt-1 inline-block rounded-full bg-brand-500 px-2 py-0.5 text-[10px] font-bold text-white",children:T.unread}):null]})]},T.id))})]}),r.jsxs("article",{className:"rounded-2xl border border-slate-200 bg-white/90 p-3 sm:p-4 shadow-soft dark:border-slate-800 dark:bg-slate-900/80 lg:col-span-7 sm:p-5",children:[r.jsx("h2",{className:"mb-4 font-heading text-lg font-bold sm:text-xl",children:"Conversation"}),C?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[r.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-4 dark:border-slate-700 dark:bg-slate-800",children:[r.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Visitor"}),r.jsx("p",{className:"mt-1 text-sm font-semibold",children:C.name})]}),r.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-4 dark:border-slate-700 dark:bg-slate-800",children:[r.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Door"}),r.jsx("p",{className:"mt-1 text-sm font-semibold",children:C.door})]})]}),r.jsxs("div",{ref:h,className:"max-h-[28rem] space-y-2 overflow-y-auto rounded-xl border border-slate-200 bg-slate-50 p-3 dark:border-slate-700 dark:bg-slate-800",children:[d?r.jsx("p",{className:"text-sm text-slate-500",children:"Loading conversation..."}):null,!d&&P.length===0?r.jsx("p",{className:"text-sm text-slate-500",children:"No messages in this session yet."}):null,P.map(T=>{const A=T.senderType==="homeowner";return r.jsxs("div",{className:`max-w-[85%] rounded-xl px-3 py-2 text-sm ${A?"ml-auto bg-brand-500 text-white":"bg-white text-slate-800 dark:bg-slate-900 dark:text-slate-100"}`,children:[r.jsx("p",{className:"text-[11px] font-semibold opacity-80",children:T.displayName}),r.jsx("p",{children:T.text}),r.jsxs("div",{className:"mt-1 flex items-center justify-between gap-2 text-[10px] opacity-80",children:[r.jsx("p",{children:xc(T.at)}),A?r.jsx("button",{type:"button",onClick:()=>N(T.id),disabled:v===T.id,className:"rounded-md bg-black/20 px-2 py-0.5 text-[10px] font-semibold text-inherit disabled:opacity-60",children:v===T.id?"Deleting...":"Delete"}):null]})]},T.id)})]}),r.jsxs("form",{onSubmit:_,className:"flex gap-2",children:[r.jsx("input",{value:f,onChange:T=>x(T.target.value),className:"w-full rounded-xl border border-slate-300 bg-white px-3 py-3 text-sm dark:border-slate-700 dark:bg-slate-900",placeholder:"Type a message to this visitor"}),r.jsx("button",{type:"submit",disabled:m||!s||!f.trim(),className:"rounded-xl bg-brand-500 px-4 py-3 text-sm font-semibold text-white disabled:opacity-50",children:m?"Sending...":"Send"})]})]}):r.jsx("div",{className:"rounded-xl bg-slate-100 p-4 text-sm text-slate-600 dark:bg-slate-800 dark:text-slate-300",children:"Select a thread to view details."})]})]})]})}function fc({text:e}){return r.jsx("div",{className:"mb-3 rounded-xl bg-slate-100 p-4 text-sm text-slate-600 dark:bg-slate-800 dark:text-slate-300",children:e})}function xc(e){if(!e)return"-";const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleString()}function bb(){var Y;const[e,t]=u.useState([]),[s,n]=u.useState(null),[a,l]=u.useState(!0),[o,i]=u.useState(""),[d,c]=u.useState(""),[f,x]=u.useState(""),[m,y]=u.useState(""),[v,k]=u.useState(""),[S,g]=u.useState(!1),[h,p]=u.useState(""),[b,C]=u.useState(""),[P,_]=u.useState(!1),[N,T]=u.useState(""),[A,I]=u.useState(!0),[Q,W]=u.useState({size:"240",shape:"rounded"}),pe=u.useRef(null),he=!!(s&&Number(s.maxDoors??0)>0&&Number(s.usedDoors??0)>=Number(s.maxDoors??0)),L=!!(s&&Number(s.maxQrCodes??0)>0&&Number(s.usedQrCodes??0)>=Number(s.maxQrCodes??0));async function H(){var w,$;l(!0),i("");try{const U=await Zp(),E=(U==null?void 0:U.doors)??[];t(E),n((U==null?void 0:U.subscription)??null),(w=U==null?void 0:U.subscription)!=null&&w.managedByEstate&&(_(!0),T((($=U==null?void 0:U.subscription)==null?void 0:$.estateName)||"")),!m&&E.length>0&&y(E[0].id),!h&&E.length>0&&p(E[0].id)}catch(U){i(U.message??"Failed to load doors")}finally{l(!1)}}u.useEffect(()=>{H()},[]),u.useEffect(()=>{let w=!0;async function $(){try{const U=await $a();if(!w)return;_(!!(U!=null&&U.managedByEstate)),T((U==null?void 0:U.estateName)||"")}catch{if(!w)return;const U=localStorage.getItem("qring_user");let E=!1;try{const R=U?JSON.parse(U):null;E=typeof(R==null?void 0:R.email)=="string"&&R.email.toLowerCase().endsWith("@estate.useqring.online")}catch{E=!1}_(E),T("")}finally{w&&I(!1)}}return $(),()=>{w=!1}},[]);async function M(w){var $,U;if(w.preventDefault(),he||L){i(he?`Door limit reached (${(s==null?void 0:s.maxDoors)??0}) for your ${(s==null?void 0:s.plan)??"current"} plan.`:`QR limit reached (${(s==null?void 0:s.maxQrCodes)??0}) for your ${(s==null?void 0:s.plan)??"current"} plan.`);return}g(!0),i(""),x("");try{const E=await eg({name:v,generateQr:!0,mode:"direct",plan:"single"});if(E!=null&&E.door&&(t(R=>[E.door,...R]),y(E.door.id),p(E.door.id),($=E==null?void 0:E.qr)!=null&&$.qr_id&&C(E.qr.qr_id),k("")),n(R=>R&&{...R,usedDoors:(R.usedDoors??0)+1,remainingDoors:Math.max((R.remainingDoors??0)-1,0),usedQrCodes:(R.usedQrCodes??0)+(E!=null&&E.qr?1:0),remainingQrCodes:Math.max((R.remainingQrCodes??0)-(E!=null&&E.qr?1:0),0)}),(U=E==null?void 0:E.qr)!=null&&U.qr_id){const R=`${window.location.origin}/scan/${E.qr.qr_id}`;try{await navigator.clipboard.writeText(R),x(`Door created and QR copied: ${R}`)}catch{x(`Door created with QR: ${R}`)}}else x("Door created successfully.")}catch(E){i(E.message??"Failed to create door")}finally{g(!1)}}const D=e.find(w=>String(w.id)===String(h))??null,z=D&&b?{doorName:D.name,scanUrl:`${window.location.origin}/scan/${b}`}:null;return r.jsxs(ce,{title:"Doors",children:[o?r.jsx("div",{className:"mb-4 rounded-xl border border-danger/30 bg-danger/10 px-4 py-3 text-sm text-danger",children:o}):null,f?r.jsx("div",{className:"mb-4 rounded-xl border border-success/30 bg-success/10 px-4 py-3 text-sm text-success",children:f}):null,P?r.jsxs("div",{className:"mb-4 rounded-xl border border-warning/30 bg-warning/10 px-4 py-3 text-sm text-warning",children:["Door and QR creation are managed by your estate",N?` (${N})`:"","."]}):null,s?r.jsxs("section",{className:"mb-4 rounded-2xl border border-slate-200 bg-white/90 p-4 shadow-soft dark:border-slate-800 dark:bg-slate-900/80",children:[r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Subscription"}),r.jsxs("p",{className:"text-sm font-semibold text-slate-900 dark:text-slate-100",children:["Plan: ",s.plan," (",s.status,")"]})]}),r.jsxs("div",{className:"text-right text-xs text-slate-600 dark:text-slate-300",children:[r.jsxs("p",{children:["Doors: ",s.usedDoors,"/",s.maxDoors]}),r.jsxs("p",{children:["QR Codes: ",s.usedQrCodes,"/",s.maxQrCodes]})]})]}),s.overDoorLimit?r.jsx("p",{className:"mt-3 rounded-lg bg-warning/15 px-3 py-2 text-xs font-medium text-warning",children:"You are above your plan door limit. Upgrade your subscription."}):null]}):null,!A&&!P?r.jsxs("section",{className:"mb-4 rounded-2xl border border-slate-200 bg-white/90 p-4 shadow-soft dark:border-slate-800 dark:bg-slate-900/80 sm:p-5",children:[r.jsx("h2",{className:"font-heading text-lg font-bold sm:text-xl",children:"Create Door"}),r.jsx("p",{className:"mt-1 text-xs text-slate-500 sm:text-sm",children:"Enter a new door name and create it with a QR code."}),r.jsxs("form",{className:"mt-4 grid gap-3 sm:grid-cols-[1fr_auto]",onSubmit:M,children:[r.jsx("input",{type:"text",value:v,onChange:w=>k(w.target.value),placeholder:"e.g. Front Gate",className:"rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm outline-none ring-brand-300 focus:ring-2 dark:border-slate-700 dark:bg-slate-900",required:!0}),r.jsx("button",{type:"submit",disabled:S||he||L,className:"rounded-lg bg-slate-900 px-4 py-2 text-sm font-semibold text-white disabled:cursor-not-allowed disabled:opacity-50 dark:bg-white dark:text-slate-900",children:S?"Creating...":"Create Door + QR"})]})]}):null,a?r.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white/90 p-4 sm:p-5 text-sm text-slate-500 shadow-soft dark:border-slate-800 dark:bg-slate-900/80",children:"Loading doors..."}):e.length===0?r.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white/90 p-4 sm:p-5 text-sm text-slate-500 shadow-soft dark:border-slate-800 dark:bg-slate-900/80",children:"No doors configured yet."}):r.jsxs("section",{children:[r.jsx("h2",{className:"mb-3 font-heading text-lg font-bold sm:text-xl",children:"Doors Created"}),r.jsx("div",{className:"grid gap-3 sm:gap-4 md:grid-cols-2 xl:grid-cols-3",children:e.map(w=>{var $;return r.jsxs("article",{className:"rounded-2xl border border-slate-200 bg-white/90 p-4 sm:p-5 shadow-soft dark:border-slate-800 dark:bg-slate-900/80",children:[r.jsxs("div",{className:"flex items-start justify-between gap-3",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"font-heading text-lg font-bold",children:w.name}),r.jsx("p",{className:"mt-1 text-xs text-slate-500",children:w.homeName})]}),r.jsx("span",{className:`rounded-full px-2 py-1 text-xs font-semibold ${w.state==="Online"?"bg-success/20 text-success":"bg-danger/20 text-danger"}`,children:w.state})]}),r.jsx("p",{className:"mt-4 text-xs uppercase tracking-wide text-slate-500",children:"Linked QR Codes"}),r.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:($=w.qr)!=null&&$.length?w.qr.map(U=>r.jsxs("span",{className:"inline-flex items-center gap-2 rounded-lg border border-slate-200 bg-slate-50 px-2 py-1 text-xs font-semibold transition hover:border-slate-300 dark:border-slate-700 dark:bg-slate-800",children:[r.jsx("img",{src:Vn(`${window.location.origin}/scan/${U}`,40),alt:`QR ${U}`,className:"h-5 w-5 rounded"}),r.jsx("span",{children:U})]},`${w.id}-${U}`)):r.jsx("span",{className:"text-xs text-slate-500",children:"No QR linked"})}),r.jsx("button",{type:"button",onClick:()=>{var U;p(w.id),C(((U=w.qr)==null?void 0:U[0])??""),setTimeout(()=>{var E;(E=pe.current)==null||E.scrollIntoView({behavior:"smooth",block:"start"})},0)},className:"mt-4 w-full rounded-lg bg-slate-900 px-4 py-2 text-sm font-semibold text-white disabled:cursor-not-allowed disabled:opacity-50 dark:bg-white dark:text-slate-900",children:"View Door"})]},w.id)})})]}),D?r.jsxs("section",{ref:pe,className:"mt-4 rounded-2xl border border-slate-200 bg-white/90 p-4 shadow-soft dark:border-slate-800 dark:bg-slate-900/80 sm:p-5",children:[r.jsxs("div",{className:"flex items-center justify-between gap-3",children:[r.jsx("h2",{className:"font-heading text-lg font-bold sm:text-xl",children:"Door Details & QR Print"}),r.jsx("button",{type:"button",onClick:()=>{p(""),C("")},className:"rounded-lg border border-slate-300 px-3 py-1.5 text-xs font-semibold dark:border-slate-700",children:"Close"})]}),r.jsxs("p",{className:"mt-1 text-xs text-slate-500 sm:text-sm",children:["Door: ",D.name," | QR: ",b||"None selected"]}),r.jsxs("div",{className:"mt-4 grid gap-4 lg:grid-cols-[300px_1fr]",children:[r.jsxs("div",{className:"space-y-3 rounded-xl border border-slate-200 bg-slate-50 p-3 dark:border-slate-700 dark:bg-slate-800",children:[r.jsx("label",{className:"block text-xs font-semibold uppercase tracking-wide text-slate-500",children:"QR Codes Created"}),r.jsx("div",{className:"max-h-40 space-y-2 overflow-y-auto pr-1",children:(Y=D.qr)!=null&&Y.length?D.qr.map(w=>r.jsxs("button",{type:"button",onClick:()=>C(w),className:`flex w-full items-center gap-2 rounded-lg border px-2 py-2 text-left text-xs font-semibold transition ${b===w?"border-brand-500 bg-brand-50 text-brand-700 dark:bg-brand-500/10 dark:text-brand-200":"border-slate-200 bg-white hover:border-slate-300 dark:border-slate-700 dark:bg-slate-900"}`,children:[r.jsx("img",{src:Vn(`${window.location.origin}/scan/${w}`,40),alt:`QR ${w}`,className:"h-8 w-8 rounded"}),r.jsx("span",{className:"truncate",children:w})]},`${D.id}-pick-${w}`)):r.jsx("p",{className:"text-xs text-slate-500",children:"No QR codes for this door yet."})}),r.jsxs("label",{className:"block text-xs font-semibold uppercase tracking-wide text-slate-500",children:["Print Size",r.jsxs("select",{value:Q.size,onChange:w=>W($=>({...$,size:w.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 bg-white px-2 py-2 text-sm font-medium dark:border-slate-700 dark:bg-slate-900",children:[r.jsx("option",{value:"180",children:"Small (180px)"}),r.jsx("option",{value:"240",children:"Medium (240px)"}),r.jsx("option",{value:"320",children:"Large (320px)"}),r.jsx("option",{value:"420",children:"XL Poster (420px)"})]})]}),r.jsxs("label",{className:"block text-xs font-semibold uppercase tracking-wide text-slate-500",children:["Gen Z Shape",r.jsxs("select",{value:Q.shape,onChange:w=>W($=>({...$,shape:w.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 bg-white px-2 py-2 text-sm font-medium dark:border-slate-700 dark:bg-slate-900",children:[r.jsx("option",{value:"rounded",children:"Rounded Card"}),r.jsx("option",{value:"circle",children:"Circle Sticker"}),r.jsx("option",{value:"diamond",children:"Diamond Tilt"}),r.jsx("option",{value:"squircle",children:"Squircle"}),r.jsx("option",{value:"ticket",children:"Ticket Cut"}),r.jsx("option",{value:"home",children:"Home Badge"}),r.jsx("option",{value:"bell",children:"Bell Badge"}),r.jsx("option",{value:"star",children:"Star Pop"})]})]}),r.jsx("button",{type:"button",disabled:!z,onClick:()=>yb(z,Q),className:"w-full rounded-lg bg-slate-900 px-4 py-2 text-sm font-semibold text-white dark:bg-white dark:text-slate-900",children:"Print QR"})]}),r.jsx("div",{className:"grid place-items-center rounded-xl border border-dashed border-slate-300 bg-white p-4 dark:border-slate-700 dark:bg-slate-900",children:z?r.jsxs("div",{className:`bg-white p-4 shadow-lg ${pc(Q.shape)}`,style:{width:`${Number(Q.size)+40}px`},children:[r.jsx("div",{className:"mb-2 text-center text-xs font-semibold uppercase tracking-wide text-slate-500",children:z.doorName}),r.jsx("img",{src:Vn(z.scanUrl,Number(Q.size)),alt:`QR for ${z.doorName}`,className:`mx-auto bg-white p-2 ${pc(Q.shape)}`,style:{width:`${Number(Q.size)}px`,height:`${Number(Q.size)}px`}}),r.jsx("div",{className:"mt-2 text-center text-[10px] font-medium text-slate-500",children:z.scanUrl})]}):r.jsx("p",{className:"text-sm text-slate-500",children:"Pick a QR code to preview and print."})})]})]}):null]})}function Vn(e,t=240){return`https://api.qrserver.com/v1/create-qr-code/?size=${t}x${t}&data=${encodeURIComponent(e)}`}function pc(e){return e==="circle"?"rounded-full":e==="diamond"?"rotate-2 rounded-2xl":e==="squircle"?"rounded-[32px]":e==="ticket"?"rounded-[22px]":e==="home"?"rounded-[18px]":e==="bell"?"rounded-[24px]":e==="star"?"rounded-[14px]":"rounded-2xl"}function yb(e,t){const s=Number(t.size||240),n=Vn(e.scanUrl,s),a={rounded:"border-radius:18px;",circle:"border-radius:9999px;",diamond:"border-radius:22px;transform:rotate(2deg);",squircle:"border-radius:32px;",ticket:"border-radius:22px;clip-path: polygon(6% 0,94% 0,100% 18%,100% 82%,94% 100%,6% 100%,0 82%,0 18%);",home:"clip-path: polygon(50% 0,100% 30%,100% 100%,0 100%,0 30%);border-radius:10px;",bell:"clip-path: polygon(20% 22%,30% 8%,70% 8%,80% 22%,86% 64%,74% 88%,26% 88%,14% 64%);border-radius:10px;",star:"clip-path: polygon(50% 0,61% 35%,98% 35%,68% 57%,79% 92%,50% 70%,21% 92%,32% 57%,2% 35%,39% 35%);border-radius:8px;"}[t.shape]||"border-radius:18px;",l=`
    <html>
      <head>
        <title>Print QR</title>
        <style>
          body{font-family:Inter,Arial,sans-serif;padding:24px;background:#fff;color:#111}
          .card{width:${s+40}px;padding:16px;border:1px solid #e2e8f0;${a}}
          .door{font-size:12px;font-weight:700;text-transform:uppercase;letter-spacing:.08em;text-align:center;color:#334155;margin-bottom:8px}
          .qr{width:${s}px;height:${s}px;display:block;margin:0 auto;background:#fff;padding:8px;${a}}
          .url{font-size:10px;color:#64748b;text-align:center;margin-top:8px;word-break:break-all}
        </style>
      </head>
      <body>
        <div class="card">
          <div class="door">${e.doorName}</div>
          <img class="qr" src="${n}" alt="QR" />
          <div class="url">${e.scanUrl}</div>
        </div>
        <script>window.onload = () => { window.print(); };<\/script>
      </body>
    </html>`,o=window.open("","_blank","width=700,height=800");o&&(o.document.open(),o.document.write(l),o.document.close())}async function vb(){const e=await q("/homeowner/settings");return(e==null?void 0:e.data)??null}async function kb(e){const t=await q("/homeowner/settings",{method:"PUT",body:JSON.stringify(e)});return(t==null?void 0:t.data)??null}function wb(){const[e,t]=u.useState({pushAlerts:!0,soundAlerts:!0,autoRejectUnknownVisitors:!1}),[s,n]=u.useState(!1),[a,l]=u.useState(""),[o,i]=u.useState(null),[d,c]=u.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[f,x]=u.useState(!0),[m,y]=u.useState(!1),[v,k]=u.useState(!1),[S,g]=u.useState(""),[h,p]=u.useState("");u.useEffect(()=>{let P=!0;async function _(){x(!0),p("");try{const N=await vb();if(!P)return;t({pushAlerts:!!(N!=null&&N.pushAlerts),soundAlerts:!!(N!=null&&N.soundAlerts),autoRejectUnknownVisitors:!!(N!=null&&N.autoRejectUnknownVisitors)}),n(!!(N!=null&&N.managedByEstate)),l((N==null?void 0:N.estateName)||""),localStorage.setItem("qring_sound_alerts",String(!!(N!=null&&N.soundAlerts))),window.dispatchEvent(new Event("qring:sound-alerts-updated")),i((N==null?void 0:N.subscription)??null)}catch(N){if(!P)return;p(N.message??"Failed to load settings")}finally{P&&x(!1)}}return _(),()=>{P=!1}},[]);async function b(P){P.preventDefault(),y(!0),p(""),g("");try{const _=await kb(e);t({pushAlerts:!!(_!=null&&_.pushAlerts),soundAlerts:!!(_!=null&&_.soundAlerts),autoRejectUnknownVisitors:!!(_!=null&&_.autoRejectUnknownVisitors)}),localStorage.setItem("qring_sound_alerts",String(!!(_!=null&&_.soundAlerts))),window.dispatchEvent(new Event("qring:sound-alerts-updated")),g("Settings updated successfully.")}catch(_){p(_.message??"Failed to update settings")}finally{y(!1)}}async function C(P){if(P.preventDefault(),k(!0),p(""),g(""),d.newPassword!==d.confirmPassword){p("New password and confirm password do not match."),k(!1);return}try{await zp({currentPassword:d.currentPassword,newPassword:d.newPassword}),c({currentPassword:"",newPassword:"",confirmPassword:""}),g("Password changed successfully.")}catch(_){p(_.message??"Failed to change password")}finally{k(!1)}}return r.jsxs(ce,{title:"Settings",children:[h?r.jsx("div",{className:"mb-4 rounded-xl border border-danger/30 bg-danger/10 px-4 py-3 text-sm text-danger",children:h}):null,S?r.jsx("div",{className:"mb-4 rounded-xl border border-success/30 bg-success/10 px-4 py-3 text-sm text-success",children:S}):null,s?r.jsxs("div",{className:"mb-4 rounded-xl border border-brand-300/40 bg-brand-50 px-4 py-3 text-sm text-brand-700 dark:bg-brand-500/10 dark:text-brand-200",children:["Your plan is managed by estate admin",a?` (${a})`:"","."]}):null,f?r.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white/90 p-5 text-sm text-slate-500 shadow-soft dark:border-slate-800 dark:bg-slate-900/80",children:"Loading settings..."}):r.jsxs("section",{className:"grid gap-3 sm:gap-4 xl:grid-cols-12",children:[r.jsxs("article",{className:"rounded-2xl border border-slate-200 bg-white/90 p-4 shadow-soft dark:border-slate-800 dark:bg-slate-900/80 sm:p-6 xl:col-span-7",children:[r.jsx("h2",{className:"font-heading text-lg font-bold sm:text-xl",children:"Preferences"}),r.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Manage how you receive alerts and visitor auto-reject behavior."}),r.jsxs("form",{className:"mt-4 space-y-3",onSubmit:b,children:[r.jsx(Sl,{label:"Push Alerts",checked:e.pushAlerts,onChange:P=>t(_=>({..._,pushAlerts:P}))}),r.jsx(Sl,{label:"Sound Alerts",checked:e.soundAlerts,onChange:P=>t(_=>({..._,soundAlerts:P}))}),r.jsx(Sl,{label:"Auto Reject Unknown Visitors",checked:e.autoRejectUnknownVisitors,onChange:P=>t(_=>({..._,autoRejectUnknownVisitors:P}))}),r.jsx("button",{type:"submit",disabled:m,className:"w-full rounded-lg bg-slate-900 px-4 py-2 text-sm font-semibold text-white disabled:opacity-50 sm:w-auto dark:bg-white dark:text-slate-900",children:m?"Saving...":"Save Preferences"})]})]}),r.jsxs("article",{className:"rounded-2xl border border-slate-200 bg-white/90 p-4 shadow-soft dark:border-slate-800 dark:bg-slate-900/80 sm:p-6 xl:col-span-5",children:[r.jsx("h2",{className:"font-heading text-lg font-bold sm:text-xl",children:"Current Subscription"}),o?r.jsxs("div",{className:"mt-4 rounded-xl bg-slate-100 p-4 dark:bg-slate-800",children:[r.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Plan"}),r.jsx("p",{className:"mt-1 text-base font-semibold",children:o.plan}),r.jsxs("p",{className:"mt-1 text-xs text-slate-500",children:["Status: ",o.status]}),o.limits?r.jsxs("p",{className:"mt-2 text-xs text-slate-500",children:["Limits: ",o.limits.maxDoors," doors, ",o.limits.maxQrCodes," QR codes"]}):null]}):r.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"No subscription information available."}),r.jsxs("form",{className:"mt-6 space-y-3",onSubmit:C,children:[r.jsx("h3",{className:"text-sm font-semibold",children:"Reset Password"}),r.jsx(Cl,{label:"Current Password",value:d.currentPassword,onChange:P=>c(_=>({..._,currentPassword:P}))}),r.jsx(Cl,{label:"New Password",value:d.newPassword,onChange:P=>c(_=>({..._,newPassword:P}))}),r.jsx(Cl,{label:"Confirm New Password",value:d.confirmPassword,onChange:P=>c(_=>({..._,confirmPassword:P}))}),r.jsx("button",{type:"submit",disabled:v,className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm font-semibold disabled:opacity-50 dark:border-slate-700",children:v?"Updating...":"Update Password"})]})]})]})]})}function Sl({label:e,checked:t,onChange:s}){return r.jsxs("label",{className:"flex items-center justify-between rounded-xl border border-slate-200 px-3 py-2 dark:border-slate-700",children:[r.jsx("span",{className:"text-sm font-medium",children:e}),r.jsx("input",{type:"checkbox",checked:t,onChange:n=>s(n.target.checked),className:"h-4 w-4 accent-brand-500"})]})}function Cl({label:e,value:t,onChange:s}){return r.jsxs("label",{className:"block",children:[r.jsx("span",{className:"mb-1 block text-sm font-medium text-slate-700 dark:text-slate-300",children:e}),r.jsx("input",{type:"password",value:t,required:!0,minLength:8,onChange:n=>s(n.target.value),className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm outline-none ring-brand-300 transition focus:ring-2 dark:border-slate-700 dark:bg-slate-900"})]})}const gc="";function jb(){const{user:e}=Xt(),[t,s]=u.useState([]),[n,a]=u.useState(null),[l,o]=u.useState([]),[i,d]=u.useState(""),[c,f]=u.useState(""),[x,m]=u.useState(""),y=Ge();u.useEffect(()=>{let h=!0;async function p(){try{const[b,C,P,_]=await Promise.all([dp(),cp(),Xm(),(e==null?void 0:e.role)==="homeowner"?$a():Promise.resolve(null)]);if(!h)return;if((e==null?void 0:e.role)==="homeowner"&&(_!=null&&_.managedByEstate)){y("/dashboard/homeowner/overview",{replace:!0});return}a(b),s(C),o(P)}catch(b){if(!h)return;f(b.message??"Failed to load billing data")}}return p(),()=>{h=!1}},[y,e==null?void 0:e.role]);const v=u.useMemo(()=>{if(!(n!=null&&n.plan))return"Free";const h=l.find(p=>p.id===n.plan);return(h==null?void 0:h.name)??n.plan},[l,n]),k=(e==null?void 0:e.role)==="estate"?"/dashboard/estate":"/dashboard/homeowner/overview",S=(e==null?void 0:e.role)==="estate"?"Estate Dashboard":"Homeowner Dashboard";async function g(h){d(h.id),f(""),m("");try{if(h.amount===0){const p=await up(h.id);a(b=>({...b??{},...p,limits:{maxDoors:h.maxDoors,maxQrCodes:h.maxQrCodes}})),m("Free plan activated. You can manage up to 1 door and 1 QR code.")}else{const b=!["localhost","127.0.0.1"].includes(window.location.hostname)&&window.location.protocol==="https:"?`${window.location.origin}/billing/callback`:void 0,C=await mp(h.id,b);if(!(C!=null&&C.authorization_url))throw new Error("Unable to start Paystack checkout");window.location.href=C.authorization_url}}catch(p){f(p.message??"Failed to process plan request")}finally{d("")}}return r.jsxs(ce,{title:"Billing & Subscription",children:[c?r.jsx("div",{className:"mb-4 rounded-xl border border-danger/30 bg-danger/10 px-4 py-3 text-sm text-danger",children:c}):null,x?r.jsx("div",{className:"mb-4 rounded-xl border border-success/30 bg-success/10 px-4 py-3 text-sm text-success",children:x}):null,r.jsx("section",{className:"rounded-2xl border border-slate-200 bg-white/90 p-4 sm:p-5 shadow-soft dark:border-slate-800 dark:bg-slate-900/80",children:r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"font-heading text-xl font-bold",children:"Current Plan"}),r.jsx("p",{className:"mt-1 text-sm text-slate-500",children:v}),n!=null&&n.limits?r.jsxs("p",{className:"mt-1 text-xs text-slate-500",children:["Limit: ",n.limits.maxDoors," door(s), ",n.limits.maxQrCodes," QR code(s)"]}):null]}),r.jsxs("button",{type:"button",onClick:()=>y(k),className:"rounded-lg bg-brand-500 px-4 py-2 text-sm font-semibold text-white",children:["Back to ",S]})]})}),r.jsx("section",{className:"mt-4 grid gap-3 sm:mt-6 sm:gap-4 md:grid-cols-2 xl:grid-cols-3",children:l.map(h=>r.jsxs("article",{className:"rounded-2xl border border-slate-200 bg-white/90 p-4 sm:p-5 shadow-soft dark:border-slate-800 dark:bg-slate-900/80",children:[r.jsx("p",{className:"text-sm font-semibold uppercase tracking-wide text-slate-500",children:h.name}),r.jsxs("p",{className:"mt-2 text-2xl font-bold",children:[h.amount===0?`${gc}0`:`${gc}${new Intl.NumberFormat("en-NG").format(h.amount)}`,r.jsx("span",{className:"ml-1 text-sm font-medium text-slate-500",children:"/month"})]}),r.jsxs("p",{className:"mt-2 text-sm text-slate-500",children:["Up to ",h.maxDoors," doors"]}),r.jsxs("p",{className:"text-sm text-slate-500",children:["Up to ",h.maxQrCodes," QR codes"]}),r.jsx("button",{type:"button",disabled:i===h.id||(n==null?void 0:n.plan)===h.id,onClick:()=>g(h),className:"mt-4 w-full rounded-lg bg-slate-900 px-4 py-2 text-sm font-semibold text-white disabled:cursor-not-allowed disabled:opacity-50 dark:bg-white dark:text-slate-900",children:(n==null?void 0:n.plan)===h.id?"Current plan":i===h.id?"Processing...":h.amount===0?"Activate free":"Pay with Paystack"})]},h.id))}),r.jsxs("section",{className:"mt-6 rounded-2xl border border-slate-200 bg-white/90 p-5 shadow-soft dark:border-slate-800 dark:bg-slate-900/80",children:[r.jsx("h3",{className:"font-heading text-lg font-bold",children:"Manual Payment Instructions"}),t.length===0?r.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"No manual payment account configured."}):r.jsx("div",{className:"mt-3 space-y-3",children:t.map(h=>r.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-4 dark:border-slate-700 dark:bg-slate-800",children:[r.jsx("p",{className:"text-sm font-semibold",children:h.name}),r.jsx("p",{className:"mt-1 text-sm text-slate-600 dark:text-slate-300",children:h.description}),r.jsx("p",{className:"mt-2 text-xs font-medium text-slate-500",children:h.accountInfo})]},h.id))}),r.jsxs("p",{className:"mt-4 text-xs text-slate-500",children:["Need help? ",r.jsx(j,{to:"/contact",className:"font-semibold text-brand-600 dark:text-brand-300",children:"Contact support"}),"."]})]})]})}function Nb(){const{user:e}=Xt(),[t,s]=u.useState(""),[n,a]=u.useState("Verifying payment..."),[l]=Km(),o=Ge();return u.useEffect(()=>{let i=!0;async function d(){const c=l.get("reference")||l.get("trxref");if(!c){s("Missing Paystack reference.");return}try{if(await hp(c),!i)return;a("Payment successful. Redirecting..."),setTimeout(()=>{const f=(e==null?void 0:e.role)==="estate"?"/dashboard/estate":"/dashboard/homeowner/overview";o(f,{replace:!0})},800)}catch(f){if(!i)return;s(f.message??"Unable to verify payment.")}}return d(),()=>{i=!1}},[o,l,e==null?void 0:e.role]),r.jsx("div",{className:"grid min-h-screen place-items-center bg-slate-100 p-6 dark:bg-slate-950",children:r.jsx("div",{className:"w-full max-w-md rounded-2xl border border-slate-200 bg-white p-6 text-center shadow-soft dark:border-slate-800 dark:bg-slate-900",children:t?r.jsx("p",{className:"text-sm font-semibold text-danger",children:t}):r.jsx("p",{className:"text-sm font-semibold text-slate-700 dark:text-slate-200",children:n})})})}async function Gs(){const e=await q("/estate/overview");return(e==null?void 0:e.data)??{}}async function Sb(e){const t=await q("/estate/",{method:"POST",body:JSON.stringify(e)});return(t==null?void 0:t.data)??null}async function Cb(e){const t=await q("/estate/homes",{method:"POST",body:JSON.stringify(e)});return(t==null?void 0:t.data)??null}async function Eb(e){const t=await q("/estate/doors",{method:"POST",body:JSON.stringify(e)});return(t==null?void 0:t.data)??null}async function Pb(e){const t=await q("/estate/doors/provision",{method:"POST",body:JSON.stringify(e)});return(t==null?void 0:t.data)??null}async function _b(e,t){const s=await q(`/estate/doors/${e}/assign-homeowner`,{method:"POST",body:JSON.stringify({homeownerId:t})});return(s==null?void 0:s.data)??null}async function Rb(e){const t=await q(`/estate/homeowners/${e}/invite`,{method:"POST"});return(t==null?void 0:t.data)??null}async function Tb(){const e=await q("/estate/mappings");return Array.isArray(e==null?void 0:e.data)?e.data:[]}async function Ab(){const e=await q("/estate/access-logs");return Array.isArray(e==null?void 0:e.data)?e.data:[]}async function Lb(){const e=await q("/estate/plan-restrictions");return(e==null?void 0:e.data)??null}async function Ob(e,t){const s=await q(`/estate/doors/${e}/admin-profile`,{method:"PUT",body:JSON.stringify(t)});return(s==null?void 0:s.data)??null}async function yh(e){const t=await q("/estate/shared-qr",{method:"POST",body:JSON.stringify({estateId:e})});return(t==null?void 0:t.data)??null}async function bc(e){const t=await q(`/estate/shared-qr?estateId=${encodeURIComponent(e)}`);return Array.isArray(t==null?void 0:t.data)?t.data:[]}const Mb=["Create Estate","Add Doors","Assign Doors To Homeowners","Invite Homeowners","Manage Door Mappings","View Access Logs","Plan Restrictions","Multi-Home Support"];function Db(){var l,o,i,d;const[e,t]=u.useState(null),[s,n]=u.useState("");u.useEffect(()=>{let c=!0;async function f(){try{const x=await Gs();if(!c)return;t(x)}catch(x){if(!c)return;n(x.message??"Failed to load estate data")}}return f(),()=>{c=!1}},[]);const a={estates:((l=e==null?void 0:e.estates)==null?void 0:l.length)??0,homes:((o=e==null?void 0:e.homes)==null?void 0:o.length)??0,doors:((i=e==null?void 0:e.doors)==null?void 0:i.length)??0,homeowners:((d=e==null?void 0:e.homeowners)==null?void 0:d.length)??0};return r.jsxs(ce,{title:"Estate Overview",children:[s?r.jsx(Ib,{tone:"danger",message:s}):null,r.jsxs("section",{className:"mb-4 grid gap-3 sm:grid-cols-2 xl:grid-cols-4",children:[r.jsx(Cn,{label:"Estates",value:a.estates}),r.jsx(Cn,{label:"Homes",value:a.homes}),r.jsx(Cn,{label:"Doors",value:a.doors}),r.jsx(Cn,{label:"Homeowners",value:a.homeowners})]}),r.jsx("section",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 xl:grid-cols-3",children:Mb.map(c=>r.jsxs("article",{className:"rounded-2xl border border-slate-200 bg-white/80 p-5 shadow-soft dark:border-slate-800 dark:bg-slate-900/70",children:[r.jsx("h2",{className:"font-heading text-lg font-bold",children:c}),r.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Built for multi-home estates with central control and audit-ready workflows."})]},c))}),r.jsx("section",{className:"mt-4",children:r.jsx("article",{className:"rounded-2xl border border-slate-200 bg-white/90 p-4 shadow-soft dark:border-slate-800 dark:bg-slate-900/80 sm:p-5",children:r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"font-heading text-lg font-bold sm:text-xl",children:"Billing & Subscription"}),r.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Manage estate plan limits and complete payments via Paystack."})]}),r.jsx(j,{to:"/billing/paywall",className:"rounded-lg bg-slate-900 px-4 py-2 text-sm font-semibold text-white dark:bg-white dark:text-slate-900",children:"Open Billing"})]})})})]})}function Cn({label:e,value:t}){return r.jsxs("article",{className:"rounded-2xl border border-slate-200 bg-white/90 p-4 shadow-soft dark:border-slate-800 dark:bg-slate-900/80",children:[r.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:e}),r.jsx("p",{className:"mt-2 text-2xl font-black",children:t})]})}function Ib({tone:e,message:t}){const s=e==="danger"?"border-danger/30 bg-danger/10 text-danger":"border-brand-200 bg-brand-50 text-brand-700";return r.jsx("div",{className:`mb-4 rounded-xl border px-4 py-3 text-sm ${s}`,children:t})}function Bb(){const[e,t]=u.useState(""),[s,n]=u.useState([]),[a,l]=u.useState({}),[o,i]=u.useState(""),[d,c]=u.useState(""),[f,x]=u.useState(!1),[m,y]=u.useState("");async function v(){const h=await Gs();n(Array.isArray(h==null?void 0:h.estates)?h.estates:[])}u.useEffect(()=>{v().catch(h=>i(h.message??"Failed to load estates"))},[]),u.useEffect(()=>{let h=!0;async function p(){if(s.length!==0)try{const b=await Promise.all(s.map(async C=>{const P=await bc(C.id);return[C.id,P]}));if(!h)return;l(Object.fromEntries(b))}catch{}}return p(),()=>{h=!1}},[s]);async function k(h){h.preventDefault(),x(!0),i(""),c("");try{const p=await Sb({name:e});c(`Estate created: ${(p==null?void 0:p.name)??e}`),t(""),await v()}catch(p){i(p.message??"Failed to create estate")}finally{x(!1)}}const S=u.useMemo(()=>s.map(h=>{const b=(a[h.id]??[]).find(C=>C.active!==!1)??null;return{...h,sharedQr:b}}),[s,a]);async function g(h){y(h),i(""),c("");try{const p=await yh(h);c(`Estate QR created: ${(p==null?void 0:p.qrId)??"ready"}`);const b=await bc(h);l(C=>({...C,[h]:b}))}catch(p){i(p.message??"Failed to create estate QR")}finally{y("")}}return r.jsxs(ce,{title:"Create Estate",children:[o?r.jsx("div",{className:"mb-4 rounded-xl border border-danger/30 bg-danger/10 px-4 py-3 text-sm text-danger",children:o}):null,d?r.jsx("div",{className:"mb-4 rounded-xl border border-success/30 bg-success/10 px-4 py-3 text-sm text-success",children:d}):null,r.jsxs("section",{className:"rounded-2xl border border-slate-200 bg-white/90 p-4 shadow-soft dark:border-slate-800 dark:bg-slate-900/80 sm:p-5",children:[r.jsx("h2",{className:"font-heading text-lg font-bold sm:text-xl",children:"Create Estate"}),r.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Built for multi-home estates with central control and audit-ready workflows."}),r.jsxs("form",{className:"mt-4 grid gap-3 sm:grid-cols-[1fr_auto]",onSubmit:k,children:[r.jsx("input",{type:"text",value:e,onChange:h=>t(h.target.value),placeholder:"Estate name",className:"rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm outline-none ring-brand-300 focus:ring-2 dark:border-slate-700 dark:bg-slate-900",required:!0}),r.jsx("button",{type:"submit",disabled:f,className:"rounded-lg bg-slate-900 px-4 py-2 text-sm font-semibold text-white disabled:opacity-50 dark:bg-white dark:text-slate-900",children:f?"Creating...":"Create"})]})]}),r.jsxs("section",{className:"mt-4 rounded-2xl border border-slate-200 bg-white/90 p-4 shadow-soft dark:border-slate-800 dark:bg-slate-900/80 sm:p-5",children:[r.jsx("h2",{className:"font-heading text-lg font-bold sm:text-xl",children:"Your Estates"}),r.jsxs("div",{className:"mt-3 grid gap-3 sm:grid-cols-2",children:[S.map(h=>r.jsxs("article",{className:"rounded-xl border border-slate-200 bg-slate-50 p-3 dark:border-slate-700 dark:bg-slate-800",children:[r.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-2",children:[r.jsxs("div",{className:"min-w-0",children:[r.jsx("p",{className:"truncate font-semibold",children:h.name}),r.jsx("p",{className:"truncate text-xs text-slate-500",children:h.id})]}),r.jsx("button",{type:"button",onClick:()=>g(h.id),disabled:m===h.id,className:"rounded-lg bg-slate-900 px-3 py-2 text-xs font-semibold text-white disabled:opacity-50 dark:bg-white dark:text-slate-900",children:m===h.id?"Generating...":h.sharedQr?"Regenerate QR":"Generate QR"})]}),r.jsxs("div",{className:"mt-3 rounded-lg border border-slate-200 bg-white p-3 dark:border-slate-700 dark:bg-slate-900",children:[r.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Estate QR (Shared)"}),h.sharedQr?r.jsxs("div",{className:"mt-2 space-y-1",children:[r.jsx("p",{className:"text-sm font-semibold",children:h.sharedQr.qrId}),r.jsxs("p",{className:"text-xs text-slate-500",children:["Doors: ",h.sharedQr.doorCount??"-"]}),r.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[r.jsx("a",{href:h.sharedQr.scanUrl,className:"rounded-lg border border-slate-300 px-3 py-2 text-xs font-semibold dark:border-slate-700",children:"Open Scan Page"}),r.jsx("button",{type:"button",onClick:()=>zb(`${window.location.origin}${h.sharedQr.scanUrl}`),className:"rounded-lg border border-slate-300 px-3 py-2 text-xs font-semibold dark:border-slate-700",children:"Copy Link"})]}),r.jsx("p",{className:"mt-2 text-[11px] text-slate-500",children:"This QR is a selector QR: it can route visitors to any door in the estate."})]}):r.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Not generated yet. You need at least 1 home and 1 door in this estate before generating."})]})]},h.id)),S.length===0?r.jsx("p",{className:"text-sm text-slate-500",children:"No estates created yet."}):null]})]})]})}async function zb(e){try{await navigator.clipboard.writeText(e),window.dispatchEvent(new CustomEvent("qring:toast",{detail:{message:"Copied"}}))}catch{}}function ur(e,t=140){return`https://api.qrserver.com/v1/create-qr-code/?size=${t}x${t}&data=${encodeURIComponent(e)}`}function Ub(){const[e,t]=u.useState(null),[s,n]=u.useState(""),[a,l]=u.useState(""),[o,i]=u.useState(!1),[d,c]=u.useState(!1),[f,x]=u.useState(null),[m,y]=u.useState(null),[v,k]=u.useState(""),[S,g]=u.useState(!1),[h,p]=u.useState({doorName:"",homeownerName:"",homeownerEmail:"",newPassword:""}),[b,C]=u.useState({estateId:"",homeId:"",name:"",homeName:"",homeownerFullName:"",homeownerUsername:"",homeownerPassword:""});async function P(){var H,M;const L=await Gs();t(L),!b.estateId&&((H=L==null?void 0:L.estates)!=null&&H.length)&&C(D=>({...D,estateId:L.estates[0].id})),!b.homeId&&((M=L==null?void 0:L.homes)!=null&&M.length)&&C(D=>({...D,homeId:L.homes[0].id}))}u.useEffect(()=>{P().catch(L=>n(L.message??"Failed to load door data"))},[]);const _=u.useMemo(()=>((e==null?void 0:e.homes)??[]).filter(L=>!b.estateId||L.estateId===b.estateId),[e,b.estateId]),N=u.useMemo(()=>(e==null?void 0:e.doors)??[],[e]);async function T(L){var H,M,D,z,Y;L.preventDefault(),i(!0),n(""),l(""),x(null);try{if(d){const w=await Pb({estateId:b.estateId,homeName:b.homeName,doorName:b.name,homeownerFullName:b.homeownerFullName,homeownerUsername:b.homeownerUsername,homeownerPassword:b.homeownerPassword});(H=w==null?void 0:w.qr)!=null&&H.qrId&&x({qrId:w.qr.qrId,scanUrl:`${window.location.origin}/scan/${w.qr.qrId}`,doorName:((M=w==null?void 0:w.door)==null?void 0:M.name)??b.name}),l(`Door created and linked to ${((D=w==null?void 0:w.homeowner)==null?void 0:D.username)??"homeowner"}.`)}else{const w=await Eb({estateId:b.estateId,homeId:b.homeId,name:b.name,generateQr:!0,mode:"direct",plan:"single"});(z=w==null?void 0:w.qr)!=null&&z.qrId&&x({qrId:w.qr.qrId,scanUrl:`${window.location.origin}/scan/${w.qr.qrId}`,doorName:((Y=w==null?void 0:w.door)==null?void 0:Y.name)??b.name}),l("Door created successfully.")}C(w=>({...w,name:"",homeName:"",homeownerFullName:"",homeownerUsername:"",homeownerPassword:""})),await P()}catch(w){n(w.message??"Failed to create door")}finally{i(!1)}}async function A(){if(b.estateId){n(""),l("");try{const L=await yh(b.estateId);y({...L,fullScanUrl:`${window.location.origin}${L.scanUrl}`}),l("Estate shared QR generated. Visitors can pick a door after scanning."),await P()}catch(L){n(L.message??"Failed to generate estate shared QR")}}}async function I(L){if(L.preventDefault(),!!v){g(!0),n(""),l("");try{const H={doorName:h.doorName||void 0,homeownerName:h.homeownerName||void 0,homeownerEmail:h.homeownerEmail||void 0,newPassword:h.newPassword||void 0};await Ob(v,H),l("Door admin profile updated successfully."),k(""),p({doorName:"",homeownerName:"",homeownerEmail:"",newPassword:""}),await P()}catch(H){n(H.message??"Failed to update door admin profile")}finally{g(!1)}}}function Q(L){k(L.id),p({doorName:L.name??"",homeownerName:L.homeownerName??"",homeownerEmail:L.homeownerEmail??"",newPassword:""})}function W(L,H){const M=`${window.location.origin}/scan/${H}`,D=`
      <html>
        <head>
          <title>Print Door QR</title>
          <style>
            body{font-family:Arial,sans-serif;padding:24px}
            .card{width:340px;border:1px solid #cbd5e1;border-radius:16px;padding:16px}
            .title{font-size:14px;font-weight:700;text-align:center;margin-bottom:8px}
            .meta{font-size:12px;color:#475569;text-align:center;margin-bottom:8px}
            .qr{display:block;width:280px;height:280px;margin:0 auto;background:#fff;padding:8px;border-radius:10px}
            .url{font-size:10px;color:#64748b;text-align:center;margin-top:8px;word-break:break-all}
          </style>
        </head>
        <body>
          <div class="card">
            <div class="title">${L.name}</div>
            <div class="meta">${L.homeName||""}</div>
            <img class="qr" src="${ur(M,280)}" alt="QR" />
            <div class="url">${M}</div>
          </div>
          <script>window.onload = () => window.print();<\/script>
        </body>
      </html>
    `,z=window.open("","_blank","width=720,height=860");z&&(z.document.open(),z.document.write(D),z.document.close())}async function pe(L){const H=`${L.loginLink}?email=${encodeURIComponent(L.homeownerEmail||"")}`,M=`Homeowner: ${L.homeownerName||"N/A"}
Email: ${L.homeownerEmail||"N/A"}
Login: ${H}`;try{await navigator.clipboard.writeText(M),l(`Login details copied for ${L.name}.`),n("")}catch{n("Unable to copy login details. Please copy manually.")}}function he(){var z;if(!m)return;const L=((z=((e==null?void 0:e.estates)??[]).find(Y=>Y.id===b.estateId))==null?void 0:z.name)??"Estate Entry",H=ur(m.fullScanUrl,300),M=`
      <html>
        <head>
          <title>Print Shared Estate QR</title>
          <style>
            body{font-family:Inter,Arial,sans-serif;padding:24px;background:#fff;color:#0f172a}
            .card{width:380px;border:1px solid #cbd5e1;border-radius:18px;padding:18px}
            .brand{display:flex;align-items:center;gap:10px;margin-bottom:8px}
            .logo{width:30px;height:30px;border-radius:9px;background:#0f172a;color:#fff;display:grid;place-items:center;font-weight:800}
            .name{font-size:18px;font-weight:800}
            .subtitle{font-size:12px;color:#475569;margin-bottom:10px}
            .title{font-size:12px;text-transform:uppercase;letter-spacing:.08em;color:#334155;text-align:center;margin:8px 0}
            .qr{display:block;width:320px;height:320px;margin:0 auto;background:#fff;padding:10px;border-radius:12px;border:1px solid #e2e8f0}
            .steps{margin-top:10px;font-size:11px;color:#475569;line-height:1.5}
            .url{font-size:10px;color:#64748b;text-align:center;margin-top:8px;word-break:break-all}
          </style>
        </head>
        <body>
          <div class="card">
            <div class="brand">
              <div class="logo">Q</div>
              <div>
                <div class="name">Qring</div>
                <div class="subtitle">${L}</div>
              </div>
            </div>
            <div class="title">Shared Estate Access QR</div>
            <img class="qr" src="${H}" alt="Shared Estate QR" />
            <div class="steps">
              1. Visitor scans this QR<br/>
              2. Selects door from list<br/>
              3. Sends request to specific homeowner
            </div>
            <div class="url">${m.fullScanUrl}</div>
          </div>
          <script>window.onload = () => window.print();<\/script>
        </body>
      </html>
    `,D=window.open("","_blank","width=760,height=900");D&&(D.document.open(),D.document.write(M),D.document.close())}return r.jsxs(ce,{title:"Estate Doors",children:[s?r.jsx("div",{className:"mb-4 rounded-xl border border-danger/30 bg-danger/10 px-4 py-3 text-sm text-danger",children:s}):null,a?r.jsx("div",{className:"mb-4 rounded-xl border border-success/30 bg-success/10 px-4 py-3 text-sm text-success",children:a}):null,r.jsxs("section",{className:"rounded-2xl border border-slate-200 bg-white/90 p-4 shadow-soft dark:border-slate-800 dark:bg-slate-900/80 sm:p-5",children:[r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"font-heading text-lg font-bold sm:text-xl",children:"Create Door"}),r.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Create doors and provision homeowner login in one flow."})]}),r.jsx("button",{type:"button",onClick:()=>c(L=>!L),className:"rounded-lg border border-slate-300 px-3 py-2 text-xs font-semibold dark:border-slate-700",children:d?"Use Existing Homeowner":"Provision New Homeowner Login"})]}),r.jsxs("form",{onSubmit:T,className:"mt-4 grid gap-3 md:grid-cols-2",children:[r.jsx(yc,{label:"Estate",value:b.estateId,onChange:L=>C(H=>({...H,estateId:L})),options:((e==null?void 0:e.estates)??[]).map(L=>({value:L.id,label:L.name}))}),d?r.jsxs("label",{className:"block",children:[r.jsx("span",{className:"mb-1 block text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Home Name"}),r.jsx("input",{value:b.homeName,onChange:L=>C(H=>({...H,homeName:L.target.value})),className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm dark:border-slate-700 dark:bg-slate-900",required:!0})]}):r.jsx(yc,{label:"Home",value:b.homeId,onChange:L=>C(H=>({...H,homeId:L})),options:_.map(L=>({value:L.id,label:`${L.name} (${L.homeownerName||"No homeowner"})`}))}),r.jsxs("label",{className:"block",children:[r.jsx("span",{className:"mb-1 block text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Door Name"}),r.jsx("input",{value:b.name,onChange:L=>C(H=>({...H,name:L.target.value})),className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm dark:border-slate-700 dark:bg-slate-900",required:!0})]}),d?r.jsxs(r.Fragment,{children:[r.jsxs("label",{className:"block",children:[r.jsx("span",{className:"mb-1 block text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Homeowner Full Name"}),r.jsx("input",{value:b.homeownerFullName,onChange:L=>C(H=>({...H,homeownerFullName:L.target.value})),className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm dark:border-slate-700 dark:bg-slate-900",required:!0})]}),r.jsxs("label",{className:"block",children:[r.jsx("span",{className:"mb-1 block text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Username"}),r.jsx("input",{value:b.homeownerUsername,onChange:L=>C(H=>({...H,homeownerUsername:L.target.value})),className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm dark:border-slate-700 dark:bg-slate-900",required:!0})]}),r.jsxs("label",{className:"block",children:[r.jsx("span",{className:"mb-1 block text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Password"}),r.jsx("input",{type:"password",value:b.homeownerPassword,onChange:L=>C(H=>({...H,homeownerPassword:L.target.value})),className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm dark:border-slate-700 dark:bg-slate-900",required:!0})]})]}):null,r.jsx("button",{type:"submit",disabled:o,className:"rounded-lg bg-slate-900 px-4 py-2 text-sm font-semibold text-white disabled:opacity-50 dark:bg-white dark:text-slate-900",children:o?"Saving...":"Create Door"})]})]}),f?r.jsxs("section",{className:"mt-4 rounded-2xl border border-slate-200 bg-white/90 p-4 shadow-soft dark:border-slate-800 dark:bg-slate-900/80",children:[r.jsx("h3",{className:"font-heading text-base font-bold",children:"Generated QR"}),r.jsx("p",{className:"text-xs text-slate-500",children:f.doorName}),r.jsxs("div",{className:"mt-3 inline-flex flex-col items-center rounded-xl border border-slate-200 bg-slate-50 p-3 dark:border-slate-700 dark:bg-slate-800",children:[r.jsx("img",{src:ur(f.scanUrl,180),alt:f.qrId,className:"h-44 w-44 rounded bg-white p-2"}),r.jsx("p",{className:"mt-2 text-xs font-semibold",children:f.qrId})]})]}):null,r.jsxs("section",{className:"mt-4 rounded-2xl border border-slate-200 bg-white/90 p-4 shadow-soft dark:border-slate-800 dark:bg-slate-900/80",children:[r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-heading text-base font-bold",children:"Estate Shared Entry QR"}),r.jsx("p",{className:"text-xs text-slate-500",children:"One QR for the estate. Visitors scan, pick door, then request access."})]}),r.jsx("button",{type:"button",onClick:A,className:"rounded-lg bg-slate-900 px-3 py-2 text-xs font-semibold text-white dark:bg-white dark:text-slate-900",children:"Generate Shared QR"})]}),m?r.jsxs("div",{className:"mt-3 inline-flex flex-col items-center rounded-xl border border-slate-200 bg-slate-50 p-3 dark:border-slate-700 dark:bg-slate-800",children:[r.jsx("img",{src:ur(m.fullScanUrl,180),alt:m.qrId,className:"h-44 w-44 rounded bg-white p-2"}),r.jsx("p",{className:"mt-2 text-xs font-semibold",children:m.qrId}),r.jsx("p",{className:"text-[11px] text-slate-500",children:m.fullScanUrl}),r.jsx("button",{type:"button",onClick:he,className:"mt-3 rounded-lg bg-slate-900 px-3 py-2 text-xs font-semibold text-white dark:bg-white dark:text-slate-900",children:"Print Shared Estate QR"})]}):null]}),r.jsxs("section",{className:"mt-4",children:[r.jsx("h3",{className:"mb-3 font-heading text-lg font-bold",children:"Doors Created"}),r.jsxs("div",{className:"grid gap-3 md:grid-cols-2 2xl:grid-cols-3",children:[N.map(L=>{var D,z;const H=(D=L.qr)==null?void 0:D[0],M=`${L.loginLink}?email=${encodeURIComponent(L.homeownerEmail||"")}`;return r.jsxs("article",{className:"rounded-2xl border border-slate-200 bg-white/90 p-4 shadow-soft dark:border-slate-800 dark:bg-slate-900/80",children:[r.jsxs("div",{className:"flex items-start justify-between gap-2",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-heading text-lg font-bold",children:L.name}),r.jsxs("p",{className:"text-xs text-slate-500",children:[L.homeName," | ",L.state]})]}),r.jsx("button",{type:"button",onClick:()=>Q(L),className:"rounded-lg border border-slate-300 px-2 py-1 text-xs font-semibold dark:border-slate-700",children:"Admin Profile"})]}),r.jsxs("p",{className:"mt-2 text-xs text-slate-500",children:["Homeowner: ",L.homeownerName||"N/A"]}),r.jsxs("p",{className:"text-xs text-slate-500",children:["Email: ",L.homeownerEmail||"N/A"]}),r.jsx("a",{href:M,target:"_blank",rel:"noreferrer",className:"mt-2 inline-block text-xs font-semibold text-brand-600 dark:text-brand-300",children:"Estate Homeowner Login Link"}),r.jsx("div",{className:"mt-2",children:r.jsx("button",{type:"button",onClick:()=>pe(L),className:"rounded-lg border border-slate-300 px-2.5 py-1.5 text-xs font-semibold dark:border-slate-700",children:"Copy Login Details"})}),r.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[(z=L.qr)!=null&&z.length?L.qr.map(Y=>r.jsxs("button",{type:"button",onClick:()=>W(L,Y),className:"rounded-lg border border-slate-200 bg-slate-50 px-2 py-1 text-xs font-semibold dark:border-slate-700 dark:bg-slate-800",children:["Print ",Y]},`${L.id}-${Y}`)):r.jsx("span",{className:"text-xs text-slate-500",children:"No QR yet"}),H?r.jsx("img",{src:ur(`${window.location.origin}/scan/${H}`,64),alt:H,className:"h-12 w-12 rounded border border-slate-200 bg-white p-1 dark:border-slate-700"}):null]})]},L.id)}),N.length===0?r.jsx("p",{className:"text-sm text-slate-500",children:"No doors created yet."}):null]})]}),v?r.jsxs("section",{className:"mt-4 rounded-2xl border border-slate-200 bg-white/90 p-4 shadow-soft dark:border-slate-800 dark:bg-slate-900/80 sm:p-5",children:[r.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[r.jsx("h3",{className:"font-heading text-lg font-bold",children:"Door Admin Profile"}),r.jsx("button",{type:"button",onClick:()=>k(""),className:"rounded-lg border border-slate-300 px-2 py-1 text-xs font-semibold dark:border-slate-700",children:"Close"})]}),r.jsxs("form",{onSubmit:I,className:"grid gap-3 md:grid-cols-2",children:[r.jsxs("label",{className:"block",children:[r.jsx("span",{className:"mb-1 block text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Door Name"}),r.jsx("input",{value:h.doorName,onChange:L=>p(H=>({...H,doorName:L.target.value})),className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm dark:border-slate-700 dark:bg-slate-900"})]}),r.jsxs("label",{className:"block",children:[r.jsx("span",{className:"mb-1 block text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Homeowner Name"}),r.jsx("input",{value:h.homeownerName,onChange:L=>p(H=>({...H,homeownerName:L.target.value})),className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm dark:border-slate-700 dark:bg-slate-900"})]}),r.jsxs("label",{className:"block",children:[r.jsx("span",{className:"mb-1 block text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Homeowner Email"}),r.jsx("input",{type:"email",value:h.homeownerEmail,onChange:L=>p(H=>({...H,homeownerEmail:L.target.value})),className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm dark:border-slate-700 dark:bg-slate-900"})]}),r.jsxs("label",{className:"block",children:[r.jsx("span",{className:"mb-1 block text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Change Password"}),r.jsx("input",{type:"password",value:h.newPassword,onChange:L=>p(H=>({...H,newPassword:L.target.value})),className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm dark:border-slate-700 dark:bg-slate-900",placeholder:"Leave empty to keep current password"})]}),r.jsx("button",{type:"submit",disabled:S,className:"rounded-lg bg-slate-900 px-4 py-2 text-sm font-semibold text-white disabled:opacity-50 dark:bg-white dark:text-slate-900",children:S?"Updating...":"Update Admin Profile"})]})]}):null]})}function yc({label:e,value:t,onChange:s,options:n}){return r.jsxs("label",{className:"block",children:[r.jsx("span",{className:"mb-1 block text-xs font-semibold uppercase tracking-wide text-slate-500",children:e}),r.jsxs("select",{value:t,onChange:a=>s(a.target.value),className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm dark:border-slate-700 dark:bg-slate-900",required:!0,children:[n.length===0?r.jsx("option",{value:"",children:"No options available"}):null,n.map(a=>r.jsx("option",{value:a.value,children:a.label},a.value))]})]})}function $b(){const[e,t]=u.useState(null),[s,n]=u.useState({doorId:"",homeownerId:""}),[a,l]=u.useState(""),[o,i]=u.useState(""),[d,c]=u.useState(!1);async function f(){var y,v;const m=await Gs();t(m),!s.doorId&&((y=m==null?void 0:m.doors)!=null&&y.length)&&n(k=>({...k,doorId:m.doors[0].id})),!s.homeownerId&&((v=m==null?void 0:m.homeowners)!=null&&v.length)&&n(k=>({...k,homeownerId:m.homeowners[0].id}))}u.useEffect(()=>{f().catch(m=>l(m.message??"Failed to load assignment data"))},[]);async function x(m){m.preventDefault(),c(!0),l(""),i("");try{await _b(s.doorId,s.homeownerId),i("Door assigned to homeowner."),await f()}catch(y){l(y.message??"Failed to assign door")}finally{c(!1)}}return r.jsxs(ce,{title:"Assign Doors",children:[a?r.jsx("div",{className:"mb-4 rounded-xl border border-danger/30 bg-danger/10 px-4 py-3 text-sm text-danger",children:a}):null,o?r.jsx("div",{className:"mb-4 rounded-xl border border-success/30 bg-success/10 px-4 py-3 text-sm text-success",children:o}):null,r.jsxs("section",{className:"rounded-2xl border border-slate-200 bg-white/90 p-4 shadow-soft dark:border-slate-800 dark:bg-slate-900/80 sm:p-5",children:[r.jsx("h2",{className:"font-heading text-lg font-bold sm:text-xl",children:"Assign Doors To Homeowners"}),r.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Built for multi-home estates with central control and audit-ready workflows."}),r.jsxs("form",{onSubmit:x,className:"mt-4 grid gap-3 md:grid-cols-2",children:[r.jsx(vc,{label:"Door",value:s.doorId,onChange:m=>n(y=>({...y,doorId:m})),options:((e==null?void 0:e.doors)??[]).map(m=>({value:m.id,label:m.name}))}),r.jsx(vc,{label:"Homeowner",value:s.homeownerId,onChange:m=>n(y=>({...y,homeownerId:m})),options:((e==null?void 0:e.homeowners)??[]).map(m=>({value:m.id,label:`${m.fullName} (${m.email})`}))}),r.jsx("button",{type:"submit",disabled:d,className:"rounded-lg bg-slate-900 px-4 py-2 text-sm font-semibold text-white disabled:opacity-50 dark:bg-white dark:text-slate-900",children:d?"Assigning...":"Assign Door"})]})]})]})}function vc({label:e,value:t,onChange:s,options:n}){return r.jsxs("label",{className:"block",children:[r.jsx("span",{className:"mb-1 block text-xs font-semibold uppercase tracking-wide text-slate-500",children:e}),r.jsxs("select",{value:t,onChange:a=>s(a.target.value),className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm dark:border-slate-700 dark:bg-slate-900",required:!0,children:[n.length===0?r.jsx("option",{value:"",children:"No options available"}):null,n.map(a=>r.jsx("option",{value:a.value,children:a.label},a.value))]})]})}function Fb(){const[e,t]=u.useState([]),[s,n]=u.useState(""),[a,l]=u.useState(""),[o,i]=u.useState("");async function d(){const f=await Gs();t(Array.isArray(f==null?void 0:f.homeowners)?f.homeowners:[])}u.useEffect(()=>{d().catch(f=>n(f.message??"Failed to load homeowners"))},[]);async function c(f){i(f),n(""),l("");try{const x=await Rb(f);l(`Invite sent. Token: ${(x==null?void 0:x.inviteToken)??"-"}`)}catch(x){n(x.message??"Failed to send invite")}finally{i("")}}return r.jsxs(ce,{title:"Invite Homeowners",children:[s?r.jsx("div",{className:"mb-4 rounded-xl border border-danger/30 bg-danger/10 px-4 py-3 text-sm text-danger",children:s}):null,a?r.jsx("div",{className:"mb-4 rounded-xl border border-success/30 bg-success/10 px-4 py-3 text-sm text-success",children:a}):null,r.jsxs("section",{className:"rounded-2xl border border-slate-200 bg-white/90 p-4 shadow-soft dark:border-slate-800 dark:bg-slate-900/80 sm:p-5",children:[r.jsx("h2",{className:"font-heading text-lg font-bold sm:text-xl",children:"Invite Homeowners"}),r.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Built for multi-home estates with central control and audit-ready workflows."})]}),r.jsxs("section",{className:"mt-4 grid gap-3 sm:grid-cols-2",children:[e.map(f=>r.jsxs("article",{className:"rounded-2xl border border-slate-200 bg-white/90 p-4 shadow-soft dark:border-slate-800 dark:bg-slate-900/80",children:[r.jsx("p",{className:"font-semibold",children:f.fullName}),r.jsx("p",{className:"text-xs text-slate-500",children:f.email}),r.jsx("button",{type:"button",onClick:()=>c(f.id),disabled:o===f.id,className:"mt-3 rounded-lg bg-slate-900 px-3 py-2 text-xs font-semibold text-white disabled:opacity-50 dark:bg-white dark:text-slate-900",children:o===f.id?"Sending...":"Send Invite"})]},f.id)),e.length===0?r.jsx("p",{className:"text-sm text-slate-500",children:"No homeowners available yet."}):null]})]})}function qb(){const[e,t]=u.useState([]),[s,n]=u.useState("");return u.useEffect(()=>{let a=!0;async function l(){try{const o=await Tb();if(!a)return;t(o)}catch(o){if(!a)return;n(o.message??"Failed to load mappings")}}return l(),()=>{a=!1}},[]),r.jsxs(ce,{title:"Door Mappings",children:[s?r.jsx("div",{className:"mb-4 rounded-xl border border-danger/30 bg-danger/10 px-4 py-3 text-sm text-danger",children:s}):null,r.jsxs("section",{className:"rounded-2xl border border-slate-200 bg-white/90 p-4 shadow-soft dark:border-slate-800 dark:bg-slate-900/80 sm:p-5",children:[r.jsx("h2",{className:"font-heading text-lg font-bold sm:text-xl",children:"Manage Door Mappings"}),r.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Built for multi-home estates with central control and audit-ready workflows."})]}),r.jsxs("section",{className:"mt-4 space-y-3",children:[e.map(a=>{var l;return r.jsxs("article",{className:"rounded-2xl border border-slate-200 bg-white/90 p-4 shadow-soft dark:border-slate-800 dark:bg-slate-900/80",children:[r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-heading text-lg font-bold",children:a.homeName}),r.jsxs("p",{className:"text-xs text-slate-500",children:[a.homeownerName," | ",a.homeownerEmail]})]}),r.jsxs("span",{className:"rounded-full bg-slate-100 px-3 py-1 text-xs font-semibold dark:bg-slate-800",children:[((l=a.doors)==null?void 0:l.length)??0," doors"]})]}),r.jsx("div",{className:"mt-3 grid gap-2 sm:grid-cols-2",children:(a.doors??[]).map(o=>r.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3 dark:border-slate-700 dark:bg-slate-800",children:[r.jsx("p",{className:"text-sm font-semibold",children:o.name}),r.jsxs("p",{className:"mt-1 text-xs text-slate-500",children:["QR: ",(o.qr??[]).join(", ")||"None"]})]},o.id))})]},a.homeId)}),e.length===0?r.jsx("p",{className:"text-sm text-slate-500",children:"No mappings created yet."}):null]})]})}function Qb(){const[e,t]=u.useState([]),[s,n]=u.useState("");return u.useEffect(()=>{let a=!0;async function l(){try{const o=await Ab();if(!a)return;t(o)}catch(o){if(!a)return;n(o.message??"Failed to load access logs")}}return l(),()=>{a=!1}},[]),r.jsxs(ce,{title:"Access Logs",children:[s?r.jsx("div",{className:"mb-4 rounded-xl border border-danger/30 bg-danger/10 px-4 py-3 text-sm text-danger",children:s}):null,r.jsxs("section",{className:"rounded-2xl border border-slate-200 bg-white/90 p-4 shadow-soft dark:border-slate-800 dark:bg-slate-900/80 sm:p-5",children:[r.jsx("h2",{className:"font-heading text-lg font-bold sm:text-xl",children:"View Access Logs"}),r.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Built for multi-home estates with central control and audit-ready workflows."})]}),r.jsxs("section",{className:"mt-4 space-y-3",children:[e.map(a=>r.jsxs("article",{className:"rounded-2xl border border-slate-200 bg-white/90 p-4 shadow-soft dark:border-slate-800 dark:bg-slate-900/80",children:[r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[r.jsx("p",{className:"font-semibold",children:a.visitor}),r.jsx("span",{className:"rounded-full bg-slate-100 px-2 py-1 text-xs font-semibold uppercase dark:bg-slate-800",children:a.status})]}),r.jsxs("p",{className:"mt-1 text-xs text-slate-500",children:[a.doorName," | ",a.homeName]}),r.jsxs("p",{className:"mt-1 text-xs text-slate-500",children:["Started: ",new Date(a.startedAt).toLocaleString()]})]},a.id)),e.length===0?r.jsx("p",{className:"text-sm text-slate-500",children:"No access logs yet."}):null]})]})}function Hb(){const[e,t]=u.useState(null),[s,n]=u.useState("");u.useEffect(()=>{let o=!0;async function i(){try{const d=await Lb();if(!o)return;t(d)}catch(d){if(!o)return;n(d.message??"Failed to load plan restrictions")}}return i(),()=>{o=!1}},[]);const a=e!=null&&e.maxDoors?Math.min(Math.round(e.usedDoors/e.maxDoors*100),100):0,l=e!=null&&e.maxQrCodes?Math.min(Math.round(e.usedQrCodes/e.maxQrCodes*100),100):0;return r.jsxs(ce,{title:"Plan Restrictions",children:[s?r.jsx("div",{className:"mb-4 rounded-xl border border-danger/30 bg-danger/10 px-4 py-3 text-sm text-danger",children:s}):null,r.jsxs("section",{className:"rounded-2xl border border-slate-200 bg-white/90 p-4 shadow-soft dark:border-slate-800 dark:bg-slate-900/80 sm:p-5",children:[r.jsx("h2",{className:"font-heading text-lg font-bold sm:text-xl",children:"Plan Restrictions"}),r.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Built for multi-home estates with central control and audit-ready workflows."}),e?r.jsxs("div",{className:"mt-4 space-y-4",children:[r.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-3 dark:border-slate-700 dark:bg-slate-800",children:[r.jsxs("p",{className:"text-sm font-semibold",children:["Plan: ",e.plan]}),r.jsxs("p",{className:"text-xs text-slate-500",children:["Status: ",e.status]})]}),r.jsx(kc,{label:`Doors ${e.usedDoors}/${e.maxDoors}`,percent:a}),r.jsx(kc,{label:`QR Codes ${e.usedQrCodes}/${e.maxQrCodes}`,percent:l})]}):r.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Loading restrictions..."})]})]})}function kc({label:e,percent:t}){return r.jsxs("div",{children:[r.jsxs("div",{className:"mb-1 flex items-center justify-between text-xs font-semibold text-slate-500",children:[r.jsx("span",{children:e}),r.jsxs("span",{children:[t,"%"]})]}),r.jsx("div",{className:"h-2 rounded-full bg-slate-200 dark:bg-slate-700",children:r.jsx("div",{className:"h-2 rounded-full bg-slate-900 dark:bg-slate-100",style:{width:`${t}%`}})})]})}function Vb(){const[e,t]=u.useState(null),[s,n]=u.useState({estateId:"",name:"",homeownerId:""}),[a,l]=u.useState(""),[o,i]=u.useState(""),[d,c]=u.useState(!1);async function f(){var y,v;const m=await Gs();t(m),!s.estateId&&((y=m==null?void 0:m.estates)!=null&&y.length)&&n(k=>({...k,estateId:m.estates[0].id})),!s.homeownerId&&((v=m==null?void 0:m.homeowners)!=null&&v.length)&&n(k=>({...k,homeownerId:m.homeowners[0].id}))}u.useEffect(()=>{f().catch(m=>l(m.message??"Failed to load homes"))},[]);async function x(m){m.preventDefault(),c(!0),l(""),i("");try{await Cb(s),i("Home added successfully."),n(y=>({...y,name:""})),await f()}catch(y){l(y.message??"Failed to add home")}finally{c(!1)}}return r.jsxs(ce,{title:"Multi-Home Support",children:[a?r.jsx("div",{className:"mb-4 rounded-xl border border-danger/30 bg-danger/10 px-4 py-3 text-sm text-danger",children:a}):null,o?r.jsx("div",{className:"mb-4 rounded-xl border border-success/30 bg-success/10 px-4 py-3 text-sm text-success",children:o}):null,r.jsxs("section",{className:"rounded-2xl border border-slate-200 bg-white/90 p-4 shadow-soft dark:border-slate-800 dark:bg-slate-900/80 sm:p-5",children:[r.jsx("h2",{className:"font-heading text-lg font-bold sm:text-xl",children:"Add Home"}),r.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Built for multi-home estates with central control and audit-ready workflows."}),r.jsxs("form",{onSubmit:x,className:"mt-4 grid gap-3 md:grid-cols-2",children:[r.jsx(wc,{label:"Estate",value:s.estateId,onChange:m=>n(y=>({...y,estateId:m})),options:((e==null?void 0:e.estates)??[]).map(m=>({value:m.id,label:m.name}))}),r.jsx(wc,{label:"Homeowner",value:s.homeownerId,onChange:m=>n(y=>({...y,homeownerId:m})),options:((e==null?void 0:e.homeowners)??[]).map(m=>({value:m.id,label:`${m.fullName} (${m.email})`}))}),r.jsxs("label",{className:"block md:col-span-2",children:[r.jsx("span",{className:"mb-1 block text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Home Name"}),r.jsx("input",{value:s.name,onChange:m=>n(y=>({...y,name:m.target.value})),className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm dark:border-slate-700 dark:bg-slate-900",required:!0})]}),r.jsx("button",{type:"submit",disabled:d,className:"rounded-lg bg-slate-900 px-4 py-2 text-sm font-semibold text-white disabled:opacity-50 dark:bg-white dark:text-slate-900",children:d?"Saving...":"Add Home"})]})]}),r.jsx("section",{className:"mt-4 grid gap-3 sm:grid-cols-2",children:((e==null?void 0:e.homes)??[]).map(m=>r.jsxs("article",{className:"rounded-xl border border-slate-200 bg-white/90 p-4 shadow-soft dark:border-slate-800 dark:bg-slate-900/80",children:[r.jsx("p",{className:"font-semibold",children:m.name}),r.jsx("p",{className:"mt-1 text-xs text-slate-500",children:m.homeownerName||"No homeowner assigned"}),r.jsx("p",{className:"text-xs text-slate-500",children:m.homeownerEmail})]},m.id))})]})}function wc({label:e,value:t,onChange:s,options:n}){return r.jsxs("label",{className:"block",children:[r.jsx("span",{className:"mb-1 block text-xs font-semibold uppercase tracking-wide text-slate-500",children:e}),r.jsxs("select",{value:t,onChange:a=>s(a.target.value),className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm dark:border-slate-700 dark:bg-slate-900",required:!0,children:[n.length===0?r.jsx("option",{value:"",children:"No options available"}):null,n.map(a=>r.jsx("option",{value:a.value,children:a.label},a.value))]})]})}async function vh(){const e=await q("/admin/overview");return(e==null?void 0:e.data)??null}function Wb(){var f,x;const[e,t]=u.useState(null),[s,n]=u.useState(!0),[a,l]=u.useState(""),[o,i]=u.useState("");u.useEffect(()=>{let m=!0;async function y(){n(!0),l("");try{const v=await vh();if(!m)return;t(v)}catch(v){if(!m)return;v instanceof fs&&v.status===404?l("Admin overview endpoint not found (404). Restart the backend server so /api/v1/admin/overview is available."):l(v.message??"Failed to load admin overview")}finally{m&&n(!1)}}return y(),()=>{m=!1}},[]);const d=u.useMemo(()=>{var v;const m=((v=e==null?void 0:e.visits)==null?void 0:v.rows)??[],y=o.trim().toLowerCase();return y?m.filter(k=>[k.visitor,k.homeownerName,k.homeownerEmail,k.estateName,k.doorName,k.status].join(" ").toLowerCase().includes(y)):m},[e,o]),c=(e==null?void 0:e.metrics)??{};return r.jsxs(ce,{title:"Admin Overview",children:[a?r.jsx("div",{className:"mb-4 rounded-xl border border-danger/30 bg-danger/10 px-4 py-3 text-sm text-danger",children:a}):null,r.jsxs("section",{className:"grid gap-3 sm:grid-cols-2 xl:grid-cols-4",children:[r.jsx(En,{label:"Total Homeowners",value:c.totalHomeowners,loading:s}),r.jsx(En,{label:"Total Estates",value:c.totalEstates,loading:s}),r.jsx(En,{label:"Total Visits",value:c.totalVisits,loading:s}),r.jsx(En,{label:"Total Payments",value:s?"...":El(c.totalPaymentAmount),loading:!1})]}),r.jsxs("section",{className:"mt-4 grid gap-4 xl:grid-cols-2",children:[r.jsx(Pn,{title:"Homeowners",loading:s,rows:(e==null?void 0:e.homeowners)??[],columns:[{key:"fullName",label:"Name"},{key:"email",label:"Email"},{key:"homeCount",label:"Homes"},{key:"doorCount",label:"Doors"},{key:"qrCount",label:"QR"},{key:"visits",label:"Visits",render:m=>{var y;return((y=m.visits)==null?void 0:y.total)??0}},{key:"plan",label:"Plan",render:m=>{var y;return((y=m.subscription)==null?void 0:y.plan)??"free"}}]}),r.jsx(Pn,{title:"Estates",loading:s,rows:(e==null?void 0:e.estates)??[],columns:[{key:"fullName",label:"Name"},{key:"email",label:"Email"},{key:"estateCount",label:"Estates"},{key:"homeownerCount",label:"Homeowners"},{key:"doorCount",label:"Doors"},{key:"qrCount",label:"QR"},{key:"plan",label:"Plan",render:m=>{var y;return((y=m.subscription)==null?void 0:y.plan)??"free"}}]})]}),r.jsxs("section",{className:"mt-4 grid gap-4 xl:grid-cols-2",children:[r.jsx(Pn,{title:"Homeowner Payment History",loading:s,rows:((f=e==null?void 0:e.payments)==null?void 0:f.homeownerHistory)??[],columns:[{key:"userName",label:"User"},{key:"userEmail",label:"Email"},{key:"plan",label:"Plan"},{key:"status",label:"Status"},{key:"amount",label:"Amount",render:m=>El(m.amount)},{key:"startsAt",label:"Date",render:m=>Pl(m.startsAt)}]}),r.jsx(Pn,{title:"Estate Payment History",loading:s,rows:((x=e==null?void 0:e.payments)==null?void 0:x.estateHistory)??[],columns:[{key:"userName",label:"User"},{key:"userEmail",label:"Email"},{key:"plan",label:"Plan"},{key:"status",label:"Status"},{key:"amount",label:"Amount",render:m=>El(m.amount)},{key:"startsAt",label:"Date",render:m=>Pl(m.startsAt)}]})]}),r.jsxs("section",{className:"mt-4 rounded-2xl border border-slate-200 bg-white/90 p-4 shadow-soft dark:border-slate-800 dark:bg-slate-900/80 sm:p-5",children:[r.jsxs("div",{className:"mb-3 flex flex-wrap items-center justify-between gap-3",children:[r.jsx("h2",{className:"font-heading text-lg font-bold sm:text-xl",children:"Visits By User"}),r.jsx("input",{value:o,onChange:m=>i(m.target.value),placeholder:"Search visitor, homeowner, estate, door...",className:"w-full max-w-md rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm dark:border-slate-700 dark:bg-slate-900"})]}),s?r.jsx("p",{className:"text-sm text-slate-500",children:"Loading visits..."}):d.length===0?r.jsx("p",{className:"text-sm text-slate-500",children:"No visits found."}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full min-w-[880px] text-left text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-slate-200 text-slate-500 dark:border-slate-700",children:[r.jsx("th",{className:"py-2 font-semibold",children:"Visitor"}),r.jsx("th",{className:"py-2 font-semibold",children:"Status"}),r.jsx("th",{className:"py-2 font-semibold",children:"Homeowner"}),r.jsx("th",{className:"py-2 font-semibold",children:"Estate"}),r.jsx("th",{className:"py-2 font-semibold",children:"Door"}),r.jsx("th",{className:"py-2 font-semibold",children:"Started"})]})}),r.jsx("tbody",{children:d.map(m=>r.jsxs("tr",{className:"border-b border-slate-100 dark:border-slate-800",children:[r.jsx("td",{className:"py-2",children:m.visitor}),r.jsx("td",{className:"py-2",children:m.status}),r.jsx("td",{className:"py-2",children:m.homeownerName||"-"}),r.jsx("td",{className:"py-2",children:m.estateName||"-"}),r.jsx("td",{className:"py-2",children:m.doorName||"-"}),r.jsx("td",{className:"py-2",children:Pl(m.startedAt)})]},m.id))})]})})]})]})}function En({label:e,value:t,loading:s}){return r.jsxs("article",{className:"rounded-2xl border border-slate-200 bg-white/90 p-4 shadow-soft dark:border-slate-800 dark:bg-slate-900/80",children:[r.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:e}),r.jsx("p",{className:"mt-2 text-2xl font-black",children:s?"...":t??0})]})}function Pn({title:e,rows:t,columns:s,loading:n}){return r.jsxs("article",{className:"rounded-2xl border border-slate-200 bg-white/90 p-4 shadow-soft dark:border-slate-800 dark:bg-slate-900/80 sm:p-5",children:[r.jsx("h2",{className:"mb-3 font-heading text-lg font-bold sm:text-xl",children:e}),n?r.jsx("p",{className:"text-sm text-slate-500",children:"Loading..."}):t.length===0?r.jsx("p",{className:"text-sm text-slate-500",children:"No records."}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full min-w-[680px] text-left text-sm",children:[r.jsx("thead",{children:r.jsx("tr",{className:"border-b border-slate-200 text-slate-500 dark:border-slate-700",children:s.map(a=>r.jsx("th",{className:"py-2 font-semibold",children:a.label},a.label))})}),r.jsx("tbody",{children:t.slice(0,200).map(a=>r.jsx("tr",{className:"border-b border-slate-100 dark:border-slate-800",children:s.map(l=>r.jsx("td",{className:"py-2",children:l.render?l.render(a):a[l.key]??"-"},`${a.id}-${l.label}`))},a.id))})]})})]})}function El(e){const t=Number(e||0);return`N${new Intl.NumberFormat("en-NG").format(t)}`}function Pl(e){if(!e)return"-";const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleString()}function Yb(){var x;const[e,t]=u.useState(null),[s,n]=u.useState(!0),[a,l]=u.useState(""),[o,i]=u.useState("");u.useEffect(()=>{let m=!0;async function y(){n(!0),l("");try{const v=await vh();if(!m)return;t(v)}catch(v){if(!m)return;v instanceof fs&&v.status===404?l("Admin overview endpoint not found (404). Restart the backend server so /api/v1/admin/overview is available."):l(v.message??"Failed to load admin payments")}finally{m&&n(!1)}}return y(),()=>{m=!1}},[]);const d=((x=e==null?void 0:e.payments)==null?void 0:x.totalAmount)??0,c=u.useMemo(()=>{var v;const m=((v=e==null?void 0:e.payments)==null?void 0:v.homeownerHistory)??[],y=o.trim().toLowerCase();return y?m.filter(k=>[k.userName,k.userEmail,k.plan,k.status].join(" ").toLowerCase().includes(y)):m},[e,o]),f=u.useMemo(()=>{var v;const m=((v=e==null?void 0:e.payments)==null?void 0:v.estateHistory)??[],y=o.trim().toLowerCase();return y?m.filter(k=>[k.userName,k.userEmail,k.plan,k.status].join(" ").toLowerCase().includes(y)):m},[e,o]);return r.jsxs(ce,{title:"Payments",children:[a?r.jsx("div",{className:"mb-4 rounded-xl border border-danger/30 bg-danger/10 px-4 py-3 text-sm text-danger",children:a}):null,r.jsxs("section",{className:"grid gap-3 sm:grid-cols-2 xl:grid-cols-4",children:[r.jsx(_n,{label:"Total Payments",value:s?"...":kh(d)}),r.jsx(_n,{label:"Homeowner Records",value:s?"...":c.length}),r.jsx(_n,{label:"Estate Records",value:s?"...":f.length}),r.jsx(_n,{label:"Last Updated",value:s?"...":"now"})]}),r.jsxs("section",{className:"mt-4 rounded-2xl border border-slate-200 bg-white/90 p-4 shadow-soft dark:border-slate-800 dark:bg-slate-900/80 sm:p-5",children:[r.jsxs("div",{className:"mb-3 flex flex-wrap items-center justify-between gap-3",children:[r.jsx("h2",{className:"font-heading text-lg font-bold sm:text-xl",children:"Payment History"}),r.jsx("input",{value:o,onChange:m=>i(m.target.value),placeholder:"Search name, email, plan, status...",className:"w-full max-w-md rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm dark:border-slate-700 dark:bg-slate-900"})]}),s?r.jsx("p",{className:"text-sm text-slate-500",children:"Loading payments..."}):r.jsxs("div",{className:"grid gap-4 xl:grid-cols-2",children:[r.jsx(jc,{title:"Homeowner Payments",rows:c}),r.jsx(jc,{title:"Estate Payments",rows:f})]})]})]})}function _n({label:e,value:t}){return r.jsxs("article",{className:"rounded-2xl border border-slate-200 bg-white/90 p-4 shadow-soft dark:border-slate-800 dark:bg-slate-900/80",children:[r.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:e}),r.jsx("p",{className:"mt-2 text-2xl font-black",children:t??0})]})}function jc({title:e,rows:t}){return r.jsxs("article",{className:"rounded-2xl border border-slate-200 bg-white/60 p-4 dark:border-slate-800 dark:bg-slate-950/30",children:[r.jsx("h3",{className:"mb-3 font-heading text-base font-bold",children:e}),t.length===0?r.jsx("p",{className:"text-sm text-slate-500",children:"No records."}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full min-w-[640px] text-left text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-slate-200 text-slate-500 dark:border-slate-700",children:[r.jsx("th",{className:"py-2 font-semibold",children:"User"}),r.jsx("th",{className:"py-2 font-semibold",children:"Email"}),r.jsx("th",{className:"py-2 font-semibold",children:"Plan"}),r.jsx("th",{className:"py-2 font-semibold",children:"Status"}),r.jsx("th",{className:"py-2 font-semibold",children:"Amount"}),r.jsx("th",{className:"py-2 font-semibold",children:"Date"})]})}),r.jsx("tbody",{children:t.slice(0,200).map(s=>r.jsxs("tr",{className:"border-b border-slate-100 dark:border-slate-800",children:[r.jsx("td",{className:"py-2 font-semibold",children:s.userName||"-"}),r.jsx("td",{className:"py-2",children:s.userEmail||"-"}),r.jsx("td",{className:"py-2",children:s.plan||"-"}),r.jsx("td",{className:"py-2",children:s.status||"-"}),r.jsx("td",{className:"py-2",children:kh(s.amount)}),r.jsx("td",{className:"py-2",children:Jb(s.startsAt)})]},s.id))})]})})]})}function kh(e){const t=Number(e||0);return`N${new Intl.NumberFormat("en-NG").format(t)}`}function Jb(e){if(!e)return"-";const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleString()}function Kb(){const[e,t]=u.useState([]),[s,n]=u.useState(!0),[a,l]=u.useState(""),[o,i]=u.useState(""),[d,c]=u.useState(""),[f,x]=u.useState("");u.useEffect(()=>{let v=!0;async function k(){n(!0),l("");try{const S=new URLSearchParams;d&&S.set("role",d),o.trim()&&S.set("q",o.trim());const g=await q(`/admin/users?${S.toString()}`);if(!v)return;t(Array.isArray(g==null?void 0:g.data)?g.data:[])}catch(S){if(!v)return;S instanceof fs&&S.status===404?l("Admin users endpoint not found (404). Restart backend so /api/v1/admin/users is available."):l(S.message??"Failed to load users")}finally{v&&n(!1)}}return k(),()=>{v=!1}},[o,d]);const m=u.useMemo(()=>e,[e]);async function y(v){x(v.id),l("");try{const k=await q(`/admin/users/${encodeURIComponent(v.id)}`,{method:"PATCH",body:JSON.stringify({isActive:!v.active})}),S=(k==null?void 0:k.data)??null;if(!S)return;t(g=>g.map(h=>h.id===S.id?{...h,active:S.active}:h))}catch(k){l(k.message??"Failed to update user")}finally{x("")}}return r.jsxs(ce,{title:"Admin Users",children:[a?r.jsx("div",{className:"mb-4 rounded-xl border border-danger/30 bg-danger/10 px-4 py-3 text-sm text-danger",children:a}):null,r.jsxs("section",{className:"rounded-2xl border border-slate-200 bg-white/90 p-4 shadow-soft dark:border-slate-800 dark:bg-slate-900/80 sm:p-5",children:[r.jsxs("div",{className:"mb-3 flex flex-wrap items-center justify-between gap-3",children:[r.jsx("h2",{className:"font-heading text-lg font-bold sm:text-xl",children:"Users"}),r.jsxs("div",{className:"flex w-full flex-col gap-2 sm:w-auto sm:flex-row sm:items-center",children:[r.jsxs("select",{value:d,onChange:v=>c(v.target.value),className:"rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm dark:border-slate-700 dark:bg-slate-900",children:[r.jsx("option",{value:"",children:"All roles"}),r.jsx("option",{value:"homeowner",children:"Homeowner"}),r.jsx("option",{value:"estate",children:"Estate"}),r.jsx("option",{value:"admin",children:"Admin"})]}),r.jsx("input",{value:o,onChange:v=>i(v.target.value),placeholder:"Search name or email...",className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm dark:border-slate-700 dark:bg-slate-900 sm:w-72"})]})]}),s?r.jsx("p",{className:"text-sm text-slate-500",children:"Loading users..."}):m.length===0?r.jsx("p",{className:"text-sm text-slate-500",children:"No users found."}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full min-w-[820px] text-left text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-slate-200 text-slate-500 dark:border-slate-700",children:[r.jsx("th",{className:"py-2 font-semibold",children:"Name"}),r.jsx("th",{className:"py-2 font-semibold",children:"Email"}),r.jsx("th",{className:"py-2 font-semibold",children:"Role"}),r.jsx("th",{className:"py-2 font-semibold",children:"Active"}),r.jsx("th",{className:"py-2 font-semibold",children:"Created"}),r.jsx("th",{className:"py-2 font-semibold",children:"Action"})]})}),r.jsx("tbody",{children:m.slice(0,300).map(v=>r.jsxs("tr",{className:"border-b border-slate-100 dark:border-slate-800",children:[r.jsx("td",{className:"py-2 font-semibold",children:v.fullName}),r.jsx("td",{className:"py-2",children:v.email}),r.jsx("td",{className:"py-2",children:v.role}),r.jsx("td",{className:"py-2",children:v.active?"Yes":"No"}),r.jsx("td",{className:"py-2",children:Gb(v.createdAt)}),r.jsx("td",{className:"py-2",children:r.jsx("button",{type:"button",disabled:f===v.id,onClick:()=>y(v),className:"rounded-lg border border-slate-300 px-3 py-2 text-xs font-semibold dark:border-slate-700 disabled:opacity-50",children:f===v.id?"Saving...":v.active?"Deactivate":"Activate"})})]},v.id))})]})})]})]})}function Gb(e){if(!e)return"-";const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleString()}function Xb(){const[e,t]=u.useState([]),[s,n]=u.useState(!0),[a,l]=u.useState(""),[o,i]=u.useState(""),[d,c]=u.useState("");u.useEffect(()=>{let x=!0;async function m(){n(!0),l("");try{const y=new URLSearchParams;o&&y.set("status",o);const v=await q(`/admin/sessions?${y.toString()}`);if(!x)return;t(Array.isArray(v==null?void 0:v.data)?v.data:[])}catch(y){if(!x)return;y instanceof fs&&y.status===404?l("Admin sessions endpoint not found (404). Restart backend so /api/v1/admin/sessions is available."):l(y.message??"Failed to load sessions")}finally{x&&n(!1)}}return m(),()=>{x=!1}},[o]);const f=u.useMemo(()=>{const x=d.trim().toLowerCase();return x?e.filter(m=>[m.id,m.qrId,m.homeId,m.doorId,m.homeownerId,m.visitor,m.status].join(" ").toLowerCase().includes(x)):e},[e,d]);return r.jsxs(ce,{title:"Admin Sessions",children:[a?r.jsx("div",{className:"mb-4 rounded-xl border border-danger/30 bg-danger/10 px-4 py-3 text-sm text-danger",children:a}):null,r.jsxs("section",{className:"rounded-2xl border border-slate-200 bg-white/90 p-4 shadow-soft dark:border-slate-800 dark:bg-slate-900/80 sm:p-5",children:[r.jsxs("div",{className:"mb-3 flex flex-wrap items-center justify-between gap-3",children:[r.jsx("h2",{className:"font-heading text-lg font-bold sm:text-xl",children:"Visitor Sessions"}),r.jsxs("div",{className:"flex w-full flex-col gap-2 sm:w-auto sm:flex-row sm:items-center",children:[r.jsxs("select",{value:o,onChange:x=>i(x.target.value),className:"rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm dark:border-slate-700 dark:bg-slate-900",children:[r.jsx("option",{value:"",children:"All status"}),r.jsx("option",{value:"pending",children:"Pending"}),r.jsx("option",{value:"approved",children:"Approved"}),r.jsx("option",{value:"rejected",children:"Rejected"}),r.jsx("option",{value:"closed",children:"Closed"}),r.jsx("option",{value:"completed",children:"Completed"})]}),r.jsx("input",{value:d,onChange:x=>c(x.target.value),placeholder:"Search session, visitor, ids...",className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm dark:border-slate-700 dark:bg-slate-900 sm:w-80"})]})]}),s?r.jsx("p",{className:"text-sm text-slate-500",children:"Loading sessions..."}):f.length===0?r.jsx("p",{className:"text-sm text-slate-500",children:"No sessions found."}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full min-w-[980px] text-left text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-slate-200 text-slate-500 dark:border-slate-700",children:[r.jsx("th",{className:"py-2 font-semibold",children:"Visitor"}),r.jsx("th",{className:"py-2 font-semibold",children:"Status"}),r.jsx("th",{className:"py-2 font-semibold",children:"QR"}),r.jsx("th",{className:"py-2 font-semibold",children:"Door"}),r.jsx("th",{className:"py-2 font-semibold",children:"Homeowner"}),r.jsx("th",{className:"py-2 font-semibold",children:"Started"}),r.jsx("th",{className:"py-2 font-semibold",children:"Ended"})]})}),r.jsx("tbody",{children:f.slice(0,300).map(x=>r.jsxs("tr",{className:"border-b border-slate-100 dark:border-slate-800",children:[r.jsx("td",{className:"py-2 font-semibold",children:x.visitor||"-"}),r.jsx("td",{className:"py-2",children:x.status}),r.jsx("td",{className:"py-2 font-mono text-xs",children:x.qrId}),r.jsx("td",{className:"py-2 font-mono text-xs",children:x.doorId}),r.jsx("td",{className:"py-2 font-mono text-xs",children:x.homeownerId}),r.jsx("td",{className:"py-2",children:Nc(x.startedAt)}),r.jsx("td",{className:"py-2",children:Nc(x.endedAt)})]},x.id))})]})})]})]})}function Nc(e){if(!e)return"-";const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleString()}function Zb(){const[e,t]=u.useState(null),[s,n]=u.useState(!0),[a,l]=u.useState("");return u.useEffect(()=>{let o=!0;async function i(){n(!0),l("");try{const d=await q("/admin/config");if(!o)return;t((d==null?void 0:d.data)??null)}catch(d){if(!o)return;d instanceof fs&&d.status===404?l("Admin config endpoint not found (404). Restart backend so /api/v1/admin/config is available."):l(d.message??"Failed to load config")}finally{o&&n(!1)}}return i(),()=>{o=!1}},[]),r.jsxs(ce,{title:"Admin Config",children:[a?r.jsx("div",{className:"mb-4 rounded-xl border border-danger/30 bg-danger/10 px-4 py-3 text-sm text-danger",children:a}):null,r.jsxs("section",{className:"rounded-2xl border border-slate-200 bg-white/90 p-4 shadow-soft dark:border-slate-800 dark:bg-slate-900/80 sm:p-5",children:[r.jsx("h2",{className:"font-heading text-lg font-bold sm:text-xl",children:"Runtime Config"}),r.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Read-only status of backend configuration."}),s?r.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Loading..."}):e?r.jsxs("div",{className:"mt-4 grid gap-3 sm:grid-cols-2",children:[r.jsx(gs,{label:"Environment",value:String(e.environment)}),r.jsx(gs,{label:"Debug",value:e.debug?"true":"false"}),r.jsx(gs,{label:"Paystack Configured",value:e.paystackConfigured?"true":"false"}),r.jsx(gs,{label:"VAPID Configured",value:e.vapidConfigured?"true":"false"}),r.jsx(gs,{label:"Admin Signup Key Set",value:e.adminSignupKeySet?"true":"false"}),r.jsx(gs,{label:"Frontend Base URL",value:String(e.frontendBaseUrl),mono:!0})]}):r.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"No data."})]})]})}function gs({label:e,value:t,mono:s}){return r.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-3 dark:border-slate-700 dark:bg-slate-800",children:[r.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:e}),r.jsx("p",{className:`mt-1 text-sm font-semibold ${s?"font-mono text-xs":""}`,children:t})]})}function ey(){const[e,t]=u.useState([]),[s,n]=u.useState(!0),[a,l]=u.useState("");return u.useEffect(()=>{let o=!0;async function i(){n(!0),l("");try{const d=await q("/admin/audit");if(!o)return;t(Array.isArray(d==null?void 0:d.data)?d.data:[])}catch(d){if(!o)return;d instanceof fs&&d.status===404?l("Admin audit endpoint not found (404). Restart backend so /api/v1/admin/audit is available."):l(d.message??"Failed to load audit logs")}finally{o&&n(!1)}}return i(),()=>{o=!1}},[]),r.jsxs(ce,{title:"Admin Audit",children:[a?r.jsx("div",{className:"mb-4 rounded-xl border border-danger/30 bg-danger/10 px-4 py-3 text-sm text-danger",children:a}):null,r.jsxs("section",{className:"rounded-2xl border border-slate-200 bg-white/90 p-4 shadow-soft dark:border-slate-800 dark:bg-slate-900/80 sm:p-5",children:[r.jsx("h2",{className:"font-heading text-lg font-bold sm:text-xl",children:"Audit Log"}),r.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Records admin actions like user toggles, subscription activations, and message deletes."}),s?r.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Loading audit logs..."}):e.length===0?r.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"No audit entries yet."}):r.jsx("div",{className:"mt-4 overflow-x-auto",children:r.jsxs("table",{className:"w-full min-w-[980px] text-left text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-slate-200 text-slate-500 dark:border-slate-700",children:[r.jsx("th",{className:"py-2 font-semibold",children:"Time"}),r.jsx("th",{className:"py-2 font-semibold",children:"Action"}),r.jsx("th",{className:"py-2 font-semibold",children:"Resource"}),r.jsx("th",{className:"py-2 font-semibold",children:"Actor"}),r.jsx("th",{className:"py-2 font-semibold",children:"Meta"})]})}),r.jsx("tbody",{children:e.slice(0,300).map(o=>r.jsxs("tr",{className:"border-b border-slate-100 dark:border-slate-800",children:[r.jsx("td",{className:"py-2",children:ty(o.createdAt)}),r.jsx("td",{className:"py-2 font-semibold",children:o.action}),r.jsxs("td",{className:"py-2",children:[r.jsx("span",{className:"font-mono text-xs",children:o.resourceType}),o.resourceId?r.jsx("span",{className:"ml-2 font-mono text-xs text-slate-500",children:o.resourceId}):null]}),r.jsx("td",{className:"py-2 font-mono text-xs",children:o.actorUserId||"-"}),r.jsx("td",{className:"py-2 font-mono text-xs text-slate-500",children:sy(o.meta||"",120)})]},o.id))})]})})]})]})}function ty(e){if(!e)return"-";const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleString()}function sy(e,t){const s=String(e??"");return s.length<=t?s:`${s.slice(0,t)}...`}function ry(){const{qrId:e}=za(),t=Ge(),[s,n]=u.useState(!0),[a,l]=u.useState(""),[o,i]=u.useState(null),[d,c]=u.useState(""),[f,x]=u.useState({sending:!1,sent:!1,sessionId:"",status:""}),[m,y]=u.useState(0),[v,k]=u.useState({name:"",purpose:""}),[S,g]=u.useState(!1);u.useEffect(()=>{let N=!0;return(async()=>{var A;n(!0),l("");try{const I=await q(`/qr/resolve/${e}`),Q=(I==null?void 0:I.data)??I;if(!N)return;i(Q),c(((A=Q==null?void 0:Q.doors)==null?void 0:A[0])??"")}catch(I){if(!N)return;l(I.message??"QR could not be resolved")}finally{N&&n(!1)}})(),()=>{N=!1}},[e]),u.useEffect(()=>{if(!f.sent)return;const N=setInterval(()=>y(T=>T+1),1e3);return()=>clearInterval(N)},[f.sent]),u.useEffect(()=>{if(!f.sent||!f.sessionId)return;let N=!0;const T=setInterval(async()=>{try{const A=await sg(f.sessionId);if(!N||!(A!=null&&A.status))return;x(I=>({...I,status:A.status}))}catch{}},3e3);return()=>{N=!1,clearInterval(T)}},[f.sent,f.sessionId]);const h=async N=>{N.preventDefault(),l(""),x(T=>({...T,sending:!0}));try{const T=await q("/visitor/request",{method:"POST",body:JSON.stringify({qrId:e,doorId:d,name:v.name,purpose:v.purpose})}),A=(T==null?void 0:T.data)??T;x({sending:!1,sent:!0,sessionId:(A==null?void 0:A.sessionId)??"",status:(A==null?void 0:A.status)??"pending"})}catch(T){x(A=>({...A,sending:!1})),l(T.message??"Request failed")}},p=(o==null?void 0:o.doorOptions)??[],b=p.find(N=>N.id===d)??null,C=u.useMemo(()=>`${Math.floor(m/60)}:${String(m%60).padStart(2,"0")}`,[m]);function P(){g(!0)}function _(N){f.sessionId&&(g(!1),t(`/session/${f.sessionId}/${N}`))}return r.jsxs("div",{className:"grid min-h-screen place-items-center bg-slate-50 p-4 dark:bg-slate-950",children:[r.jsxs("article",{className:"w-full max-w-lg rounded-3xl border border-slate-200 bg-white/90 p-7 shadow-soft dark:border-slate-800 dark:bg-slate-900/80",children:[r.jsx("h1",{className:"font-heading text-3xl font-bold",children:"Qring Visitor Access"}),r.jsxs("p",{className:"mt-2 text-sm text-slate-500",children:["QR ID: ",e]}),s?r.jsx("p",{className:"mt-5 text-sm",children:"Resolving secure QR route..."}):null,a?r.jsx("p",{className:"mt-5 text-sm text-danger",children:a}):null,!s&&o&&!f.sent?r.jsxs("form",{onSubmit:h,className:"mt-6 space-y-4",children:[r.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:"Select the door and submit your entry request."}),r.jsxs("label",{className:"block text-sm",children:[r.jsx("span",{className:"mb-1 block font-medium",children:"Your Name"}),r.jsx("input",{type:"text",value:v.name,onChange:N=>k(T=>({...T,name:N.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-3 dark:border-slate-700 dark:bg-slate-900",placeholder:"e.g. John Doe",required:!0})]}),r.jsxs("label",{className:"block text-sm",children:[r.jsx("span",{className:"mb-1 block font-medium",children:"Purpose of Visit"}),r.jsx("textarea",{value:v.purpose,onChange:N=>k(T=>({...T,purpose:N.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-3 dark:border-slate-700 dark:bg-slate-900",placeholder:"e.g. Package delivery",rows:3,required:!0})]}),r.jsxs("label",{className:"block text-sm",children:[r.jsx("span",{className:"mb-1 block font-medium",children:"Door"}),r.jsx("select",{value:d,onChange:N=>c(N.target.value),className:"w-full rounded-xl border border-slate-300 px-3 py-3 dark:border-slate-700 dark:bg-slate-900",children:(p.length?p:(o.doors??[]).map(N=>({id:N,name:N}))).map(N=>r.jsx("option",{value:N.id,children:N.name},N.id))})]}),b?r.jsxs("p",{className:"text-xs text-slate-500",children:["Home: ",b.homeName||"N/A"," | Homeowner: ",b.homeownerName||"N/A"]}):null,r.jsx("button",{type:"submit",disabled:f.sending,className:"w-full rounded-xl bg-brand-500 px-4 py-3 text-sm font-semibold text-white disabled:opacity-50",children:f.sending?"Submitting...":"Request Access"})]}):null,f.sent?r.jsxs("div",{className:"mt-6 rounded-2xl bg-slate-100 p-4 dark:bg-slate-800",children:[r.jsx("p",{className:"text-sm font-semibold",children:f.status==="approved"?"Request approved":f.status==="rejected"?"Request rejected by homeowner":"Waiting for homeowner approval"}),r.jsxs("p",{className:"mt-1 text-xs text-slate-500",children:["Timer: ",C]}),f.sessionId&&f.status==="approved"?r.jsx("button",{type:"button",onClick:P,className:"mt-4 inline-block rounded-lg bg-brand-500 px-4 py-2 text-xs font-semibold text-white",children:"Open Session"}):null,f.status==="rejected"?r.jsx("p",{className:"mt-3 text-xs font-semibold text-danger",children:"You can retry another request or contact the resident."}):null]}):null]}),r.jsx(bh,{open:S,sessionId:f.sessionId,onClose:()=>g(!1),onSelect:_})]})}const Sc=[{key:"message",label:"Messages"},{key:"audio",label:"Audio"},{key:"video",label:"Video"}];function ny({sessionId:e}){return r.jsxs(r.Fragment,{children:[r.jsx("aside",{className:"hidden lg:col-span-3 lg:block",children:r.jsxs("section",{className:"sticky top-6 rounded-3xl border border-slate-200/80 bg-white/85 p-4 shadow-soft backdrop-blur",children:[r.jsx("p",{className:"mb-2 text-xs font-semibold uppercase tracking-[0.15em] text-slate-500",children:"Session Pages"}),r.jsx("nav",{className:"space-y-2",children:Sc.map(t=>r.jsx(ya,{to:`/session/${e}/${t.key}`,className:({isActive:s})=>`block rounded-xl px-3 py-2 text-sm font-semibold transition ${s?"bg-slate-900 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:t.label},t.key))})]})}),r.jsx("nav",{className:"fixed bottom-3 left-1/2 z-30 w-[min(96vw,520px)] -translate-x-1/2 rounded-2xl border border-slate-200 bg-white/95 p-2 shadow-soft backdrop-blur lg:hidden",children:r.jsx("div",{className:"grid grid-cols-3 gap-2",children:Sc.map(t=>r.jsx(ya,{to:`/session/${e}/${t.key}`,className:({isActive:s})=>`rounded-xl px-2 py-2 text-center text-xs font-semibold ${s?"bg-slate-900 text-white":"bg-slate-100 text-slate-700"}`,children:t.label},t.key))})})]})}const ay={iceServers:[{urls:"stun:stun.l.google.com:19302"}]};function Di(e){var U;const t=localStorage.getItem("qring_access_token"),s=u.useMemo(()=>{try{return JSON.parse(localStorage.getItem("qring_user")||"null")}catch{return null}},[]),n=(s==null?void 0:s.fullName)||"Visitor",[a,l]=u.useState(!1),[o,i]=u.useState(!1),[d,c]=u.useState("idle"),[f,x]=u.useState(!1),[m,y]=u.useState(!1),[v,k]=u.useState([]),[S,g]=u.useState(""),h=u.useRef(null),p=u.useRef(null),b=u.useRef(null),C=u.useRef(null),P=u.useRef(null),_=u.useRef([]),N=u.useRef(!1),T=typeof window<"u"&&typeof window.RTCPeerConnection<"u",A=typeof navigator<"u"&&typeof((U=navigator.mediaDevices)==null?void 0:U.getUserMedia)=="function",I=typeof window>"u"?!0:window.isSecureContext,Q=u.useMemo(()=>T?I?A?"":"Camera/microphone APIs are unavailable in this browser.":"Camera and microphone require HTTPS on network devices. Open the app with HTTPS or localhost.":"This browser does not support WebRTC calls.",[I,A,T]);function W(E){return(s==null?void 0:s.role)==="homeowner"?E==="homeowner":s!=null&&s.role?E===s.role:E!=="homeowner"}function pe(E){const R=(E==null?void 0:E.senderType)||null;return{id:(E==null?void 0:E.id)||null,text:(E==null?void 0:E.text)||"",displayName:(E==null?void 0:E.displayName)||"Participant",senderType:R,at:(E==null?void 0:E.at)||new Date().toISOString(),mine:R!==null?W(R):(E==null?void 0:E.displayName)===n}}function he(){if(p.current)return p.current;const E=new RTCPeerConnection(ay);return E.ontrack=R=>{P.current&&(P.current.srcObject=R.streams[0],P.current.play().catch(()=>{}))},E.onicecandidate=R=>{!R.candidate||!h.current||h.current.emit("webrtc.ice",{sessionId:e,candidate:R.candidate})},E.onconnectionstatechange=()=>{const R=E.connectionState;R==="connected"&&c("connected"),(R==="failed"||R==="disconnected"||R==="closed")&&c("ended")},p.current=E,E}async function L({video:E}){if(Q)throw new Error(Q);if(b.current){const Ae=!!E;if(b.current.getVideoTracks().length>0===Ae)return b.current;b.current.getTracks().forEach(Xr=>Xr.stop()),b.current=null}const R=await navigator.mediaDevices.getUserMedia({audio:!0,video:!!E});b.current=R,C.current&&(C.current.srcObject=R,C.current.muted=!0,C.current.play().catch(()=>{}));const V=he();return V.getSenders().forEach(Ae=>{Ae.track&&V.removeTrack(Ae)}),R.getTracks().forEach(Ae=>V.addTrack(Ae,R)),y(!!E),c("ready"),R}async function H({video:E}){var R;try{if(g(""),Q){g(Q);return}if(!o){g("Joining session room...");return}await L({video:E});const V=he();N.current=!0;const Z=await V.createOffer();await V.setLocalDescription(Z),(R=h.current)==null||R.emit("webrtc.offer",{sessionId:e,sdp:Z}),c("ringing")}catch(V){g((V==null?void 0:V.message)??"Unable to start call")}finally{N.current=!1}}function M(){H({video:!1})}function D(){H({video:!0})}async function z(E){const R=he();await R.setRemoteDescription(new RTCSessionDescription(E));for(const V of _.current)try{await R.addIceCandidate(new RTCIceCandidate(V))}catch{}_.current=[]}function Y(E){const R=(E||"").trim();return!R||!h.current||!o?!1:(h.current.emit("chat.message",{sessionId:e,text:R,displayName:n}),!0)}function w(){var R;if(!b.current)return;const E=!f;b.current.getAudioTracks().forEach(V=>{V.enabled=!E}),x(E),(R=h.current)==null||R.emit("session.control",{sessionId:e,action:E?"mute":"unmute"})}function $(E=!0){var R;E&&((R=h.current)==null||R.emit("session.control",{sessionId:e,action:"end"})),p.current&&(p.current.getSenders().forEach(V=>{V.track&&V.track.stop()}),p.current.close(),p.current=null),b.current&&(b.current.getTracks().forEach(V=>V.stop()),b.current=null),C.current&&(C.current.srcObject=null),P.current&&(P.current.srcObject=null),c("ended"),y(!1),x(!1)}return u.useEffect(()=>{let E=!0;return(async()=>{try{const V=await rg(e);if(!E)return;k(V.map(Z=>pe(Z)))}catch{E&&g(V=>V||"Unable to load message history")}})(),()=>{E=!1}},[e]),u.useEffect(()=>{const E=Ds(`${at.socketUrl}${at.signalingNamespace}`,{path:at.socketPath,transports:["websocket","polling"],auth:t?{token:t}:void 0,withCredentials:!0});return h.current=E,E.on("connect",()=>{l(!0),E.emit("session.join",{sessionId:e,displayName:n})}),E.on("disconnect",()=>{l(!1),i(!1)}),E.on("connect_error",R=>{g((R==null?void 0:R.message)??"Socket connection failed")}),E.on("session.joined",R=>{R!=null&&R.sid&&(i(!0),g("Session connected"))}),E.on("session.participant_joined",async()=>{var R;if(!N.current&&(g("Participant joined"),b.current&&((R=p.current)==null?void 0:R.signalingState)==="stable"))try{N.current=!0;const V=await p.current.createOffer();await p.current.setLocalDescription(V),E.emit("webrtc.offer",{sessionId:e,sdp:V}),c("ringing")}catch{}finally{N.current=!1}}),E.on("session.participant_left",()=>g("Participant left")),E.on("webrtc.offer",async R=>{var V;if((R==null?void 0:R.sessionId)===e)try{const Z=typeof((V=R==null?void 0:R.sdp)==null?void 0:V.sdp)=="string"&&R.sdp.sdp.includes("m=video");try{await L({video:Z})}catch{he()}await z(R.sdp);const Ae=he(),Et=await Ae.createAnswer();await Ae.setLocalDescription(Et),E.emit("webrtc.answer",{sessionId:e,sdp:Et}),c("connected")}catch(Z){g((Z==null?void 0:Z.message)??"Failed to handle incoming call")}}),E.on("webrtc.answer",async R=>{if((R==null?void 0:R.sessionId)===e)try{await z(R.sdp),c("connected")}catch(V){g((V==null?void 0:V.message)??"Failed to establish call")}}),E.on("webrtc.ice",async R=>{if((R==null?void 0:R.sessionId)!==e)return;const V=R==null?void 0:R.candidate;if(!V)return;const Z=he();if(Z.remoteDescription)try{await Z.addIceCandidate(new RTCIceCandidate(V))}catch{}else _.current.push(V)}),E.on("chat.message",R=>{if((R==null?void 0:R.sessionId)!==e)return;const V=pe(R);k(Z=>V.id&&Z.some(Ae=>Ae.id&&Ae.id===V.id)?Z:[...Z,V])}),E.on("session.control",R=>{if((R==null?void 0:R.sessionId)!==e)return;const V=R==null?void 0:R.action;V==="mute"&&g("Other participant muted microphone"),V==="unmute"&&g("Other participant unmuted microphone"),V==="end"&&(g("Call ended by participant"),$(!1))}),()=>{E.disconnect(),$(!1)}},[e,n,t]),{connected:a,joined:o,callState:d,muted:f,cameraOn:m,messages:v,status:S,featureError:Q,localVideoRef:C,remoteVideoRef:P,localStreamRef:b,sendMessage:Y,toggleMute:w,endCall:$,startAudioCall:M,startVideoCall:D}}function ly(){const{sessionId:e}=za(),[t,s]=u.useState(""),{connected:n,joined:a,callState:l,messages:o,status:i,featureError:d,sendMessage:c}=Di(e);function f(x){x.preventDefault(),c(t)&&s("")}return r.jsx("div",{className:"min-h-screen bg-[radial-gradient(circle_at_top_left,_#fef3c7_0,_#f8fafc_38%,_#e0f2fe_72%,_#dbeafe_100%)] p-4 text-slate-900",children:r.jsxs("div",{className:"mx-auto w-full max-w-7xl py-6",children:[r.jsxs("header",{className:"mb-4 rounded-3xl border border-slate-200/80 bg-white/80 p-5 shadow-soft backdrop-blur",children:[r.jsx("h1",{className:"font-heading text-2xl font-black md:text-3xl",children:"Session Messages"}),r.jsxs("p",{className:"mt-1 text-xs text-slate-500",children:["Session ",e," | ",n?"Signaling Online":"Connecting"," |"," ",a?"Room Joined":"Waiting Room"," | Call: ",l]}),d?r.jsx("p",{className:"mt-2 text-sm text-rose-700",children:d}):null,i?r.jsx("p",{className:"mt-2 text-sm text-amber-700",children:i}):null]}),r.jsxs("div",{className:"grid gap-4 lg:grid-cols-12",children:[r.jsx(ny,{sessionId:e}),r.jsx("section",{className:"space-y-4 lg:col-span-9",children:r.jsxs("article",{className:"rounded-3xl border border-slate-200/80 bg-white/90 p-4 shadow-soft",children:[r.jsx("h2",{className:"font-heading text-lg font-bold",children:"Conversation"}),r.jsxs("div",{className:"mt-3 max-h-[28rem] space-y-2 overflow-y-auto rounded-2xl bg-slate-100/90 p-3",children:[o.map(x=>r.jsxs("div",{className:`max-w-[85%] rounded-xl px-3 py-2 text-sm ${x.mine?"ml-auto bg-cyan-600 text-white":"bg-white text-slate-700"}`,children:[r.jsx("p",{className:"text-[11px] font-semibold",children:x.displayName}),r.jsx("p",{children:x.text})]},x.id||`${x.at}-${x.text}`)),o.length===0?r.jsx("p",{className:"text-xs text-slate-500",children:"No messages yet."}):null]}),r.jsxs("form",{onSubmit:f,className:"mt-3 flex gap-2",children:[r.jsx("input",{value:t,onChange:x=>s(x.target.value),className:"w-full rounded-xl border border-slate-300 bg-white px-3 py-3 text-sm",placeholder:"Type a message"}),r.jsx("button",{type:"submit",className:"rounded-xl bg-slate-900 px-4 py-3 text-sm font-semibold text-white",children:"Send"})]})]})})]})]})})}function oy(){const{sessionId:e}=za(),{connected:t,joined:s,callState:n,muted:a,localStreamRef:l,status:o,featureError:i,toggleMute:d,endCall:c,startAudioCall:f}=Di(e);return r.jsx("div",{className:"min-h-screen bg-[radial-gradient(circle_at_top,_#dcfce7_0,_#f8fafc_48%,_#e2e8f0_100%)] p-4 text-slate-900",children:r.jsxs("div",{className:"mx-auto w-full max-w-4xl py-6",children:[r.jsxs("header",{className:"mb-4 flex items-center justify-between rounded-3xl border border-slate-200/80 bg-white/85 p-4 shadow-soft",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"font-heading text-2xl font-black",children:"Audio Call"}),r.jsxs("p",{className:"text-xs text-slate-500",children:["Session ",e]})]}),r.jsx(j,{to:"/dashboard",className:"rounded-xl bg-slate-900 px-4 py-2 text-xs font-semibold text-white",children:"Go Back Home"})]}),r.jsxs("section",{className:"rounded-3xl border border-slate-200/80 bg-white/90 p-6 shadow-soft",children:[r.jsxs("div",{className:"rounded-2xl bg-slate-900 p-8 text-center text-white",children:[r.jsx("div",{className:"mx-auto h-32 w-32 rounded-full bg-emerald-500/20 p-2",children:r.jsx("div",{className:"grid h-full place-items-center rounded-full bg-emerald-500 text-lg font-bold",children:"AUDIO"})}),r.jsx("p",{className:"mt-4 text-sm font-semibold",children:a?"Microphone Muted":"Microphone Active"}),r.jsxs("p",{className:"mt-1 text-xs text-slate-300",children:[t?"Signaling Online":"Connecting"," | ",s?"Room Joined":"Waiting Room"," | Call:"," ",n]}),r.jsx("p",{className:"mt-1 text-xs text-slate-300",children:l.current?"Audio stream connected":"Start call to connect microphone"})]}),i?r.jsx("p",{className:"mt-3 text-sm text-rose-700",children:i}):null,o?r.jsx("p",{className:"mt-2 text-sm text-amber-700",children:o}):null,r.jsxs("div",{className:"mt-5 grid grid-cols-3 gap-3",children:[r.jsx("button",{type:"button",onClick:f,disabled:!!i,className:"rounded-xl bg-emerald-600 px-3 py-3 text-xs font-semibold text-white disabled:opacity-50",children:"Start"}),r.jsx("button",{type:"button",onClick:d,disabled:!l.current,className:"rounded-xl bg-amber-500 px-3 py-3 text-xs font-semibold text-white disabled:opacity-50",children:a?"Unmute":"Mute"}),r.jsx("button",{type:"button",onClick:c,className:"rounded-xl bg-rose-600 px-3 py-3 text-xs font-semibold text-white",children:"End"})]})]})]})})}function iy(){const{sessionId:e}=za(),{connected:t,joined:s,callState:n,muted:a,localStreamRef:l,status:o,featureError:i,localVideoRef:d,remoteVideoRef:c,toggleMute:f,endCall:x,startVideoCall:m}=Di(e);return r.jsx("div",{className:"min-h-screen bg-[radial-gradient(circle_at_top_left,_#dbeafe_0,_#f8fafc_42%,_#e2e8f0_100%)] p-4 text-slate-900",children:r.jsxs("div",{className:"mx-auto w-full max-w-6xl py-6",children:[r.jsxs("header",{className:"mb-4 flex items-center justify-between rounded-3xl border border-slate-200/80 bg-white/85 p-4 shadow-soft",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"font-heading text-2xl font-black",children:"Video Call"}),r.jsxs("p",{className:"text-xs text-slate-500",children:["Session ",e]})]}),r.jsx(j,{to:"/dashboard",className:"rounded-xl bg-slate-900 px-4 py-2 text-xs font-semibold text-white",children:"Go Back Home"})]}),r.jsxs("section",{className:"rounded-3xl border border-slate-200/80 bg-white/90 p-3 shadow-soft",children:[r.jsxs("article",{className:"relative overflow-hidden rounded-2xl bg-black",children:[r.jsx("video",{ref:c,autoPlay:!0,playsInline:!0,className:"h-[480px] w-full rounded-2xl bg-slate-950 object-cover"}),r.jsx("video",{ref:d,autoPlay:!0,playsInline:!0,className:"absolute bottom-4 right-4 h-32 w-48 rounded-xl border-2 border-white/70 bg-slate-900 object-cover shadow-lg"})]}),r.jsxs("div",{className:"mt-3 rounded-2xl bg-slate-900 px-4 py-3 text-xs text-slate-200",children:[t?"Signaling Online":"Connecting"," | ",s?"Room Joined":"Waiting Room"," | Call:"," ",n," | ",l.current?"Media ready":"Media not started"]}),i?r.jsx("p",{className:"mt-2 text-sm text-rose-700",children:i}):null,o?r.jsx("p",{className:"mt-2 text-sm text-amber-700",children:o}):null,r.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-3",children:[r.jsx("button",{type:"button",onClick:m,disabled:!!i,className:"rounded-xl bg-cyan-600 px-3 py-3 text-xs font-semibold text-white disabled:opacity-50",children:"Start Video"}),r.jsx("button",{type:"button",onClick:f,disabled:!l.current,className:"rounded-xl bg-amber-500 px-3 py-3 text-xs font-semibold text-white disabled:opacity-50",children:a?"Unmute":"Mute"}),r.jsx("button",{type:"button",onClick:x,className:"rounded-xl bg-rose-600 px-3 py-3 text-xs font-semibold text-white",children:"End"})]})]})]})})}function dy(){return r.jsx("div",{className:"grid min-h-screen place-items-center bg-slate-50 p-4 dark:bg-slate-950",children:r.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-8 text-center shadow-soft dark:border-slate-800 dark:bg-slate-900",children:[r.jsx("h1",{className:"font-heading text-3xl font-bold",children:"Access Restricted"}),r.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"You do not have permission to view this route."}),r.jsx(j,{to:"/",className:"mt-5 inline-block rounded-xl bg-brand-500 px-5 py-2 text-sm font-semibold text-white",children:"Return Home"})]})})}function cy(){return r.jsx("div",{className:"grid min-h-screen place-items-center bg-slate-50 p-4 dark:bg-slate-950",children:r.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-8 text-center shadow-soft dark:border-slate-800 dark:bg-slate-900",children:[r.jsx("h1",{className:"font-heading text-3xl font-bold",children:"404"}),r.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Page not found."}),r.jsx(j,{to:"/",className:"mt-5 inline-block rounded-xl bg-brand-500 px-5 py-2 text-sm font-semibold text-white",children:"Go to Landing Page"})]})})}function uy(){const{isAuthenticated:e}=Xt(),t=xt(),s=!!localStorage.getItem("qring_access_token");return!e||!s?r.jsx(Cr,{to:"/login",replace:!0,state:{from:t}}):r.jsx(Ym,{})}function Rn({allowedRoles:e}){const{user:t}=Xt();return!(t!=null&&t.role)||!e.includes(t.role)?r.jsx(Cr,{to:"/unauthorized",replace:!0}):r.jsx(Ym,{})}function my(){return r.jsx(np,{children:r.jsx($p,{children:r.jsx(Xx,{children:r.jsxs(qx,{children:[r.jsx(F,{path:"/",element:r.jsx(fp,{})}),r.jsx(F,{path:"/about",element:r.jsx(bp,{})}),r.jsx(F,{path:"/pricing",element:r.jsx(kp,{})}),r.jsx(F,{path:"/contact",element:r.jsx(jp,{})}),r.jsx(F,{path:"/platform",element:r.jsx(Np,{})}),r.jsx(F,{path:"/security",element:r.jsx(Sp,{})}),r.jsx(F,{path:"/api-docs",element:r.jsx(Cp,{})}),r.jsx(F,{path:"/company",element:r.jsx(Ep,{})}),r.jsx(F,{path:"/blog",element:r.jsx(Pp,{})}),r.jsx(F,{path:"/careers",element:r.jsx(_p,{})}),r.jsx(F,{path:"/legal",element:r.jsx(Rp,{})}),r.jsx(F,{path:"/privacy",element:r.jsx(Tp,{})}),r.jsx(F,{path:"/terms",element:r.jsx(Ap,{})}),r.jsx(F,{path:"/compliance",element:r.jsx(Lp,{})}),r.jsx(F,{path:"/login",element:r.jsx(qp,{})}),r.jsx(F,{path:"/admin/login",element:r.jsx(Qp,{})}),r.jsx(F,{path:"/admin/signup",element:r.jsx(Hp,{})}),r.jsx(F,{path:"/signup",element:r.jsx(Vp,{})}),r.jsx(F,{path:"/forgot-password",element:r.jsx(Wp,{})}),r.jsx(F,{path:"/scan/:qrId",element:r.jsx(ry,{})}),r.jsx(F,{path:"/session/:sessionId",element:r.jsx(Cr,{to:"message",replace:!0})}),r.jsx(F,{path:"/session/:sessionId/message",element:r.jsx(ly,{})}),r.jsx(F,{path:"/session/:sessionId/audio",element:r.jsx(oy,{})}),r.jsx(F,{path:"/session/:sessionId/video",element:r.jsx(iy,{})}),r.jsxs(F,{element:r.jsx(uy,{}),children:[r.jsxs(F,{element:r.jsx(Rn,{allowedRoles:["homeowner","estate"]}),children:[r.jsx(F,{path:"/billing/paywall",element:r.jsx(jb,{})}),r.jsx(F,{path:"/billing/callback",element:r.jsx(Nb,{})})]}),r.jsxs(F,{element:r.jsx(Rn,{allowedRoles:["homeowner"]}),children:[r.jsx(F,{path:"/dashboard/homeowner",element:r.jsx(Cr,{to:"/dashboard/homeowner/overview",replace:!0})}),r.jsx(F,{path:"/dashboard/homeowner/overview",element:r.jsx(mb,{})}),r.jsx(F,{path:"/dashboard/homeowner/visits",element:r.jsx(pb,{})}),r.jsx(F,{path:"/dashboard/homeowner/messages",element:r.jsx(gb,{})}),r.jsx(F,{path:"/dashboard/homeowner/doors",element:r.jsx(bb,{})}),r.jsx(F,{path:"/dashboard/homeowner/settings",element:r.jsx(wb,{})})]}),r.jsxs(F,{element:r.jsx(Rn,{allowedRoles:["estate"]}),children:[r.jsx(F,{path:"/dashboard/estate",element:r.jsx(Db,{})}),r.jsx(F,{path:"/dashboard/estate/create",element:r.jsx(Bb,{})}),r.jsx(F,{path:"/dashboard/estate/doors",element:r.jsx(Ub,{})}),r.jsx(F,{path:"/dashboard/estate/assign",element:r.jsx($b,{})}),r.jsx(F,{path:"/dashboard/estate/invites",element:r.jsx(Fb,{})}),r.jsx(F,{path:"/dashboard/estate/mappings",element:r.jsx(qb,{})}),r.jsx(F,{path:"/dashboard/estate/logs",element:r.jsx(Qb,{})}),r.jsx(F,{path:"/dashboard/estate/plan",element:r.jsx(Hb,{})}),r.jsx(F,{path:"/dashboard/estate/homes",element:r.jsx(Vb,{})})]}),r.jsxs(F,{element:r.jsx(Rn,{allowedRoles:["admin"]}),children:[r.jsx(F,{path:"/dashboard/admin",element:r.jsx(Wb,{})}),r.jsx(F,{path:"/dashboard/admin/users",element:r.jsx(Kb,{})}),r.jsx(F,{path:"/dashboard/admin/sessions",element:r.jsx(Xb,{})}),r.jsx(F,{path:"/dashboard/admin/payments",element:r.jsx(Yb,{})}),r.jsx(F,{path:"/dashboard/admin/config",element:r.jsx(Zb,{})}),r.jsx(F,{path:"/dashboard/admin/audit",element:r.jsx(ey,{})})]})]}),r.jsx(F,{path:"/unauthorized",element:r.jsx(dy,{})}),r.jsx(F,{path:"/dashboard",element:r.jsx(Cr,{to:"/dashboard/homeowner/overview",replace:!0})}),r.jsx(F,{path:"*",element:r.jsx(cy,{})})]})})})})}_l.createRoot(document.getElementById("root")).render(r.jsx(Dc.StrictMode,{children:r.jsx(my,{})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js")});
